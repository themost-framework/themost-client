!function(Q){function U(B){if(F[B])return F[B].exports;var I=F[B]={i:B,l:!1,exports:{}};return Q[B].call(I.exports,I,I.exports,U),I.l=!0,I.exports}var F={};U.m=Q,U.c=F,U.d=function(Q,F,B){U.o(Q,F)||Object.defineProperty(Q,F,{configurable:!1,enumerable:!0,get:B})},U.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return U.d(F,"a",F),F},U.o=function(Q,U){return Object.prototype.hasOwnProperty.call(Q,U)},U.p="",U(U.s=2)}([function(module,exports){eval("module.exports = angular;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhbmd1bGFyXCI/MTFkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBhbmd1bGFyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiYW5ndWxhclwiXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar CodedError = /** @class */ (function (_super) {\n    __extends(CodedError, _super);\n    function CodedError(message, code) {\n        var _this = _super.call(this, message) || this;\n        _this.code = code;\n        return _this;\n    }\n    return CodedError;\n}(Error));\nexports.CodedError = CodedError;\nvar Base64 = /** @class */ (function () {\n    function Base64() {\n        this.PADCHAR = \'=\';\n        this.ALPHA = \'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\';\n    }\n    Base64.prototype.getByte = function (s, i) {\n        var x = s.charCodeAt(i);\n        return x;\n    };\n    Base64.prototype.getByte64 = function (s, i) {\n        var idx = this.ALPHA.indexOf(s.charAt(i));\n        return idx;\n    };\n    Base64.prototype.decode = function (s) {\n        var pads = 0, i, b10, imax = s.length, x = [];\n        s = String(s);\n        if (imax === 0) {\n            return s;\n        }\n        if (s.charAt(imax - 1) === this.PADCHAR) {\n            pads = 1;\n            if (s.charAt(imax - 2) === this.PADCHAR) {\n                pads = 2;\n            }\n            imax -= 4;\n        }\n        for (i = 0; i < imax; i += 4) {\n            b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12) | (this.getByte64(s, i + 2) << 6) | this.getByte64(s, i + 3);\n            x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255, b10 & 255));\n        }\n        switch (pads) {\n            case 1:\n                b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12) | (this.getByte64(s, i + 2) << 6);\n                x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255));\n                break;\n            case 2:\n                b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12);\n                x.push(String.fromCharCode(b10 >> 16));\n                break;\n        }\n        return x.join(\'\');\n    };\n    Base64.prototype.encode = function (s) {\n        s = String(s);\n        var i, b10, x = [], imax = s.length - s.length % 3;\n        if (s.length === 0) {\n            return s;\n        }\n        for (i = 0; i < imax; i += 3) {\n            b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8) | this.getByte(s, i + 2);\n            x.push(this.ALPHA.charAt(b10 >> 18));\n            x.push(this.ALPHA.charAt((b10 >> 12) & 63));\n            x.push(this.ALPHA.charAt((b10 >> 6) & 63));\n            x.push(this.ALPHA.charAt(b10 & 63));\n        }\n        switch (s.length - imax) {\n            case 1:\n                b10 = this.getByte(s, i) << 16;\n                x.push(this.ALPHA.charAt(b10 >> 18) + this.ALPHA.charAt((b10 >> 12) & 63) + this.PADCHAR + this.PADCHAR);\n                break;\n            case 2:\n                b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8);\n                x.push(this.ALPHA.charAt(b10 >> 18) + this.ALPHA.charAt((b10 >> 12) & 63) + this.ALPHA.charAt((b10 >> 6) & 63) + this.PADCHAR);\n                break;\n        }\n        return x.join(\'\');\n    };\n    return Base64;\n}());\nexports.Base64 = Base64;\nvar TextUtils = /** @class */ (function () {\n    function TextUtils() {\n    }\n    TextUtils.isNotEmptyString = function (s) {\n        return (s != null) && (s != undefined) && (s.length > 0);\n    };\n    TextUtils.isNullOrUndefined = function (s) {\n        return (s != null) && (s != undefined);\n    };\n    TextUtils.zeroPad = function (num, length) {\n        num = num || 0;\n        var res = num.toString();\n        while (res.length < length) {\n            res = \'0\' + res;\n        }\n        return res;\n    };\n    TextUtils.isDate = function (s) {\n        if (typeof s === "string") {\n            return TextUtils.REG_DATETIME_ISO.test(s);\n        }\n        return false;\n    };\n    TextUtils.parseDate = function (s) {\n        if (TextUtils.isDate(s)) {\n            return new Date(s);\n        }\n        return;\n    };\n    /**\n     * Encodes the given string to Base-64 format\n     * @param {string} s - A string to encode\n     * @returns {string}\n     */\n    TextUtils.toBase64 = function (s) {\n        var cv = new Base64();\n        return cv.encode(s);\n    };\n    /**\n     * Decodes the given string from Base-64 format\n     * @param {string} s - A base-64 encoded string\n     * @returns {string}\n     */\n    TextUtils.fromBase64 = function (s) {\n        var cv = new Base64();\n        return cv.decode(s);\n    };\n    TextUtils.format = function (s) {\n        var p = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            p[_i - 1] = arguments[_i];\n        }\n        var i = 0;\n        return s.replace(/%[sdfj%]/g, function (x) {\n            if (x === "%%")\n                return "%";\n            if (i >= p.length)\n                return x;\n            var p1 = p[i++];\n            if (((p1 == null) && (p1 == undefined))) {\n                return "";\n            }\n            switch (x) {\n                case "%s":\n                    return p1.toString();\n                case "%d":\n                    return parseInt(p1);\n                case "%f":\n                    return parseFloat(p1);\n                case "%j":\n                    return JSON.stringify(p1);\n                default:\n                    return x;\n            }\n        });\n    };\n    TextUtils.REG_DATETIME_ISO = /^(\\d{4})(?:-?W(\\d+)(?:-?(\\d+)D?)?|(?:-(\\d+))?-(\\d+))(?:[T ](\\d+):(\\d+)(?::(\\d+)(?:\\.(\\d+))?)?)?(?:Z(-?\\d*))?([+-](\\d+):(\\d+))?$/;\n    return TextUtils;\n}());\nexports.TextUtils = TextUtils;\nvar Args = /** @class */ (function () {\n    function Args() {\n    }\n    Args.check = function (expr, message, code) {\n        if (!expr) {\n            throw new CodedError(message, code || "EARG");\n        }\n    };\n    Args.notNull = function (obj, name) {\n        Args.check((obj != null) && (obj !== undefined), name + " may not be null or undefined", "ENULL");\n    };\n    Args.notEmpty = function (obj, name) {\n        Args.check((obj != null) && (obj !== undefined) && (obj.length > 0), name + " may not be empty", "ENULL");\n    };\n    Args.notNegative = function (obj, name) {\n        Args.check((typeof obj === \'number\'), name + " may be a number", "ENUMBER");\n        Args.check((obj >= 0), name + " may not be negative", "ENUMBER");\n    };\n    Args.Positive = function (obj, name) {\n        Args.check((typeof obj === \'number\'), name + " may be a number", "ENUMBER");\n        Args.check((obj > 0), name + " must be a positive number", "ENUMBER");\n    };\n    return Args;\n}());\nexports.Args = Args;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2NsaWVudC9jb21tb24udHM/NDdhOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFDQTtJQUFnQyw4QkFBSztJQUNqQyxvQkFBWSxPQUFjLEVBQVMsSUFBVztRQUE5QyxZQUNJLGtCQUFNLE9BQU8sQ0FBQyxTQUNqQjtRQUZrQyxVQUFJLEdBQUosSUFBSSxDQUFPOztJQUU5QyxDQUFDO0lBQ0wsaUJBQUM7QUFBRCxDQUFDLENBSitCLEtBQUssR0FJcEM7QUFKWSxnQ0FBVTtBQU12QjtJQUFBO1FBQ1ksWUFBTyxHQUFVLEdBQUcsQ0FBQztRQUNyQixVQUFLLEdBQVUsa0VBQWtFLENBQUM7SUFrRjlGLENBQUM7SUFoRlcsd0JBQU8sR0FBZixVQUFnQixDQUFRLEVBQUUsQ0FBUTtRQUM5QixJQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFCLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRU8sMEJBQVMsR0FBakIsVUFBa0IsQ0FBUSxFQUFFLENBQVE7UUFDaEMsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVDLE1BQU0sQ0FBQyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRU0sdUJBQU0sR0FBYixVQUFjLENBQVE7UUFDbEIsSUFBSSxJQUFJLEdBQUcsQ0FBQyxFQUNSLENBQUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQ3ZCLENBQUMsR0FBRyxFQUFFLENBQUM7UUFFWCxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRWQsRUFBRSxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDYixNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ2IsQ0FB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QUFFLENBQUMsQ0FBQyxFQUFFLElBQUksR0FBRyxzQkFBc0IsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBRU0sYUFBUSxHQUFmLFVBQWdCLEdBQVUsRUFBRSxJQUFXO1FBQ25DLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLEdBQUcsS0FBSyxRQUFRLENBQUMsRUFBRSxJQUFJLEdBQUcsa0JBQWtCLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDNUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEdBQUcsNEJBQTRCLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDeEUsQ0FBQztJQUVMLFdBQUM7QUFBRCxDQUFDO0FBMUJZLG9CQUFJIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBjbGFzcyBDb2RlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U6c3RyaW5nLCBwdWJsaWMgY29kZTpzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmFzZTY0IHtcbiAgICBwcml2YXRlIFBBRENIQVI6c3RyaW5nID0gJz0nO1xuICAgIHByaXZhdGUgQUxQSEE6c3RyaW5nID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuXG4gICAgcHJpdmF0ZSBnZXRCeXRlKHM6c3RyaW5nLCBpOm51bWJlcik6bnVtYmVyIHtcbiAgICAgICAgY29uc3QgeCA9IHMuY2hhckNvZGVBdChpKTtcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRCeXRlNjQoczpzdHJpbmcsIGk6bnVtYmVyKTpudW1iZXIge1xuICAgICAgICBjb25zdCBpZHggPSB0aGlzLkFMUEhBLmluZGV4T2Yocy5jaGFyQXQoaSkpO1xuICAgICAgICByZXR1cm4gaWR4O1xuICAgIH1cblxuICAgIHB1YmxpYyBkZWNvZGUoczpzdHJpbmcpOnN0cmluZyB7XG4gICAgICAgIGxldCBwYWRzID0gMCxcbiAgICAgICAgICAgIGksIGIxMCwgaW1heCA9IHMubGVuZ3RoLFxuICAgICAgICAgICAgeCA9IFtdO1xuXG4gICAgICAgIHMgPSBTdHJpbmcocyk7XG5cbiAgICAgICAgaWYgKGltYXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHMuY2hhckF0KGltYXggLSAxKSA9PT0gdGhpcy5QQURDSEFSKSB7XG4gICAgICAgICAgICBwYWRzID0gMTtcbiAgICAgICAgICAgIGlmIChzLmNoYXJBdChpbWF4IC0gMikgPT09IHRoaXMuUEFEQ0hBUikge1xuICAgICAgICAgICAgICAgIHBhZHMgPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW1heCAtPSA0O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGltYXg7IGkgKz0gNCkge1xuICAgICAgICAgICAgYjEwID0gKHRoaXMuZ2V0Qnl0ZTY0KHMsIGkpIDw8IDE4KSB8ICh0aGlzLmdldEJ5dGU2NChzLCBpICsgMSkgPDwgMTIpIHwgKHRoaXMuZ2V0Qnl0ZTY0KHMsIGkgKyAyKSA8PCA2KSB8IHRoaXMuZ2V0Qnl0ZTY0KHMsIGkgKyAzKTtcbiAgICAgICAgICAgIHgucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGIxMCA+PiAxNiwgKGIxMCA+PiA4KSAmIDI1NSwgYjEwICYgMjU1KSk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHBhZHMpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBiMTAgPSAodGhpcy5nZXRCeXRlNjQocywgaSkgPDwgMTgpIHwgKHRoaXMuZ2V0Qnl0ZTY0KHMsIGkgKyAxKSA8PCAxMikgfCAodGhpcy5nZXRCeXRlNjQocywgaSArIDIpIDw8IDYpO1xuICAgICAgICAgICAgICAgIHgucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGIxMCA+PiAxNiwgKGIxMCA+PiA4KSAmIDI1NSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGIxMCA9ICh0aGlzLmdldEJ5dGU2NChzLCBpKSA8PCAxOCkgfCAodGhpcy5nZXRCeXRlNjQocywgaSArIDEpIDw8IDEyKTtcbiAgICAgICAgICAgICAgICB4LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShiMTAgPj4gMTYpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB4LmpvaW4oJycpO1xuICAgIH1cblxuICAgIHB1YmxpYyBlbmNvZGUoczpzdHJpbmcpOnN0cmluZyB7XG4gICAgICAgIHMgPSBTdHJpbmcocyk7XG5cbiAgICAgICAgbGV0IGksIGIxMCwgeCA9IFtdLFxuICAgICAgICAgICAgaW1heCA9IHMubGVuZ3RoIC0gcy5sZW5ndGggJSAzO1xuXG4gICAgICAgIGlmIChzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW1heDsgaSArPSAzKSB7XG4gICAgICAgICAgICBiMTAgPSAodGhpcy5nZXRCeXRlKHMsIGkpIDw8IDE2KSB8ICh0aGlzLmdldEJ5dGUocywgaSArIDEpIDw8IDgpIHwgdGhpcy5nZXRCeXRlKHMsIGkgKyAyKTtcbiAgICAgICAgICAgIHgucHVzaCh0aGlzLkFMUEhBLmNoYXJBdChiMTAgPj4gMTgpKTtcbiAgICAgICAgICAgIHgucHVzaCh0aGlzLkFMUEhBLmNoYXJBdCgoYjEwID4+IDEyKSAmIDYzKSk7XG4gICAgICAgICAgICB4LnB1c2godGhpcy5BTFBIQS5jaGFyQXQoKGIxMCA+PiA2KSAmIDYzKSk7XG4gICAgICAgICAgICB4LnB1c2godGhpcy5BTFBIQS5jaGFyQXQoYjEwICYgNjMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAocy5sZW5ndGggLSBpbWF4KSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgYjEwID0gdGhpcy5nZXRCeXRlKHMsIGkpIDw8IDE2O1xuICAgICAgICAgICAgICAgIHgucHVzaCh0aGlzLkFMUEhBLmNoYXJBdChiMTAgPj4gMTgpICsgdGhpcy5BTFBIQS5jaGFyQXQoKGIxMCA+PiAxMikgJiA2MykgKyB0aGlzLlBBRENIQVIgKyB0aGlzLlBBRENIQVIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGIxMCA9ICh0aGlzLmdldEJ5dGUocywgaSkgPDwgMTYpIHwgKHRoaXMuZ2V0Qnl0ZShzLCBpICsgMSkgPDwgOCk7XG4gICAgICAgICAgICAgICAgeC5wdXNoKHRoaXMuQUxQSEEuY2hhckF0KGIxMCA+PiAxOCkgKyB0aGlzLkFMUEhBLmNoYXJBdCgoYjEwID4+IDEyKSAmIDYzKSArIHRoaXMuQUxQSEEuY2hhckF0KChiMTAgPj4gNikgJiA2MykgKyB0aGlzLlBBRENIQVIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHguam9pbignJyk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0VXRpbHMge1xuXG4gICAgc3RhdGljIGlzTm90RW1wdHlTdHJpbmcoczpzdHJpbmcpOmJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHMgIT0gbnVsbCkgJiYgKHMgIT0gdW5kZWZpbmVkKSAmJiAocy5sZW5ndGggPiAwKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNOdWxsT3JVbmRlZmluZWQoczpzdHJpbmcpOmJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHMgIT0gbnVsbCkgJiYgKHMgIT0gdW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgemVyb1BhZChudW06bnVtYmVyLCBsZW5ndGg6bnVtYmVyKTpzdHJpbmcge1xuICAgICAgICBudW0gPSBudW0gfHwgMDtcbiAgICAgICAgbGV0IHJlcyA9IG51bS50b1N0cmluZygpO1xuICAgICAgICB3aGlsZSAocmVzLmxlbmd0aCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgcmVzID0gJzAnICsgcmVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgUkVHX0RBVEVUSU1FX0lTTyA9IC9eKFxcZHs0fSkoPzotP1coXFxkKykoPzotPyhcXGQrKUQ/KT98KD86LShcXGQrKSk/LShcXGQrKSkoPzpbVCBdKFxcZCspOihcXGQrKSg/OjooXFxkKykoPzpcXC4oXFxkKykpPyk/KT8oPzpaKC0/XFxkKikpPyhbKy1dKFxcZCspOihcXGQrKSk/JC87XG5cbiAgICBzdGF0aWMgaXNEYXRlKHM6c3RyaW5nKTpib29sZWFuIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dFV0aWxzLlJFR19EQVRFVElNRV9JU08udGVzdChzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlRGF0ZShzOnN0cmluZyk6RGF0ZSB7XG4gICAgICAgIGlmIChUZXh0VXRpbHMuaXNEYXRlKHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUocyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuY29kZXMgdGhlIGdpdmVuIHN0cmluZyB0byBCYXNlLTY0IGZvcm1hdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzIC0gQSBzdHJpbmcgdG8gZW5jb2RlXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgdG9CYXNlNjQoczpzdHJpbmcpOnN0cmluZyB7XG4gICAgICAgIGxldCBjdiA9IG5ldyBCYXNlNjQoKTtcbiAgICAgICAgcmV0dXJuIGN2LmVuY29kZShzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWNvZGVzIHRoZSBnaXZlbiBzdHJpbmcgZnJvbSBCYXNlLTY0IGZvcm1hdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzIC0gQSBiYXNlLTY0IGVuY29kZWQgc3RyaW5nXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUJhc2U2NChzOnN0cmluZyk6c3RyaW5nIHtcbiAgICAgICAgbGV0IGN2ID0gbmV3IEJhc2U2NCgpO1xuICAgICAgICByZXR1cm4gY3YuZGVjb2RlKHMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmb3JtYXQoczpzdHJpbmcsIC4uLnA6YW55W10pOnN0cmluZyB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvJVtzZGZqJV0vZywgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIGlmICh4ID09PSBcIiUlXCIpIHJldHVybiBcIiVcIjtcbiAgICAgICAgICAgIGlmIChpID49IHAubGVuZ3RoKSByZXR1cm4geDtcbiAgICAgICAgICAgIGxldCBwMSA9IHBbaSsrXTtcbiAgICAgICAgICAgIGlmICgoKHAxID09IG51bGwpICYmIChwMSA9PSB1bmRlZmluZWQpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoICh4KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIiVzXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwMS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIlZFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQocDEpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIlZlwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChwMSk7XG4gICAgICAgICAgICAgICAgY2FzZSBcIiVqXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwMSk7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFyZ3Mge1xuXG4gICAgc3RhdGljIGNoZWNrKGV4cHI6Ym9vbGVhbiwgbWVzc2FnZTpzdHJpbmcsIGNvZGU/OnN0cmluZyk6dm9pZCB7XG4gICAgICAgIGlmICghZXhwcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENvZGVkRXJyb3IobWVzc2FnZSwgY29kZSB8fCBcIkVBUkdcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgbm90TnVsbChvYmo6YW55LCBuYW1lOnN0cmluZyk6dm9pZCB7XG4gICAgICAgIEFyZ3MuY2hlY2soKG9iaiAhPSBudWxsKSAmJiAob2JqICE9PSB1bmRlZmluZWQpLCBuYW1lICsgXCIgbWF5IG5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZFwiLCBcIkVOVUxMXCIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBub3RFbXB0eShvYmo6c3RyaW5nLCBuYW1lOnN0cmluZyk6dm9pZCB7XG4gICAgICAgIEFyZ3MuY2hlY2soKG9iaiAhPSBudWxsKSAmJiAob2JqICE9PSB1bmRlZmluZWQpICYmIChvYmoubGVuZ3RoID4gMCksIG5hbWUgKyBcIiBtYXkgbm90IGJlIGVtcHR5XCIsIFwiRU5VTExcIik7XG4gICAgfVxuXG4gICAgc3RhdGljIG5vdE5lZ2F0aXZlKG9iajpudW1iZXIsIG5hbWU6c3RyaW5nKTp2b2lkIHtcbiAgICAgICAgQXJncy5jaGVjaygodHlwZW9mIG9iaiA9PT0gJ251bWJlcicpLCBuYW1lICsgXCIgbWF5IGJlIGEgbnVtYmVyXCIsIFwiRU5VTUJFUlwiKTtcbiAgICAgICAgQXJncy5jaGVjaygob2JqPj0wKSwgbmFtZSArIFwiIG1heSBub3QgYmUgbmVnYXRpdmVcIiwgXCJFTlVNQkVSXCIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBQb3NpdGl2ZShvYmo6bnVtYmVyLCBuYW1lOnN0cmluZyk6dm9pZCB7XG4gICAgICAgIEFyZ3MuY2hlY2soKHR5cGVvZiBvYmogPT09ICdudW1iZXInKSwgbmFtZSArIFwiIG1heSBiZSBhIG51bWJlclwiLCBcIkVOVU1CRVJcIik7XG4gICAgICAgIEFyZ3MuY2hlY2soKG9iaj4wKSwgbmFtZSArIFwiIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIiwgXCJFTlVNQkVSXCIpO1xuICAgIH1cblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFTZXJ2aWNlUXVlcnlQYXJhbXMge1xuICAgICRmaWx0ZXI6c3RyaW5nO1xuICAgICRncm91cGJ5OnN0cmluZztcbiAgICAkc2VsZWN0OnN0cmluZztcbiAgICAkb3JkZXJieTpzdHJpbmc7XG4gICAgJGV4cGFuZDpzdHJpbmc7XG4gICAgJGNvdW50OmJvb2xlYW47XG4gICAgJHRvcDpudW1iZXI7XG4gICAgJHNraXA6bnVtYmVyO1xuICAgICRmaXJzdDpib29sZWFuO1xuICAgICRsZXZlbHM6bnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFTZXJ2aWNlRXhlY3V0ZU9wdGlvbnMge1xuICAgIG1ldGhvZDpzdHJpbmc7XG4gICAgdXJsOnN0cmluZztcbiAgICBkYXRhOmFueTtcbiAgICBoZWFkZXJzOmFueTtcbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlICBVcmxCdWlsZGVyIHtcbiAgICBnZXRVcmwobW9kZWw6c3RyaW5nKTogc3RyaW5nXG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBDbGllbnREYXRhU2VydmljZUJhc2Uge1xuXG4gICAgc2V0SGVhZGVyKG5hbWU6c3RyaW5nLCB2YWx1ZTpzdHJpbmcpXG5cbiAgICBnZXRIZWFkZXJzKCk6IGFueVxuICAgIC8qKlxuICAgICAqIEdldHMgYSBzdHJpbmcgd2hpY2ggcmVwcmVzZW50cyB0aGUgYmFzZSBVUkwgb2YgdGhlIE1PU1QgV2ViIGFwcGxpY2F0aW9uIHNlcnZlclxuICAgICAqL1xuICAgIGdldEJhc2UoKTpzdHJpbmdcbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyBhbiBIVFRQIHJlcXVlc3QgYWdhaW5zdCB0aGUgZGVmaW5lZCBNT1NUIFdlYiBhcHBsaWNhdGlvbiBzZXJ2ZXJcbiAgICAgKiBAcGFyYW0ge0RhdGFTZXJ2aWNlRXhlY3V0ZU9wdGlvbnN9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBleGVjdXRlKG9wdGlvbnM6RGF0YVNlcnZpY2VFeGVjdXRlT3B0aW9ucyk6UHJvbWlzZTxhbnk+XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIFVSTCBpbnRvIG9uZSB0aGF0IGlzIHVzYWJsZSBvbiB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlXG4gICAgICovXG4gICAgcmVzb2x2ZShyZWxhdGl2ZTogc3RyaW5nKVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENsaWVudERhdGFDb250ZXh0QmFzZSB7XG4gICAgLyoqXG4gICAgICogR2V0cyBhIHN0cmluZyB3aGljaCByZXByZXNlbnRzIHRoZSBiYXNlIFVSTCBvZiB0aGUgTU9TVCBXZWIgYXBwbGljYXRpb24gc2VydmVyXG4gICAgICovXG4gICAgZ2V0QmFzZSgpOnN0cmluZ1xuICAgIC8qKlxuICAgICAqIFNldHMgYSBzdHJpbmcgd2hpY2ggcmVwcmVzZW50cyB0aGUgYmFzZSBVUkwgb2YgdGhlIE1PU1QgV2ViIGFwcGxpY2F0aW9uIHNlcnZlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFRoZSBiYXNlIFVSTFxuICAgICAqIEByZXR1cm5zIENsaWVudERhdGFDb250ZXh0QmFzZVxuICAgICAqL1xuICAgIHNldEJhc2UodmFsdWU6c3RyaW5nKTogQ2xpZW50RGF0YUNvbnRleHRCYXNlXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5zdGFuY2Ugb2YgQ2xpZW50RGF0YVNlcnZpY2VCYXNlIGNsYXNzIHdoaWNoIGlzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRhdGEgY29udGV4dFxuICAgICAqL1xuICAgIGdldFNlcnZpY2UoKTpDbGllbnREYXRhU2VydmljZUJhc2Vcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9tb2R1bGVzL0B0aGVtb3N0L2NsaWVudC9jb21tb24udHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n')},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar angular = __webpack_require__(0);\nvar services_1 = __webpack_require__(3);\nvar ngModule = angular.module('most', [services_1.default]);\nfunction localized(text, localeSet) {\n    window[\"locales\"] = window[\"locales\"] || {};\n    localeSet = localeSet || 'global';\n    if (typeof text !== 'string')\n        return text;\n    if (text.length === 0)\n        return text;\n    var locale = window[\"locales\"][localeSet];\n    if (locale) {\n        var out = locale[text];\n        if (out)\n            return out;\n    }\n    return text;\n}\nfunction MostLocalizedDirective() {\n    return {\n        restrict: 'A',\n        link: function (scope, element, attrs) {\n            if (attrs.title)\n                element.attr('title', localized(attrs.title, attrs['mostLoc']));\n            if (attrs.placeholder)\n                element.attr('placeholder', localized(attrs.placeholder, attrs['mostLoc']));\n        }\n    };\n}\nfunction MostLocalizedHtmlDirective() {\n    return {\n        restrict: 'A',\n        scope: false,\n        link: function (scope, element, attrs) {\n            var text = localized(element.html(), attrs['mostLocHtml']);\n            if (text)\n                element.html(text);\n        }\n    };\n}\nfunction MostLocalizedFilter() {\n    return function (input, localeSet) {\n        return localized(input, localeSet);\n    };\n}\nfunction MostEventDirective($timeout) {\n    return {\n        restrict: 'E',\n        link: function (scope, element, attrs) {\n            //get event name\n            var name = element.attr('name') || attrs['event'], action = attrs['eventAction'];\n            if (name) {\n                scope.$on(name, function (event, args) {\n                    if (action) {\n                        $timeout(function () {\n                            scope.$args = args;\n                            try {\n                                scope.$apply(action);\n                            }\n                            catch (e) {\n                                console.log(e);\n                            }\n                            scope.$args = null;\n                        });\n                    }\n                });\n            }\n        }\n    };\n}\n/**\n * @return {IDirective}\n * @constructor\n */\nfunction MostWatchDirective() {\n    return {\n        restrict: 'E',\n        link: function (scope, element, attrs) {\n            //get event name\n            var name = element.attr('name') || attrs['event'], args = attrs['eventArgs'];\n            if (name) {\n                if (typeof scope.broadcast === 'function') {\n                    scope.$watch(args, function (value) {\n                        scope.broadcast(name, value);\n                    });\n                }\n                else {\n                    scope.$watch(args, function (value) {\n                        scope.emit(name, value);\n                    });\n                }\n            }\n        }\n    };\n}\nfunction MostItemDirective($window) {\n    return {\n        restrict: 'A',\n        scope: false,\n        link: function (scope, element, attrs) {\n            scope.route = $window.route;\n            var item = scope.$eval(attrs['mostItem']);\n            item.then(function (result) {\n                scope.item = result;\n            }, function (reason) {\n                console.log(reason);\n                scope.item = null;\n            });\n        }\n    };\n}\nfunction MostVariableDirective($timeout) {\n    return {\n        restrict: 'E',\n        link: function (scope, element, attrs) {\n            if (attrs.ngValue) {\n                return scope.$eval(attrs.name + \"=\" + attrs.ngValue + \";\");\n            }\n            function set_(value) {\n                if (scope.$$phase === '$digest' || scope.$$phase === '$apply') {\n                    $timeout(function () {\n                        scope[attrs.name] = value;\n                    });\n                }\n                else {\n                    scope[attrs.name] = value;\n                }\n            }\n            scope.$watch(attrs.value, function (newValue) {\n                set_(newValue);\n            });\n        }\n    };\n}\nfunction MostParamDirective($window) {\n    return {\n        restrict: 'AE',\n        link: function (scope, element, attrs) {\n            scope.route = $window.route;\n            if (attrs['mostParam']) {\n                var values = attrs['mostParam'].split(';');\n                var params = {};\n                for (var i = 0; i < values.length; i++) {\n                    var value = values[i].split('=');\n                    if (value.length === 2)\n                        params[value[0]] = value[1];\n                }\n                $window.route = $window.route || {};\n                var _loop_1 = function (name_1) {\n                    if (params.hasOwnProperty(name_1)) {\n                        scope.$watch(params[name_1], function (newValue) {\n                            $window.route[name_1] = newValue;\n                        });\n                    }\n                };\n                for (var name_1 in params) {\n                    _loop_1(name_1);\n                }\n            }\n            else {\n                scope.$watch(attrs.value, function (newValue) {\n                    $window.route = $window.route || {};\n                    $window.route[attrs.name] = newValue;\n                });\n            }\n        }\n    };\n}\nfunction MostDataInstanceDirective($context, $parse, $window) {\n    return {\n        restrict: 'E',\n        scope: { model: '@', filter: '@', select: '@', group: '@', order: '@', top: '@', inlinecount: '@', paged: '@', skip: '@', expand: '@', prepared: '@', url: '@' },\n        link: function (scope, element, attrs) {\n            if (typeof scope.model === 'undefined')\n                return;\n            scope.route = $window.route;\n            var q = $context.model(scope.model).asQueryable();\n            var arr = [];\n            if (typeof scope.url === 'string' && scope.url.length > 0) {\n                q.setUrl(scope.url);\n            }\n            //apply select (if any)\n            if (scope.select) {\n                arr = scope.select.split(',');\n                //apply as array expression if we have only one field\n                if (arr.length == 1)\n                    q.asArray(true);\n                q.select(arr);\n            }\n            if (scope.group) {\n                if (angular.isArray(scope.group))\n                    q.group(scope.group);\n                else if (typeof scope.group === 'string' && scope.group.length > 0)\n                    q.group(scope.group.split(','));\n            }\n            if (scope.order) {\n                arr = [];\n                if (angular.isArray(scope.order))\n                    arr = scope.order;\n                else if (typeof scope.order === 'string' && scope.order.length > 0)\n                    arr = scope.order.split(',');\n                for (var i = 0; i < arr.length; i++) {\n                    var str = arr[i];\n                    var matches = /(.*?) desc$/i.exec(str);\n                    if (matches) {\n                        q.orderByDescending(matches[1]);\n                    }\n                    else {\n                        matches = /(.*?) asc$/i.exec(str);\n                        if (matches) {\n                            q.orderBy(matches[1]);\n                        }\n                        else {\n                            q.orderBy(str);\n                        }\n                    }\n                }\n            }\n            if (parseInt(scope.skip) > 0) {\n                q.skip(parseInt(scope.skip));\n            }\n            if (parseInt(scope.top) > 0) {\n                q.take(parseInt(scope.top));\n            }\n            if (/^true$/i.test(scope.inlinecount)) {\n                q.paged(true);\n            }\n            if (/^true$/i.test(scope.paged)) {\n                q.paged(true);\n            }\n            if (typeof scope.filter === 'string' && scope.filter.length > 0) {\n                q.filter(scope.filter);\n                if (scope.prepared == 'true')\n                    q.prepare();\n            }\n            if (typeof scope.expand === 'string' && scope.expand.length > 0) {\n                q.expand(scope.expand.split(','));\n            }\n            //set queryable\n            q.getItems().then(function (result) {\n                var getter = $parse(attrs.name);\n                var setter;\n                if (getter)\n                    setter = getter.assign;\n                if (typeof setter === 'function') {\n                    setter(scope.$parent, (q.$top === 1) ? result[0] : result);\n                }\n                //scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n            });\n            //register for order change\n            scope.$on('order.change', function (event, args) {\n                if (typeof args === 'string') {\n                    if (args.length === 0) {\n                        delete q.$orderby;\n                        q.reset().getItems().then(function (result) {\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                        });\n                    }\n                    else {\n                        var orders = args.split(',');\n                        if (orders.length === 1) {\n                            if (typeof q.$orderby !== 'undefined') {\n                                var previousOrders = q.$orderby.split(',');\n                                if (previousOrders.length === 1) {\n                                    var arr1 = orders[0].split(' '), arr2 = previousOrders[0].split(' ');\n                                    if (typeof arr1[1] === 'undefined') {\n                                        if (arr1[0] === arr2[0]) {\n                                            if ((typeof arr2[1] === 'undefined') || (arr2[1] === 'asc')) {\n                                                arr1.push('desc');\n                                                orders[0] = arr1.join(' ');\n                                            }\n                                            else {\n                                                arr1.push('asc');\n                                                orders[0] = arr1.join(' ');\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        q.reset().orderBy(orders.join(',')).getItems().then(function (result) {\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                        });\n                    }\n                }\n            });\n            //register for filter change\n            scope.$on('filter.change', function (event, args) {\n                if (typeof args === 'object') {\n                    if (args.name === attrs.name) {\n                        if (typeof args.filter === 'string') {\n                            q.reset().filter(args.filter).getItems().then(function (result) {\n                                scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                            });\n                        }\n                    }\n                }\n                else if (typeof args === 'string') {\n                    q.reset().filter(args).getItems().then(function (result) {\n                        scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                    });\n                }\n            });\n            //register for filter change\n            scope.$on('page.change', function (event, args) {\n                if (typeof args === 'object') {\n                    if (args.name === attrs.name) {\n                        if (typeof args.page !== 'undefined') {\n                            var page = parseInt(args.page), size = parseInt(scope.top);\n                            if (size <= 0) {\n                                return;\n                            }\n                            q.reset().skip((page - 1) * size).getItems().then(function (result) {\n                                scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                            });\n                        }\n                    }\n                }\n            });\n            var dataReload = function (event, args) {\n                if (typeof args === 'object') {\n                    if (args.name === attrs.name) {\n                        q.reset().getItems().then(function (result) {\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                        });\n                    }\n                }\n                else if (typeof args === 'string') {\n                    if (args === attrs.name) {\n                        q.reset().getItems().then(function (result) {\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                        });\n                    }\n                }\n            };\n            var dataRefresh = function (event, args) {\n                if (typeof args === 'object') {\n                    if (args.model === q.$model) {\n                        q.reset().getItems().then(function (result) {\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                        });\n                    }\n                }\n            };\n            //register for data reload\n            scope.$on('data.reload', dataReload);\n            //register for data refresh\n            scope.$on('item.new', dataRefresh);\n            //register for data refresh\n            scope.$on('item.save', dataRefresh);\n            //register for data refresh\n            scope.$on('item.delete', dataRefresh);\n        }\n    };\n}\nngModule.directive('loc', MostLocalizedDirective)\n    .directive('locHtml', MostLocalizedHtmlDirective)\n    .filter('loc', [MostLocalizedFilter])\n    .directive('mostEvent', MostEventDirective)\n    .directive('mostWatch', MostWatchDirective)\n    .directive('mostItem', MostItemDirective)\n    .directive('mostData', MostDataInstanceDirective)\n    .directive('mostVariable', MostVariableDirective)\n    .directive('mostParam', MostParamDirective);\nexports.default = ngModule.name;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2FuZ3VsYXJqcy9tb2R1bGUudHM/ZWYzYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVNBLHFDQUFvQztBQUNwQyx3Q0FBd0M7QUFFeEMsSUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxrQkFBYyxDQUFDLENBQUMsQ0FBQztBQUUxRCxtQkFBbUIsSUFBSSxFQUFFLFNBQVM7SUFDOUIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDNUMsU0FBUyxHQUFHLFNBQVMsSUFBSSxRQUFRLENBQUM7SUFDbEMsRUFBRSxDQUFDLENBQUMsT0FBTyxJQUFJLEtBQUssUUFBUSxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7UUFDbEIsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixJQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDNUMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNULElBQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QixFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUM7WUFDSixNQUFNLENBQUMsR0FBRyxDQUFDO0lBQ25CLENBQUM7SUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2hCLENBQUM7QUFFRDtJQUNJLE1BQU0sQ0FBQztRQUNILFFBQVEsRUFBRSxHQUFHO1FBQ2IsSUFBSSxFQUFFLFVBQVMsS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLO1lBQ2hDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7Z0JBQ1osT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUs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QkFBa0IsQ0FBQztLQUN6QyxTQUFTLENBQUMsV0FBVyxFQUFDLGtCQUFrQixDQUFDO0tBQ3pDLFNBQVMsQ0FBQyxVQUFVLEVBQUMsaUJBQWlCLENBQUM7S0FDdkMsU0FBUyxDQUFDLFVBQVUsRUFBQyx5QkFBeUIsQ0FBQztLQUMvQyxTQUFTLENBQUMsY0FBYyxFQUFDLHFCQUFxQixDQUFDO0tBQy9DLFNBQVMsQ0FBQyxXQUFXLEVBQUMsa0JBQWtCLENBQUMsQ0FBQztBQUUvQyxrQkFBZSxRQUFRLENBQUMsSUFBSSxDQUFDIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBNT1NUIFdlYiBGcmFtZXdvcmsgMi4wIENvZGVuYW1lIEJsdWVzaGlmdFxuICogQ29weXJpZ2h0IChjKSAyMDE3LCBUSEVNT1NUIExQIEFsbCByaWdodHMgcmVzZXJ2ZWRcbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBCU0QtMy1DbGF1c2UgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL3RoZW1vc3QuaW8vbGljZW5zZVxuICovXG5pbXBvcnQge0lEaXJlY3RpdmV9IGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IGFuZ3VsYXIgPSByZXF1aXJlKFwiYW5ndWxhclwiKTtcbmltcG9ydCBzZXJ2aWNlc01vZHVsZSBmcm9tICcuL3NlcnZpY2VzJztcblxuY29uc3QgbmdNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnbW9zdCcsIFtzZXJ2aWNlc01vZHVsZV0pO1xuXG5mdW5jdGlvbiBsb2NhbGl6ZWQodGV4dCwgbG9jYWxlU2V0KSB7XG4gICAgd2luZG93W1wibG9jYWxlc1wiXSA9IHdpbmRvd1tcImxvY2FsZXNcIl0gfHwge307XG4gICAgbG9jYWxlU2V0ID0gbG9jYWxlU2V0IHx8ICdnbG9iYWwnO1xuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgY29uc3QgbG9jYWxlID0gd2luZG93W1wibG9jYWxlc1wiXVtsb2NhbGVTZXRdO1xuICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgY29uc3Qgb3V0ID0gbG9jYWxlW3RleHRdO1xuICAgICAgICBpZiAob3V0KVxuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG59XG5cbmZ1bmN0aW9uIE1vc3RMb2NhbGl6ZWREaXJlY3RpdmUoKTpJRGlyZWN0aXZlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGlmIChhdHRycy50aXRsZSlcbiAgICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoJ3RpdGxlJywgbG9jYWxpemVkKGF0dHJzLnRpdGxlLCBhdHRyc1snbW9zdExvYyddKSk7XG4gICAgICAgICAgICBpZiAoYXR0cnMucGxhY2Vob2xkZXIpXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdwbGFjZWhvbGRlcicsIGxvY2FsaXplZChhdHRycy5wbGFjZWhvbGRlciwgYXR0cnNbJ21vc3RMb2MnXSkpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuXG5cbmZ1bmN0aW9uIE1vc3RMb2NhbGl6ZWRIdG1sRGlyZWN0aXZlKCk6SURpcmVjdGl2ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgc2NvcGU6IGZhbHNlLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBsb2NhbGl6ZWQoZWxlbWVudC5odG1sKCksIGF0dHJzWydtb3N0TG9jSHRtbCddKTtcbiAgICAgICAgICAgIGlmICh0ZXh0KVxuICAgICAgICAgICAgICAgIGVsZW1lbnQuaHRtbCh0ZXh0KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIE1vc3RMb2NhbGl6ZWRGaWx0ZXIoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBsb2NhbGVTZXQpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplZChpbnB1dCwgbG9jYWxlU2V0KTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBNb3N0RXZlbnREaXJlY3RpdmUoJHRpbWVvdXQpOklEaXJlY3RpdmUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgLy9nZXQgZXZlbnQgbmFtZVxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGVsZW1lbnQuYXR0cignbmFtZScpIHx8IGF0dHJzWydldmVudCddLCBhY3Rpb24gPSBhdHRyc1snZXZlbnRBY3Rpb24nXTtcbiAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuJG9uKG5hbWUsIGZ1bmN0aW9uKGV2ZW50LCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFyZ3MgPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShhY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXJncyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cblxuLyoqXG4gKiBAcmV0dXJuIHtJRGlyZWN0aXZlfVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1vc3RXYXRjaERpcmVjdGl2ZSgpOklEaXJlY3RpdmUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgLy9nZXQgZXZlbnQgbmFtZVxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGVsZW1lbnQuYXR0cignbmFtZScpIHx8IGF0dHJzWydldmVudCddLCBhcmdzID0gYXR0cnNbJ2V2ZW50QXJncyddO1xuICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNjb3BlLmJyb2FkY2FzdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goYXJncywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5icm9hZGNhc3QobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChhcmdzLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmVtaXQobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5cbmZ1bmN0aW9uIE1vc3RJdGVtRGlyZWN0aXZlKCR3aW5kb3cpOklEaXJlY3RpdmUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIHNjb3BlOiBmYWxzZSxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICBzY29wZS5yb3V0ZSA9ICR3aW5kb3cucm91dGU7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gc2NvcGUuJGV2YWwoYXR0cnNbJ21vc3RJdGVtJ10pO1xuICAgICAgICAgICAgaXRlbS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLml0ZW0gPSByZXN1bHQ7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZWFzb24pO1xuICAgICAgICAgICAgICAgIHNjb3BlLml0ZW0gPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBNb3N0VmFyaWFibGVEaXJlY3RpdmUoJHRpbWVvdXQpOklEaXJlY3RpdmUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgaWYgKGF0dHJzLm5nVmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuJGV2YWwoYXR0cnMubmFtZSArIFwiPVwiICsgYXR0cnMubmdWYWx1ZSArIFwiO1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldF8odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuJCRwaGFzZSA9PT0gJyRkaWdlc3QnIHx8IHNjb3BlLiQkcGhhc2UgPT09ICckYXBwbHknKSB7XG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVbYXR0cnMubmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzY29wZVthdHRycy5uYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChhdHRycy52YWx1ZSwgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzZXRfKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gTW9zdFBhcmFtRGlyZWN0aXZlKCR3aW5kb3cpOklEaXJlY3RpdmUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQUUnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIHNjb3BlLnJvdXRlID0gJHdpbmRvdy5yb3V0ZTtcbiAgICAgICAgICAgIGlmIChhdHRyc1snbW9zdFBhcmFtJ10pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBhdHRyc1snbW9zdFBhcmFtJ10uc3BsaXQoJzsnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7IH07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gdmFsdWVzW2ldLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGg9PT0yKVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zW3ZhbHVlWzBdXSA9IHZhbHVlWzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkd2luZG93LnJvdXRlID0gJHdpbmRvdy5yb3V0ZSB8fCB7IH07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKHBhcmFtc1tuYW1lXSwgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LnJvdXRlW25hbWVdID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChhdHRycy52YWx1ZSwgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5yb3V0ZSA9ICR3aW5kb3cucm91dGUgfHwgeyB9O1xuICAgICAgICAgICAgICAgICAgICAkd2luZG93LnJvdXRlW2F0dHJzLm5hbWVdID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIE1vc3REYXRhSW5zdGFuY2VEaXJlY3RpdmUoJGNvbnRleHQsICRwYXJzZSwgJHdpbmRvdyk6SURpcmVjdGl2ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgc2NvcGU6IHsgbW9kZWw6J0AnLCBmaWx0ZXI6J0AnLCAgc2VsZWN0OidAJywgZ3JvdXA6J0AnLCBvcmRlcjonQCcsIHRvcDonQCcsIGlubGluZWNvdW50OidAJywgcGFnZWQ6J0AnLCBza2lwOidAJywgZXhwYW5kOidAJywgcHJlcGFyZWQ6J0AnLCB1cmw6J0AnIH0sXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzY29wZS5tb2RlbCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc2NvcGUucm91dGUgPSAkd2luZG93LnJvdXRlO1xuICAgICAgICAgICAgY29uc3QgcSA9ICRjb250ZXh0Lm1vZGVsKHNjb3BlLm1vZGVsKS5hc1F1ZXJ5YWJsZSgpO1xuICAgICAgICAgICAgbGV0IGFyciA9IFtdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzY29wZS51cmwgPT09ICdzdHJpbmcnICYmIHNjb3BlLnVybC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcS5zZXRVcmwoc2NvcGUudXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vYXBwbHkgc2VsZWN0IChpZiBhbnkpXG4gICAgICAgICAgICBpZiAoc2NvcGUuc2VsZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFyciA9IHNjb3BlLnNlbGVjdC5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgICAgIC8vYXBwbHkgYXMgYXJyYXkgZXhwcmVzc2lvbiBpZiB3ZSBoYXZlIG9ubHkgb25lIGZpZWxkXG4gICAgICAgICAgICAgICAgaWYgKGFyci5sZW5ndGg9PTEpXG4gICAgICAgICAgICAgICAgICAgIHEuYXNBcnJheSh0cnVlKTtcbiAgICAgICAgICAgICAgICBxLnNlbGVjdChhcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjb3BlLmdyb3VwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShzY29wZS5ncm91cCkpXG4gICAgICAgICAgICAgICAgICAgIHEuZ3JvdXAoc2NvcGUuZ3JvdXApO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzY29wZS5ncm91cCA9PT0gJ3N0cmluZycgJiYgc2NvcGUuZ3JvdXAubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgcS5ncm91cChzY29wZS5ncm91cC5zcGxpdCgnLCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzY29wZS5vcmRlcikge1xuICAgICAgICAgICAgICAgIGFyciA9IFtdO1xuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoc2NvcGUub3JkZXIpKVxuICAgICAgICAgICAgICAgICAgICBhcnIgPSBzY29wZS5vcmRlcjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc2NvcGUub3JkZXIgPT09ICdzdHJpbmcnICYmIHNjb3BlLm9yZGVyLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgIGFyciA9IHNjb3BlLm9yZGVyLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0ciA9IGFycltpXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoZXMgPSAvKC4qPykgZGVzYyQvaS5leGVjKHN0cik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxLm9yZGVyQnlEZXNjZW5kaW5nKG1hdGNoZXNbMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcyA9IC8oLio/KSBhc2MkL2kuZXhlYyhzdHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxLm9yZGVyQnkobWF0Y2hlc1sxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxLm9yZGVyQnkoc3RyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJzZUludChzY29wZS5za2lwKT4wKSB7XG4gICAgICAgICAgICAgICAgcS5za2lwKHBhcnNlSW50KHNjb3BlLnNraXApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJzZUludChzY29wZS50b3ApPjApIHtcbiAgICAgICAgICAgICAgICBxLnRha2UocGFyc2VJbnQoc2NvcGUudG9wKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoL150cnVlJC9pLnRlc3Qoc2NvcGUuaW5saW5lY291bnQpKSB7XG4gICAgICAgICAgICAgICAgcS5wYWdlZCh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgvXnRydWUkL2kudGVzdChzY29wZS5wYWdlZCkpIHtcbiAgICAgICAgICAgICAgICBxLnBhZ2VkKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzY29wZS5maWx0ZXIgPT09ICdzdHJpbmcnICYmIHNjb3BlLmZpbHRlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcS5maWx0ZXIoc2NvcGUuZmlsdGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUucHJlcGFyZWQ9PSd0cnVlJylcbiAgICAgICAgICAgICAgICAgICAgcS5wcmVwYXJlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NvcGUuZXhwYW5kID09PSAnc3RyaW5nJyAmJiBzY29wZS5leHBhbmQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHEuZXhwYW5kKHNjb3BlLmV4cGFuZC5zcGxpdCgnLCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vc2V0IHF1ZXJ5YWJsZVxuICAgICAgICAgICAgcS5nZXRJdGVtcygpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBnZXR0ZXIgPSAkcGFyc2UoYXR0cnMubmFtZSk7XG4gICAgICAgICAgICAgICAgbGV0IHNldHRlcjtcbiAgICAgICAgICAgICAgICBpZiAoZ2V0dGVyKVxuICAgICAgICAgICAgICAgICAgICBzZXR0ZXIgPSBnZXR0ZXIuYXNzaWduO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2V0dGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRlcihzY29wZS4kcGFyZW50LCAocS4kdG9wID09PSAxKSA/IHJlc3VsdFswXSA6IHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vc2NvcGUuJHBhcmVudFthdHRycy5uYW1lXSA9IChxLiR0b3AgPT09IDEpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vcmVnaXN0ZXIgZm9yIG9yZGVyIGNoYW5nZVxuICAgICAgICAgICAgc2NvcGUuJG9uKCdvcmRlci5jaGFuZ2UnLCAoZXZlbnQsIGFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3MgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoPT09MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHEuJG9yZGVyYnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBxLnJlc2V0KCkuZ2V0SXRlbXMoKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudFthdHRycy5uYW1lXSA9IChxLiR0b3AgPT09IDEpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmRlcnMgPSBhcmdzLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXJzLmxlbmd0aD09PTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHEuJG9yZGVyYnkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzT3JkZXJzPSBxLiRvcmRlcmJ5LnNwbGl0KCcsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c09yZGVycy5sZW5ndGg9PT0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnIxID0gb3JkZXJzWzBdLnNwbGl0KCcgJyksIGFycjIgPSBwcmV2aW91c09yZGVyc1swXS5zcGxpdCgnICcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcnIxWzFdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnIxWzBdPT09YXJyMlswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBhcnIyWzFdID09PSAndW5kZWZpbmVkJykgfHwgKGFycjJbMV0gPT09ICdhc2MnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyMS5wdXNoKCdkZXNjJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcnNbMF0gPSBhcnIxLmpvaW4oJyAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyMS5wdXNoKCdhc2MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyc1swXSA9IGFycjEuam9pbignICcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBxLnJlc2V0KCkub3JkZXJCeShvcmRlcnMuam9pbignLCcpKS5nZXRJdGVtcygpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnRbYXR0cnMubmFtZV0gPSAocS4kdG9wID09PSAxKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vcmVnaXN0ZXIgZm9yIGZpbHRlciBjaGFuZ2VcbiAgICAgICAgICAgIHNjb3BlLiRvbignZmlsdGVyLmNoYW5nZScsIGZ1bmN0aW9uKGV2ZW50LCBhcmdzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJncyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubmFtZT09PWF0dHJzLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJncy5maWx0ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcS5yZXNldCgpLmZpbHRlcihhcmdzLmZpbHRlcikuZ2V0SXRlbXMoKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudFthdHRycy5uYW1lXSA9IChxLiR0b3AgPT09IDEpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmdzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBxLnJlc2V0KCkuZmlsdGVyKGFyZ3MpLmdldEl0ZW1zKCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudFthdHRycy5uYW1lXSA9IChxLiR0b3AgPT09IDEpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9yZWdpc3RlciBmb3IgZmlsdGVyIGNoYW5nZVxuICAgICAgICAgICAgc2NvcGUuJG9uKCdwYWdlLmNoYW5nZScsIGZ1bmN0aW9uKGV2ZW50LCBhcmdzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJncyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubmFtZT09PWF0dHJzLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJncy5wYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChhcmdzLnBhZ2UpLCBzaXplID0gcGFyc2VJbnQoc2NvcGUudG9wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2l6ZTw9MCkgeyByZXR1cm47IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxLnJlc2V0KCkuc2tpcCgocGFnZS0xKSpzaXplKS5nZXRJdGVtcygpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50W2F0dHJzLm5hbWVdID0gKHEuJHRvcCA9PT0gMSkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgZGF0YVJlbG9hZCA9IGZ1bmN0aW9uKGV2ZW50LCBhcmdzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJncyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubmFtZT09PWF0dHJzLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHEucmVzZXQoKS5nZXRJdGVtcygpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50W2F0dHJzLm5hbWVdID0gKHEuJHRvcCA9PT0gMSkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJncyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3M9PT1hdHRycy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxLnJlc2V0KCkuZ2V0SXRlbXMoKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudFthdHRycy5uYW1lXSA9IChxLiR0b3AgPT09IDEpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBkYXRhUmVmcmVzaCA9IGZ1bmN0aW9uKGV2ZW50LCBhcmdzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJncyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubW9kZWw9PT0gcS4kbW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHEucmVzZXQoKS5nZXRJdGVtcygpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50W2F0dHJzLm5hbWVdID0gKHEuJHRvcCA9PT0gMSkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vcmVnaXN0ZXIgZm9yIGRhdGEgcmVsb2FkXG4gICAgICAgICAgICBzY29wZS4kb24oJ2RhdGEucmVsb2FkJywgZGF0YVJlbG9hZCk7XG4gICAgICAgICAgICAvL3JlZ2lzdGVyIGZvciBkYXRhIHJlZnJlc2hcbiAgICAgICAgICAgIHNjb3BlLiRvbignaXRlbS5uZXcnLCBkYXRhUmVmcmVzaCk7XG4gICAgICAgICAgICAvL3JlZ2lzdGVyIGZvciBkYXRhIHJlZnJlc2hcbiAgICAgICAgICAgIHNjb3BlLiRvbignaXRlbS5zYXZlJywgZGF0YVJlZnJlc2gpO1xuICAgICAgICAgICAgLy9yZWdpc3RlciBmb3IgZGF0YSByZWZyZXNoXG4gICAgICAgICAgICBzY29wZS4kb24oJ2l0ZW0uZGVsZXRlJywgZGF0YVJlZnJlc2gpO1xuXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5uZ01vZHVsZS5kaXJlY3RpdmUoJ2xvYycsTW9zdExvY2FsaXplZERpcmVjdGl2ZSlcbiAgICAuZGlyZWN0aXZlKCdsb2NIdG1sJyxNb3N0TG9jYWxpemVkSHRtbERpcmVjdGl2ZSlcbiAgICAuZmlsdGVyKCdsb2MnLFtNb3N0TG9jYWxpemVkRmlsdGVyXSlcbiAgICAuZGlyZWN0aXZlKCdtb3N0RXZlbnQnLE1vc3RFdmVudERpcmVjdGl2ZSlcbiAgICAuZGlyZWN0aXZlKCdtb3N0V2F0Y2gnLE1vc3RXYXRjaERpcmVjdGl2ZSlcbiAgICAuZGlyZWN0aXZlKCdtb3N0SXRlbScsTW9zdEl0ZW1EaXJlY3RpdmUpXG4gICAgLmRpcmVjdGl2ZSgnbW9zdERhdGEnLE1vc3REYXRhSW5zdGFuY2VEaXJlY3RpdmUpXG4gICAgLmRpcmVjdGl2ZSgnbW9zdFZhcmlhYmxlJyxNb3N0VmFyaWFibGVEaXJlY3RpdmUpXG4gICAgLmRpcmVjdGl2ZSgnbW9zdFBhcmFtJyxNb3N0UGFyYW1EaXJlY3RpdmUpO1xuXG5leHBvcnQgZGVmYXVsdCBuZ01vZHVsZS5uYW1lO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL21vZHVsZXMvQHRoZW1vc3QvYW5ndWxhcmpzL21vZHVsZS50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar angular = __webpack_require__(0);\nvar client_1 = __webpack_require__(4);\nvar ngModule = angular.module(\'most.services\', []);\nvar ContextProvider = /** @class */ (function () {\n    function ContextProvider() {\n        this.defaults = { base: "/" };\n    }\n    ContextProvider.prototype.$get = function ($http, $q) {\n        return new client_1.AngularDataContext(this.defaults.base, $http, $q);\n    };\n    ;\n    return ContextProvider;\n}());\nngModule.provider("$context", ContextProvider);\nexports.default = \'most.services\';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2FuZ3VsYXJqcy9zZXJ2aWNlcy50cz8yOGI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBU0EscUNBQW9DO0FBQ3BDLHNDQUE0QztBQUU1QyxJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLGVBQWUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUVyRDtJQUlJO1FBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLElBQUksRUFBQyxHQUFHLEVBQUUsQ0FBQztJQUNqQyxDQUFDO0lBQ0QsOEJBQUksR0FBSixVQUFLLEtBQUssRUFBRSxFQUFFO1FBQ1YsTUFBTSxDQUFDLElBQUksMkJBQWtCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFBQSxDQUFDO0lBQ04sc0JBQUM7QUFBRCxDQUFDO0FBQ0QsUUFBUSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUMsZUFBZSxDQUFDLENBQUM7QUFFOUMsa0JBQWUsZUFBZSxDQUFDIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBNT1NUIFdlYiBGcmFtZXdvcmsgMi4wIENvZGVuYW1lIEJsdWVzaGlmdFxuICogQ29weXJpZ2h0IChjKSAyMDE3LCBUSEVNT1NUIExQIEFsbCByaWdodHMgcmVzZXJ2ZWRcbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBCU0QtMy1DbGF1c2UgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL3RoZW1vc3QuaW8vbGljZW5zZVxuICovXG5pbXBvcnQge0lTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IGFuZ3VsYXIgPSByZXF1aXJlKFwiYW5ndWxhclwiKTtcbmltcG9ydCB7QW5ndWxhckRhdGFDb250ZXh0fSBmcm9tIFwiLi9jbGllbnRcIjtcblxuY29uc3QgbmdNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnbW9zdC5zZXJ2aWNlcycsIFtdKTtcblxuY2xhc3MgQ29udGV4dFByb3ZpZGVyIGltcGxlbWVudHMgSVNlcnZpY2VQcm92aWRlciB7XG5cbiAgICBwdWJsaWMgZGVmYXVsdHM6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRlZmF1bHRzID0geyBiYXNlOlwiL1wiIH07XG4gICAgfVxuICAgICRnZXQoJGh0dHAsICRxKTogYW55IHtcbiAgICAgICAgcmV0dXJuIG5ldyBBbmd1bGFyRGF0YUNvbnRleHQodGhpcy5kZWZhdWx0cy5iYXNlLCAkaHR0cCwgJHEpO1xuICAgIH07XG59XG5uZ01vZHVsZS5wcm92aWRlcihcIiRjb250ZXh0XCIsQ29udGV4dFByb3ZpZGVyKTtcblxuZXhwb3J0IGRlZmF1bHQgJ21vc3Quc2VydmljZXMnO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9tb2R1bGVzL0B0aGVtb3N0L2FuZ3VsYXJqcy9zZXJ2aWNlcy50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @license\n * MOST Web Framework 2.0 Codename Blueshift\n * Copyright (c) 2017, THEMOST LP All rights reserved\n *\n * Use of this source code is governed by an BSD-3-Clause license that can be\n * found in the LICENSE file at https://themost.io/license\n */\nvar common_1 = __webpack_require__(1);\nvar client_1 = __webpack_require__(5);\nvar REG_DATETIME_ISO = /^(\\d{4})(?:-?W(\\d+)(?:-?(\\d+)D?)?|(?:-(\\d+))?-(\\d+))(?:[T ](\\d+):(\\d+)(?::(\\d+)(?:\\.(\\d+))?)?)?(?:Z(-?\\d*))?([+-](\\d+):(\\d+))?$/;\nfunction dateParser(key, value) {\n    if ((typeof value === \'string\') && REG_DATETIME_ISO.test(value)) {\n        return new Date(value);\n    }\n    return value;\n}\nvar AngularDataContext = /** @class */ (function (_super) {\n    __extends(AngularDataContext, _super);\n    function AngularDataContext(base, http, q) {\n        return _super.call(this, new AngularDataService(base || "/", http, q)) || this;\n    }\n    return AngularDataContext;\n}(client_1.ClientDataContext));\nexports.AngularDataContext = AngularDataContext;\nvar AngularDataService = /** @class */ (function (_super) {\n    __extends(AngularDataService, _super);\n    /**\n     *\n     * @param {string} base\n     * @param {*} http\n     * @param {*} q\n     */\n    function AngularDataService(base, http, q) {\n        var _this = _super.call(this, base) || this;\n        _this.http = http;\n        _this.q = q;\n        return _this;\n    }\n    AngularDataService.prototype.execute = function (options) {\n        var _this = this;\n        var $http = this.http;\n        var $q = this.q;\n        return $q(function (resolve, reject) {\n            try {\n                //options defaults\n                options.method = options.method || "GET";\n                options.headers = __assign({}, _this.getHeaders(), options.headers);\n                //set content type\n                options.headers["Content-Type"] = "application/json";\n                //validate options URL\n                common_1.Args.notNull(options.url, "Request URL");\n                //validate URL format\n                common_1.Args.check(!/^https?:\\/\\//i.test(options.url), "Request URL may not be an absolute URI");\n                //validate request method\n                common_1.Args.check(/^GET|POST|PUT|DELETE$/i.test(options.method), "Invalid request method. Expected GET, POST, PUT or DELETE.");\n                var url_ = _this.resolve(options.url);\n                var o = {\n                    method: options.method,\n                    url: url_,\n                    headers: options.headers,\n                    transformResponse: function (data, headers, status) {\n                        if (typeof data === \'undefined\' || data === null) {\n                            return;\n                        }\n                        if (/^application\\/json/.test(headers("Content-Type"))) {\n                            if (data.length === 0) {\n                                return;\n                            }\n                            return JSON.parse(data, dateParser);\n                        }\n                        return data;\n                    }\n                };\n                if (/^GET$/i.test(o.method)) {\n                    o["params"] = options.data;\n                }\n                else {\n                    o["data"] = options.data;\n                }\n                $http(o).then(function (response) {\n                    resolve(response.data);\n                }, function (err) {\n                    reject(err);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    };\n    return AngularDataService;\n}(client_1.ClientDataService));\nexports.AngularDataService = AngularDataService;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2FuZ3VsYXJqcy9jbGllbnQudHM/OTBiNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7O0dBT0c7QUFDSCxzQ0FBc0U7QUFDdEUsc0NBQW9FO0FBRXBFLElBQU0sZ0JBQWdCLEdBQUcsaUlBQWlJLENBQUM7QUFDM0osb0JBQW9CLEdBQUcsRUFBRSxLQUFLO0lBQzFCLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxLQUFLLEtBQUssUUFBUSxDQUFDLElBQUksZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5RCxNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDakIsQ0FBQztBQUVEO0lBQXdDLHNDQUFpQjtJQUNyRCw0QkFBWSxJQUFXLEVBQUUsSUFBUSxFQUFFLENBQUs7ZUFDcEMsa0JBQU0sSUFBSSxrQkFBa0IsQ0FBQyxJQUFJLElBQUksR0FBRyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBQ0wseUJBQUM7QUFBRCxDQUFDLENBSnVDLDBCQUFpQixHQUl4RDtBQUpZLGdEQUFrQjtBQU0vQjtJQUF3QyxzQ0FBaUI7SUFLckQ7Ozs7O09BS0c7SUFDSCw0QkFBWSxJQUFXLEVBQUUsSUFBUSxFQUFFLENBQUs7UUFBeEMsWUFDSSxrQkFBTSxJQUFJLENBQUMsU0FHZDtRQUZHLEtBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLEtBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDOztJQUNmLENBQUM7SUFFRCxvQ0FBTyxHQUFQLFVBQVEsT0FBaUM7UUFBekMsaUJBb0RDO1FBbERHLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDeEIsSUFBTSxFQUFFLEdB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cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogTU9TVCBXZWIgRnJhbWV3b3JrIDIuMCBDb2RlbmFtZSBCbHVlc2hpZnRcbiAqIENvcHlyaWdodCAoYykgMjAxNywgVEhFTU9TVCBMUCBBbGwgcmlnaHRzIHJlc2VydmVkXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gQlNELTMtQ2xhdXNlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly90aGVtb3N0LmlvL2xpY2Vuc2VcbiAqL1xuaW1wb3J0IHtEYXRhU2VydmljZUV4ZWN1dGVPcHRpb25zLEFyZ3N9IGZyb20gXCJAdGhlbW9zdC9jbGllbnQvY29tbW9uXCI7XG5pbXBvcnQge0NsaWVudERhdGFTZXJ2aWNlLENsaWVudERhdGFDb250ZXh0fSBmcm9tIFwiQHRoZW1vc3QvY2xpZW50XCI7XG5cbmNvbnN0IFJFR19EQVRFVElNRV9JU08gPSAvXihcXGR7NH0pKD86LT9XKFxcZCspKD86LT8oXFxkKylEPyk/fCg/Oi0oXFxkKykpPy0oXFxkKykpKD86W1QgXShcXGQrKTooXFxkKykoPzo6KFxcZCspKD86XFwuKFxcZCspKT8pPyk/KD86WigtP1xcZCopKT8oWystXShcXGQrKTooXFxkKykpPyQvO1xuZnVuY3Rpb24gZGF0ZVBhcnNlcihrZXksIHZhbHVlKSB7XG4gICAgaWYgKCh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSAmJiBSRUdfREFURVRJTUVfSVNPLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJEYXRhQ29udGV4dCBleHRlbmRzIENsaWVudERhdGFDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihiYXNlOnN0cmluZywgaHR0cDphbnksIHE6YW55KSB7XG4gICAgICAgIHN1cGVyKG5ldyBBbmd1bGFyRGF0YVNlcnZpY2UoYmFzZSB8fCBcIi9cIiwgaHR0cCwgcSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJEYXRhU2VydmljZSBleHRlbmRzIENsaWVudERhdGFTZXJ2aWNlIHtcblxuICAgIHByaXZhdGUgaHR0cDtcbiAgICBwcml2YXRlIHE7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlXG4gICAgICogQHBhcmFtIHsqfSBodHRwXG4gICAgICogQHBhcmFtIHsqfSBxXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYmFzZTpzdHJpbmcsIGh0dHA6YW55LCBxOmFueSkge1xuICAgICAgICBzdXBlcihiYXNlKTtcbiAgICAgICAgdGhpcy5odHRwID0gaHR0cDtcbiAgICAgICAgdGhpcy5xID0gcTtcbiAgICB9XG5cbiAgICBleGVjdXRlKG9wdGlvbnM6RGF0YVNlcnZpY2VFeGVjdXRlT3B0aW9ucyk6UHJvbWlzZTxhbnk+IHtcblxuICAgICAgICBjb25zdCAkaHR0cCA9IHRoaXMuaHR0cDtcbiAgICAgICAgY29uc3QgJHEgPSB0aGlzLnE7XG4gICAgICAgIHJldHVybiAkcSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vb3B0aW9ucyBkZWZhdWx0c1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWV0aG9kID0gb3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIjtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmhlYWRlcnMgPSB7IC4uLnRoaXMuZ2V0SGVhZGVycygpLCAuLi5vcHRpb25zLmhlYWRlcnMgfTtcbiAgICAgICAgICAgICAgICAvL3NldCBjb250ZW50IHR5cGVcbiAgICAgICAgICAgICAgICBvcHRpb25zLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgICAgICAgICAgICAgICAvL3ZhbGlkYXRlIG9wdGlvbnMgVVJMXG4gICAgICAgICAgICAgICAgQXJncy5ub3ROdWxsKG9wdGlvbnMudXJsLFwiUmVxdWVzdCBVUkxcIik7XG4gICAgICAgICAgICAgICAgLy92YWxpZGF0ZSBVUkwgZm9ybWF0XG4gICAgICAgICAgICAgICAgQXJncy5jaGVjayghL15odHRwcz86XFwvXFwvL2kudGVzdChvcHRpb25zLnVybCksXCJSZXF1ZXN0IFVSTCBtYXkgbm90IGJlIGFuIGFic29sdXRlIFVSSVwiKTtcbiAgICAgICAgICAgICAgICAvL3ZhbGlkYXRlIHJlcXVlc3QgbWV0aG9kXG4gICAgICAgICAgICAgICAgQXJncy5jaGVjaygvXkdFVHxQT1NUfFBVVHxERUxFVEUkL2kudGVzdChvcHRpb25zLm1ldGhvZCksXCJJbnZhbGlkIHJlcXVlc3QgbWV0aG9kLiBFeHBlY3RlZCBHRVQsIFBPU1QsIFBVVCBvciBERUxFVEUuXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybF8gPSB0aGlzLnJlc29sdmUob3B0aW9ucy51cmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG8gPSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogb3B0aW9ucy5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIHVybDogdXJsXyxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczpvcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlOihkYXRhLCBoZWFkZXJzLCBzdGF0dXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3VuZGVmaW5lZCcgfHwgZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXmFwcGxpY2F0aW9uXFwvanNvbi8udGVzdChoZWFkZXJzKFwiQ29udGVudC1UeXBlXCIpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEsIGRhdGVQYXJzZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICgvXkdFVCQvaS50ZXN0KG8ubWV0aG9kKSkge1xuICAgICAgICAgICAgICAgICAgICBvW1wicGFyYW1zXCJdID0gb3B0aW9ucy5kYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb1tcImRhdGFcIl0gPSBvcHRpb25zLmRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRodHRwKG8pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoKGVycikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH1cblxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL21vZHVsZXMvQHRoZW1vc3QvYW5ndWxhcmpzL2NsaWVudC50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n')},function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * @license\n * MOST Web Framework 2.0 Codename Blueshift\n * Copyright (c) 2017, THEMOST LP All rights reserved\n *\n * Use of this source code is governed by an BSD-3-Clause license that can be\n * found in the LICENSE file at https://themost.io/license\n */\nObject.defineProperty(exports, "__esModule", { value: true });\nvar common_1 = __webpack_require__(1);\nvar ClientQueryExpression = /** @class */ (function () {\n    function ClientQueryExpression() {\n    }\n    return ClientQueryExpression;\n}());\nvar ClientDataQueryable = /** @class */ (function () {\n    function ClientDataQueryable(model, service) {\n        common_1.Args.notEmpty(model, "Model");\n        this.model_ = model;\n        common_1.Args.notNull(service, "Data Service");\n        this.service_ = service;\n        this.url_ = common_1.TextUtils.format("/%s/index.json", this.model_);\n        //init params\n        this.params_ = {};\n        //init privates\n        this.privates_ = new ClientQueryExpression();\n    }\n    /**\n     * @returns {ClientDataServiceBase}\n     */\n    ClientDataQueryable.prototype.getService = function () {\n        return this.service_;\n    };\n    /**\n     * @returns {DataServiceQueryParams}\n     */\n    ClientDataQueryable.prototype.getParams = function () {\n        return this.params_;\n    };\n    /**\n     * @returns {ClientDataQueryable}\n     */\n    ClientDataQueryable.prototype.setParam = function (name, value) {\n        if (/^\\$/.test(name)) {\n            this.params_[name] = value;\n        }\n        else {\n            this.params_["$" + name] = value;\n        }\n        return this;\n    };\n    /**\n     * Gets a string which represents the name of the data model associated with this object.\n     * @returns {string}\n     */\n    ClientDataQueryable.prototype.getModel = function () {\n        return this.model_;\n    };\n    /**\n     * Gets a string which represents the relative URL associated with this object.\n     * @returns {string}\n     */\n    ClientDataQueryable.prototype.getUrl = function () {\n        return this.url_;\n    };\n    /**\n     * Sets the relative URL associated with this object.\n     * @param value - A string which represents a relative URI.\n     */\n    ClientDataQueryable.prototype.setUrl = function (value) {\n        common_1.Args.notEmpty(value, "URL");\n        common_1.Args.check(/^\\//.test(value), "URL must be a relative URI");\n        this.url_ = value;\n    };\n    ClientDataQueryable.create = function (model, service) {\n        return new ClientDataQueryable(model, service);\n    };\n    ClientDataQueryable.prototype.append_ = function () {\n        common_1.Args.notNull(this.privates_.left, "Left operand");\n        common_1.Args.notNull(this.privates_.op, "Comparison operator");\n        var expr;\n        if (Array.isArray(this.privates_.right)) {\n            common_1.Args.check((this.privates_.op === "eq") || (this.privates_.op === "ne"), "Wrong operator. Expected equal or not equal");\n            common_1.Args.check(this.privates_.right.length > 0, "Array may not be empty");\n            var arr = this.privates_.right.map(function (x) {\n                return this.privates_.left + " " + this.privates_.op + " " + this.escape_(x);\n            });\n            if (this.privates_.op === "eq") {\n                expr = "(" + arr.join(" or ") + ")";\n            }\n            else {\n                expr = "(" + arr.join(" or ") + ")";\n            }\n        }\n        else {\n            expr = this.privates_.left + " " + this.privates_.op + " " + this.escape_(this.privates_.right);\n        }\n        this.privates_.lop = this.privates_.lop || "and";\n        if (common_1.TextUtils.isNotEmptyString(this.params_.$filter)) {\n            this.params_.$filter = this.params_.$filter + " " + this.privates_.lop + " " + expr;\n        }\n        else {\n            this.params_.$filter = expr;\n        }\n        //clear object\n        this.privates_.left = null;\n        this.privates_.op = null;\n        this.privates_.right = null;\n        return this;\n    };\n    ClientDataQueryable.prototype.escape_ = function (val) {\n        if ((val == null) || (val == undefined)) {\n            return "null";\n        }\n        if (typeof val === \'boolean\') {\n            return (val) ? "true" : "false";\n        }\n        if (typeof val === \'number\') {\n            return val + "";\n        }\n        if (val instanceof Date) {\n            var dt = new Date(val);\n            var year = dt.getFullYear();\n            var month = common_1.TextUtils.zeroPad(dt.getMonth() + 1, 2);\n            var day = common_1.TextUtils.zeroPad(dt.getDate(), 2);\n            var hour = common_1.TextUtils.zeroPad(dt.getHours(), 2);\n            var minute = common_1.TextUtils.zeroPad(dt.getMinutes(), 2);\n            var second = common_1.TextUtils.zeroPad(dt.getSeconds(), 2);\n            var millisecond = common_1.TextUtils.zeroPad(dt.getMilliseconds(), 3);\n            //format timezone\n            var offset = (new Date()).getTimezoneOffset(), timezone = (offset >= 0 ? \'+\' : \'\') + common_1.TextUtils.zeroPad(Math.floor(offset / 60), 2) + \':\' + common_1.TextUtils.zeroPad(offset % 60, 2);\n            return "\'" + year + \'-\' + month + \'-\' + day + \' \' + hour + \':\' + minute + \':\' + second + \'.\' + millisecond + timezone + "\'";\n        }\n        if (val instanceof Array) {\n            var values_1 = [];\n            val.forEach(function (x) {\n                values_1.push(this.escape_(x));\n            });\n            return values_1.join(\',\');\n        }\n        if (typeof val === "string") {\n            var res = val.replace(/[\\0\\n\\r\\b\\t\\\\\'"\\x1a]/g, function (s) {\n                switch (s) {\n                    case "\\0": return "\\\\0";\n                    case "\\n": return "\\\\n";\n                    case "\\r": return "\\\\r";\n                    case "\\b": return "\\\\b";\n                    case "\\t": return "\\\\t";\n                    case "\\x1a": return "\\\\Z";\n                    default: return "\\\\" + s;\n                }\n            });\n            return "\'" + res + "\'";\n        }\n        //otherwise get valueOf\n        if (val.hasOwnProperty("$name"))\n            return val["$name"];\n        else\n            return this.escape_(val.valueOf());\n    };\n    ClientDataQueryable.prototype.where = function (name) {\n        common_1.Args.notEmpty(name, "Left operand");\n        this.privates_.left = name;\n        return this;\n    };\n    ClientDataQueryable.prototype.and = function (name) {\n        common_1.Args.notEmpty(name, "Left operand");\n        this.privates_.left = name;\n        this.privates_.lop = "and";\n        return this;\n    };\n    ClientDataQueryable.prototype.andAlso = function (name) {\n        common_1.Args.notEmpty(name, "Left operand");\n        this.privates_.left = name;\n        this.privates_.lop = "and";\n        if (!common_1.TextUtils.isNullOrUndefined(this.params_.$filter)) {\n            this.params_.$filter = "(" + this.params_.$filter + ")";\n        }\n        return this;\n    };\n    ClientDataQueryable.prototype.or = function (name) {\n        common_1.Args.notEmpty(name, "Left operand");\n        this.privates_.left = name;\n        this.privates_.lop = "or";\n        return this;\n    };\n    ClientDataQueryable.prototype.orElse = function (name) {\n        common_1.Args.notEmpty(name, "Left operand");\n        this.privates_.left = name;\n        this.privates_.lop = "or";\n        if (!common_1.TextUtils.isNullOrUndefined(this.params_.$filter)) {\n            this.params_.$filter = "(" + this.params_.$filter + ")";\n        }\n        return this;\n    };\n    ClientDataQueryable.prototype.compare_ = function (op, value) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        this.privates_.op = op;\n        this.privates_.right = value;\n        return this.append_();\n    };\n    ClientDataQueryable.prototype.equal = function (value) {\n        return this.compare_("eq", value);\n    };\n    ClientDataQueryable.prototype.notEqual = function (value) {\n        return this.compare_("ne", value);\n    };\n    ClientDataQueryable.prototype.greaterThan = function (value) {\n        return this.compare_("gt", value);\n    };\n    ClientDataQueryable.prototype.greaterOrEqual = function (value) {\n        return this.compare_("ge", value);\n    };\n    ClientDataQueryable.prototype.lowerThan = function (value) {\n        return this.compare_("lt", value);\n    };\n    ClientDataQueryable.prototype.lowerOrEqual = function (value) {\n        return this.compare_("le", value);\n    };\n    /**\n     * @param {*} value1\n     * @param {*} value2\n     * @returns {ClientDataQueryable}\n     */\n    ClientDataQueryable.prototype.between = function (value1, value2) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        //generate new filter\n        var s = ClientDataQueryable.create(this.getModel())\n            .where(this.privates_.left).greaterOrEqual(value1)\n            .and(this.privates_.left).lowerOrEqual(value2).toFilter();\n        this.privates_.lop = this.privates_.lop || "and";\n        if (this.params_.$filter) {\n            this.params_.$filter = "(" + this.params_.$filter + ") " + this.privates_.lop + " (" + s + ")";\n        }\n        else {\n            this.params_.$filter = "(" + s + ")";\n        }\n        //clear object\n        this.privates_.left = null;\n        this.privates_.op = null;\n        this.privates_.right = null;\n        this.privates_.lop = null;\n        return this;\n    };\n    ClientDataQueryable.prototype.toFilter = function () {\n        return this.params_.$filter;\n    };\n    ClientDataQueryable.prototype.contains = function (value) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        this.privates_.op = \'ge\';\n        this.privates_.left = common_1.TextUtils.format(\'indexof(%s,%s)\', this.privates_.left, this.escape_(value));\n        this.privates_.right = 0;\n        return this.append_();\n    };\n    ClientDataQueryable.prototype.aggregate_ = function (fn) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        this.privates_.left = common_1.TextUtils.format(\'%s(%s)\', fn, this.privates_.left);\n        return this;\n    };\n    ClientDataQueryable.prototype.getDate = function () {\n        return this.aggregate_("date");\n    };\n    ClientDataQueryable.prototype.getDay = function () {\n        return this.aggregate_("day");\n    };\n    ClientDataQueryable.prototype.getMonth = function () {\n        return this.aggregate_("month");\n    };\n    ClientDataQueryable.prototype.getYear = function () {\n        return this.aggregate_("year");\n    };\n    ClientDataQueryable.prototype.getFullYear = function () {\n        return this.aggregate_("year");\n    };\n    ClientDataQueryable.prototype.getHours = function () {\n        return this.aggregate_("hour");\n    };\n    ClientDataQueryable.prototype.getMinutes = function () {\n        return this.aggregate_("minute");\n    };\n    ClientDataQueryable.prototype.getSeconds = function () {\n        return this.aggregate_("second");\n    };\n    ClientDataQueryable.prototype.length = function () {\n        return this.aggregate_("length");\n    };\n    ClientDataQueryable.prototype.trim = function () {\n        return this.aggregate_("trim");\n    };\n    ClientDataQueryable.prototype.toLocaleLowerCase = function () {\n        return this.aggregate_("tolower");\n    };\n    ClientDataQueryable.prototype.toLowerCase = function () {\n        return this.aggregate_("tolower");\n    };\n    ClientDataQueryable.prototype.toLocaleUpperCase = function () {\n        return this.aggregate_("toupper");\n    };\n    ClientDataQueryable.prototype.toUpperCase = function () {\n        return this.aggregate_("toupper");\n    };\n    ClientDataQueryable.prototype.round = function () {\n        return this.aggregate_("round");\n    };\n    ClientDataQueryable.prototype.floor = function () {\n        return this.aggregate_("floor");\n    };\n    ClientDataQueryable.prototype.ceil = function () {\n        return this.aggregate_("ceiling");\n    };\n    ClientDataQueryable.prototype.indexOf = function (s) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        this.privates_.left = common_1.TextUtils.format(\'indexof(%s,%s)\', this.privates_.left, this.escape_(s));\n        return this;\n    };\n    ClientDataQueryable.prototype.substr = function (pos, length) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        this.privates_.left = common_1.TextUtils.format(\'substring(%s,%s,%s)\', this.privates_.left, pos, length);\n        return this;\n    };\n    ClientDataQueryable.prototype.startsWith = function (s) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        this.privates_.left = common_1.TextUtils.format(\'startswith(%s,%s)\', this.privates_.left, this.escape_(s));\n        return this;\n    };\n    ClientDataQueryable.prototype.endsWith = function (s) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        this.privates_.left = common_1.TextUtils.format(\'endswith(%s,%s)\', this.privates_.left, this.escape_(s));\n        return this;\n    };\n    ClientDataQueryable.prototype.select = function () {\n        var attr = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            attr[_i] = arguments[_i];\n        }\n        common_1.Args.notNull(attr, "Attributes");\n        common_1.Args.check(attr.length > 0, "Attributes may not be empty");\n        var arr = [];\n        for (var i = 0; i < attr.length; i++) {\n            common_1.Args.check(typeof attr[i] === "string", "Invalid attribute. Expected string.");\n            arr.push(attr[i]);\n        }\n        this.params_.$select = arr.join(",");\n        return this;\n    };\n    ClientDataQueryable.prototype.groupBy = function () {\n        var attr = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            attr[_i] = arguments[_i];\n        }\n        common_1.Args.notNull(attr, "Attributes");\n        common_1.Args.check(attr.length > 0, "Attributes may not be empty");\n        var arr = [];\n        for (var i = 0; i < attr.length; i++) {\n            common_1.Args.check(typeof attr[i] === "string", "Invalid attribute. Expected string.");\n            arr.push(attr[i]);\n        }\n        this.params_.$groupby = arr.join(",");\n        return this;\n    };\n    ClientDataQueryable.prototype.expand = function () {\n        var attr = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            attr[_i] = arguments[_i];\n        }\n        common_1.Args.notNull(attr, "Attributes");\n        common_1.Args.check(attr.length > 0, "Attributes may not be empty");\n        var arr = [];\n        for (var i = 0; i < attr.length; i++) {\n            common_1.Args.check(typeof attr[i] === "string", "Invalid attribute. Expected string.");\n            arr.push(attr[i]);\n        }\n        this.params_.$expand = arr.join(",");\n        return this;\n    };\n    ClientDataQueryable.prototype.orderBy = function (attr) {\n        common_1.Args.notEmpty(attr, "Order by attribute");\n        this.params_.$orderby = attr.toString();\n        return this;\n    };\n    ClientDataQueryable.prototype.thenBy = function (attr) {\n        common_1.Args.notEmpty(attr, "Order by attribute");\n        this.params_.$orderby += (this.params_.$orderby ? \',\' + attr.toString() : attr.toString());\n        return this;\n    };\n    ClientDataQueryable.prototype.orderByDescending = function (attr) {\n        common_1.Args.notEmpty(attr, "Order by attribute");\n        this.params_.$orderby = attr.toString() + " desc";\n        return this;\n    };\n    ClientDataQueryable.prototype.thenByDescending = function (attr) {\n        common_1.Args.notEmpty(attr, "Order by attribute");\n        this.params_.$orderby += (this.params_.$orderby ? \',\' + attr.toString() : attr.toString()) + " desc";\n        return this;\n    };\n    ClientDataQueryable.prototype.skip = function (num) {\n        this.params_.$skip = num;\n        return this;\n    };\n    ClientDataQueryable.prototype.take = function (num) {\n        this.params_.$top = num;\n        return this;\n    };\n    ClientDataQueryable.prototype.first = function () {\n        delete this.params_.$top;\n        delete this.params_.$skip;\n        delete this.params_.$count;\n        this.params_.$first = true;\n        return this.getService().execute({\n            method: "GET",\n            url: this.getUrl(),\n            data: this.params_,\n            headers: []\n        });\n    };\n    ClientDataQueryable.prototype.list = function () {\n        delete this.params_.$first;\n        this.params_.$count = true;\n        return this.getService().execute({\n            method: "GET",\n            url: this.getUrl(),\n            data: this.params_,\n            headers: {}\n        });\n    };\n    ClientDataQueryable.prototype.item = function () {\n        return this.first();\n    };\n    ClientDataQueryable.prototype.getItem = function () {\n        return this.first();\n    };\n    ClientDataQueryable.prototype.items = function () {\n        delete this.params_.$first;\n        this.params_.$count = false;\n        return this.getService().execute({\n            method: "GET",\n            url: this.getUrl(),\n            data: this.params_,\n            headers: {}\n        });\n    };\n    ClientDataQueryable.prototype.getItems = function () {\n        return this.items();\n    };\n    ClientDataQueryable.prototype.getList = function () {\n        return this.list();\n    };\n    ClientDataQueryable.prototype.filter = function (s) {\n        common_1.Args.notEmpty("s", "Filter expression");\n        this.params_.$filter = s;\n        return this;\n    };\n    ClientDataQueryable.prototype.levels = function (n) {\n        common_1.Args.Positive(n, \'Levels\');\n        this.params_.$levels = n;\n        return this;\n    };\n    return ClientDataQueryable;\n}());\nexports.ClientDataQueryable = ClientDataQueryable;\nvar ClientDataModel = /** @class */ (function () {\n    function ClientDataModel(name, service) {\n        this.name_ = name;\n        this.service_ = service;\n    }\n    /**\n     * @returns {ClientDataServiceBase}\n     */\n    ClientDataModel.prototype.getService = function () {\n        return this.service_;\n    };\n    ClientDataModel.prototype.getName = function () {\n        return this.name_;\n    };\n    ClientDataModel.prototype.asQueryable = function () {\n        return ClientDataQueryable.create(this.getName(), this.service_);\n    };\n    ClientDataModel.prototype.where = function (attr) {\n        return this.asQueryable().where(attr);\n    };\n    ClientDataModel.prototype.select = function () {\n        var attr = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            attr[_i] = arguments[_i];\n        }\n        var q = this.asQueryable();\n        return q.select.apply(q, attr);\n    };\n    ClientDataModel.prototype.skip = function (num) {\n        return this.asQueryable().skip(num);\n    };\n    ClientDataModel.prototype.take = function (num) {\n        return this.asQueryable().take(num);\n    };\n    ClientDataModel.prototype.save = function (obj) {\n        return this.getService().execute({\n            method: "POST",\n            url: common_1.TextUtils.format("/%s/index.json", this.getName()),\n            data: obj,\n            headers: {}\n        });\n    };\n    ClientDataModel.prototype.schema = function () {\n        return this.getService().execute({ method: "GET",\n            url: common_1.TextUtils.format("/%s/schema.json", this.getName()),\n            data: null,\n            headers: {}\n        });\n    };\n    ClientDataModel.prototype.remove = function (obj) {\n        return this.getService().execute({ method: "DELETE",\n            url: common_1.TextUtils.format("/%s/index.json", this.getName()),\n            data: obj,\n            headers: {}\n        });\n    };\n    ClientDataModel.prototype.levels = function (n) {\n        common_1.Args.Positive(n, \'Levels\');\n        return this.asQueryable().levels(n);\n    };\n    return ClientDataModel;\n}());\nexports.ClientDataModel = ClientDataModel;\nvar ClientDataContext = /** @class */ (function () {\n    function ClientDataContext(service) {\n        this.service_ = service;\n    }\n    ClientDataContext.prototype.setBasicAuthorization = function (username, password) {\n        this.getService().setHeader("Authorization", "Basic " + common_1.TextUtils.toBase64(username + ":" + password));\n        return this;\n    };\n    ClientDataContext.prototype.setBearerAuthorization = function (access_token) {\n        this.getService().setHeader("Authorization", "Bearer " + access_token);\n        return this;\n    };\n    /**\n     * Gets a string which represents the base URL of the MOST Web Application Server.\n     * @returns {string}\n     */\n    ClientDataContext.prototype.getBase = function () {\n        return this.base_;\n    };\n    /**\n     * Sets a string which represents the base URL of the MOST Web Application Server.\n     */\n    ClientDataContext.prototype.setBase = function (value) {\n        common_1.Args.notEmpty(value, "Base URL");\n        this.base_ = value;\n        return this;\n    };\n    /**\n     * Gets the instance of ClientDataService class which is associated with this data context.\n     * @returns {ClientDataServiceBase}\n     */\n    ClientDataContext.prototype.getService = function () {\n        return this.service_;\n    };\n    /**\n     * Gets an instance of ClientDataModel class\n     * @param name - A string which represents the name of the data model.\n     * @returns {ClientDataModel}\n     */\n    ClientDataContext.prototype.model = function (name) {\n        common_1.Args.notEmpty(name, "Model name");\n        return new ClientDataModel(name, this.getService());\n    };\n    return ClientDataContext;\n}());\nexports.ClientDataContext = ClientDataContext;\nvar ClientDataService = /** @class */ (function () {\n    function ClientDataService(base) {\n        this.headers_ = {};\n        if (typeof base === \'undefined\' || base == null) {\n            this.base_ = "/";\n        }\n        else {\n            this.base_ = base;\n            if (!/\\/$/.test(this.base_)) {\n                this.base_ += "/";\n            }\n        }\n    }\n    ClientDataService.prototype.setHeader = function (name, value) {\n        this.headers_[name] = value;\n    };\n    ClientDataService.prototype.getHeaders = function () {\n        return this.headers_;\n    };\n    ClientDataService.prototype.getBase = function () {\n        return this.base_;\n    };\n    ClientDataService.prototype.resolve = function (relative) {\n        if (typeof relative === \'string\' && relative.length > 0) {\n            if (/^\\//.test(relative))\n                return this.getBase() + relative.substr(1);\n            else\n                return this.getBase() + relative;\n        }\n        throw new Error("Invalid argument. Expected a not empty string.");\n    };\n    ClientDataService.prototype.execute = function (options) {\n        throw new Error("Method not implemented.");\n    };\n    return ClientDataService;\n}());\nexports.ClientDataService = ClientDataService;\nvar DefaultUrlBuilder = /** @class */ (function () {\n    function DefaultUrlBuilder() {\n    }\n    DefaultUrlBuilder.prototype.getUrl = function (model) {\n        common_1.Args.notEmpty(model, "Model");\n        return common_1.TextUtils.format("/%s/index.json", model);\n    };\n    return DefaultUrlBuilder;\n}());\nexports.DefaultUrlBuilder = DefaultUrlBuilder;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2NsaWVudC9pbmRleC50cz84ZWFmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7OztHQU9HOztBQUVILHNDQUFxSjtBQUVySjtJQUFBO0lBS0EsQ0FBQztJQUFELDRCQUFDO0FBQUQsQ0FBQztBQUVEO0lBUUksNkJBQVksS0FBWSxFQUFFLE9BQThCO1FBQ3BELGFBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLGFBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLGNBQWMsQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxJQUFJLEdBQUcsa0JBQVMsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzVELGFBQWE7UUFDYixJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUcsQ0FBQztRQUNuQixlQUFlO1FBQ2YsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLHFCQUFxQixFQUFFLENBQUM7SUFDakQsQ0FBQztJQUVEOztPQUVHO0lBQ0gsd0NBQVUsR0FBVjtRQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3pCLENBQUM7SUFFRDs7T0FFRztJQUNILHVDQUFTLEdBQVQ7UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUN4QixDQUFDO0lBRUQ7O09BRUc7SUFDSCxzQ0FBUSxHQUFSLFVBQVMsSUFBVyxFQUFFLEtBQVM7UUFDM0IsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUM7UUFDL0IsQ0FBQztRQUNELElBQUksQ0FBQyxDQUFDO1lBQ0YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO1FBQ3JDLENBQUM7UUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxzQ0FBUSxHQUFSO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDdkIsQ0FBQztJQUVEOzs7T0FHRztJQUNILG9DQUFNLEdBQU47UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztJQUNyQixDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsb0NBQU0sR0FBTixVQUFPLEtBQVk7UUFDZixhQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBQyxLQUFLLENBQUMsQ0FBQztRQUMzQixhQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsNEJBQTRCLENBQUMsQ0FBQztRQUM1RCxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRU0sMEJBQU0sR0FBYixVQUFjLEtBQVksRUFBRSxPQUErQjtRQUN2RCxNQUFNLENBQUMsSUFBSSxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVPLHFDQUFPLEdBQWY7UUFDSSxhQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ2pELGFBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUMscUJBQXFCLENBQUMsQ0FBQztRQUN0RCxJQUFJLElBQUksQ0FBQztRQUNULEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsYUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxLQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEtBQUcsSUFBSSxDQUFDLEVBQUMsNkNBQTZDLENBQUMsQ0FBQztZQUNuSCxhQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBQyxDQUFDLEVBQUMsd0JBQXdCLENBQUMsQ0FBQztZQUNuRSxJQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBUyxDQUFDO2dCQUMzQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pGLENBQUMsQ0FBQyxDQUFDO1lBQ0gsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN4QyxDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBQ0YsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN4QyxDQUFDO1FBQ0wsQ0FBQztRQUNELElBQUksQ0FBQyxDQUFDO1lBQ0YsSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BHLENBQUM7UUFDRCxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUM7UUFDakQsRUFBRSxDQUFDLENBQUMsa0JBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuRCxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQztRQUN4RixDQUFDO1FBQ0QsSUFBSSxDQUFDLENBQUM7WUFDRixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFDaEMsQ0FBQztRQUNELGNBQWM7UUFDZCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDbEYsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBSU8scUNBQU8sR0FBZixVQUFnQixHQUFPO1FBQ25CLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ2xCLENBQUM7UUFDRCxFQUFFLENBQUMsQ0FBQyxPQUFPLEdBQUcsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQzNCLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUNwQyxDQUFDO1FBQ0QsRUFBRSxDQUFDLENBQUMsT0FBTyxHQUFHLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQztZQUMxQixNQUFNLENBQUMsR0FBRyxHQUFDLEVBQUUsQ0FBQztRQUNsQixDQUFDO1FBQ0QsRUFBRSxDQUFDLENBQUMsR0FBRyxZQUFZLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDdEIsSUFBTSxFQUFFLEdBQUcsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDekIsSUFBTSxJQUFJLEdBQUssRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2hDLElBQU0sS0FBSyxHQUFJLGtCQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdkQsSUFBTSxHQUFHLEdBQU0sa0JBQVMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ2xELElBQU0sSUFBSSxHQUFLLGtCQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNuRCxJQUFNLE1BQU0sR0FBRyxrQkFBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDckQsSUFBTSxNQUFNLEdBQUcsa0JBQVMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3JELElBQU0sV0FBVyxHQUFHLGtCQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMvRCxpQkFBaUI7WUFDakIsSUFBTSxNQUFNLEdBQUcsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLENBQUMsaUJBQWlCLEVBQUUsRUFDM0MsUUFBUSxHQUFHLENBQUMsTUFBTSxJQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxrQkFBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBQyxFQUFFLENBQUMsRUFBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsa0JBQVMsQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFDLEVBQUUsRUFBQyxDQUFDLENBQUMsQ0FBQztZQUMxSCxNQUFNLENBQUMsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLFdBQVcsR0FBRyxRQUFRLEdBQUcsR0FBRyxDQUFDO1FBQ2hJLENBQUM7UUFDRCxFQUFFLENBQUMsQ0FBQyxHQUFHLFlBQVksS0FBSyxDQUFDLENBQUMsQ0FBQztZQUN2QixJQUFNLFFBQU0sR0FBRyxFQUFFLENBQUM7WUFDbEIsR0FBRyxDQUFDLE9BQU8sQ0FBQyxVQUFTLENBQUM7Z0JBQ2xCLFFBQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pDLENBQUMsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxDQUFDLFFBQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDNUIsQ0FBQztRQUNELEVBQUUsQ0FBQyxDQUFDLE9BQU8sR0FBRyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDMUIsSUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyx1QkFBdUIsRUFBRSxVQUFTLENBQUM7Z0JBQ3ZELE1BQU0sRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNQLEtBQUssSUFBSSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUM7b0JBQ3hCLEtBQUssSUFBSSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUM7b0JBQ3hCLEtBQUssSUFBSSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUM7b0JBQ3hCLEtBQUssSUFBSSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUM7b0JBQ3hCLEtBQUssSUFBSSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUM7b0JBQ3hCLEtBQUssTUFBTSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUM7b0JBQzFCLFNBQVMsTUFBTSxDQUFDLElBQUksR0FBQyxDQUFDLENBQUM7Z0JBQzNCLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztZQUNILE1BQU0sQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUMzQixDQUFDO1FBQ0QsdUJBQXVCO1FBQ3ZCLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDNUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN4QixJQUFJO1lBQ0EsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVELG1DQUFLLEdBQUwsVUFBTSxJQUFXO1FBQ2IsYUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUMsY0FBYyxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQzNCLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELGlDQUFHLEdBQUgsVUFBSSxJQUFXO1FBQ1gsYUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUMsY0FBYyxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQzNCLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQztRQUMzQixNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxxQ0FBTyxHQUFQLFVBQVEsSUFBVztRQUNmLGFBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUMzQixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUM7UUFDM0IsRUFBRSxDQUFDLENBQUMsQ0FBQyxrQkFBUyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JELElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7UUFDNUQsQ0FBQztRQUNELE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELGdDQUFFLEdBQUYsVUFBRyxJQUFXO1FBQ1YsYUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUMsY0FBYyxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQzNCLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQztRQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxvQ0FBTSxHQUFOLFVBQU8sSUFBVztRQUNkLGFBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUMzQixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUM7UUFDMUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxrQkFBUyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JELElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7UUFDNUQsQ0FBQztRQUNELE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVPLHNDQUFRLEdBQWhCLFVBQWlCLEVBQUUsRUFBRSxLQUFLO1FBQ3RCLGFBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDdkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUN4RCxDQUFDO0lBRUQsbUNBQUssR0FBTCxVQUFNLEtBQVM7UUFDWCxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELHNDQUFRLEdBQVIsVUFBUyxLQUFTO1FBQ2QsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFRCx5Q0FBVyxHQUFYLFVBQVksS0FBUztRQUNqQixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELDRDQUFjLEdBQWQsVUFBZSxLQUFTO1FBQ3BCLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsdUNBQVMsR0FBVCxVQUFVLEtBQVM7UUFDZixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELDBDQUFZLEdBQVosVUFBYSxLQUFTO1FBQ2xCLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILHFDQUFPLEdBQVAsVUFBUSxNQUFVLEVBQUUsTUFBVTtRQUMxQixhQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDckQscUJBQXFCO1FBQ3JCLElBQU0sQ0FBQyxHQUFHLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7YUFDaEQsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQzthQUNqRCxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDOUQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDO1FBQ2pELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUN2QixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQ25HLENBQUM7UUFDRCxJQUFJLENBQUMsQ0FBQztZQUNGLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQ3pDLENBQUM7UUFDRCxjQUFjO1FBQ2QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDO1FBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDO1FBQzdHLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELHNDQUFRLEdBQVI7UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUM7SUFDaEMsQ0FBQztJQUVELHNDQUFRLEdBQVIsVUFBUyxLQUFTO1FBQ2QsYUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQztRQUN6QixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxrQkFBUyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDbkcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDMUIsQ0FBQztJQUVPLHdDQUFVLEdBQWxCLFVBQW1CLEVBQVM7UUFDeEIsYUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLGtCQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxRSxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxxQ0FBTyxHQUFQO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUVELG9DQUFNLEdBQU47UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRUQsc0NBQVEsR0FBUjtRQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxxQ0FBTyxHQUFQO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUVELHlDQUFXLEdBQVg7UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRUQsc0NBQVEsR0FBUjtRQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCx3Q0FBVSxHQUFWO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVELHdDQUFVLEdBQVY7UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsb0NBQU0sR0FBTjtRQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRCxrQ0FBSSxHQUFKO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUVELCtDQUFpQixHQUFqQjtRQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFRCx5Q0FBVyxHQUFYO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELCtDQUFpQixHQUFqQjtRQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFRCx5Q0FBVyxHQUFYO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELG1DQUFLLEdBQUw7UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBRUQsbUNBQUssR0FBTDtRQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxrQ0FBSSxHQUFKO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELHFDQUFPLEdBQVAsVUFBUSxDQUFRO1FBQ1osYUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLGtCQUFTLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvRixNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxvQ0FBTSxHQUFOLFVBQU8sR0FBVSxFQUFDLE1BQWE7UUFDM0IsYUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLGtCQUFTLENBQUMsTUFBTSxDQUFDLHFCQUFxQixFQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMvRixNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCx3Q0FBVSxHQUFWLFVBQVcsQ0FBUTtRQUNmLGFBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxrQkFBUyxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsRUFBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakcsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsc0NBQVEsR0FBUixVQUFTLENBQVE7UUFDYixhQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsa0JBQVMsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9GLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELG9DQUFNLEdBQU47UUFBTyxjQUFnQjthQUFoQixVQUFnQixFQUFoQixxQkFBZ0IsRUFBaEIsSUFBZ0I7WUFBaEIseUJBQWdCOztRQUNuQixhQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxZQUFZLENBQUMsQ0FBQztRQUNqQyxhQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUMsQ0FBQyxFQUFDLDZCQUE2QixDQUFDLENBQUM7UUFDeEQsSUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2YsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDbkMsYUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxRQUFRLEVBQUUscUNBQXFDLENBQUMsQ0FBQztZQUMvRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELHFDQUFPLEdBQVA7UUFBUSxjQUFnQjthQUFoQixVQUFnQixFQUFoQixxQkFBZ0IsRUFBaEIsSUFBZ0I7WUFBaEIseUJBQWdCOztRQUNwQixhQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxZQUFZLENBQUMsQ0FBQztRQUNqQyxhQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUMsQ0FBQyxFQUFDLDZCQUE2QixDQUFDLENBQUM7UUFDeEQsSUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2YsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDbkMsYUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxRQUFRLEVBQUUscUNBQXFDLENBQUMsQ0FBQztZQUMvRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RDLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELG9DQUFNLEdBQU47UUFBTyxjQUFnQjthQUFoQixVQUFnQixFQUFoQixxQkFBZ0IsRUFBaEIsSUFBZ0I7WUFBaEIseUJBQWdCOztRQUNuQixhQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxZQUFZLENBQUMsQ0FBQztRQUNqQyxhQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUMsQ0FBQyxFQUFDLDZCQUE2QixDQUFDLENBQUM7UUFDeEQsSUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2YsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDbkMsYUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxRQUFRLEVBQUUscUNBQXFDLENBQUMsQ0FBQztZQUMvRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELHFDQUFPLEdBQVAsVUFBUSxJQUFXO1FBQ2YsYUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDeEMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsb0NBQU0sR0FBTixVQUFPLElBQVc7UUFDZCxhQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzNGLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELCtDQUFpQixHQUFqQixVQUFrQixJQUFXO1FBQ3pCLGFBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLE9BQU8sQ0FBQztRQUNsRCxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCw4Q0FBZ0IsR0FBaEIsVUFBaUIsSUFBVztRQUN4QixhQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQztRQUNyRyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxrQ0FBSSxHQUFKLFVBQUssR0FBVTtRQUNYLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztRQUN6QixNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxrQ0FBSSxHQUFKLFVBQUssR0FBVTtRQUNYLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUN4QixNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxtQ0FBSyxHQUFMO1FBQ0ksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztRQUN6QixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO1FBQzFCLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7UUFDM0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQzNCLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsT0FBTyxDQUFDO1lBQzdCLE1BQU0sRUFBQyxLQUFLO1lBQ1osR0FBRyxFQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDakIsSUFBSSxFQUFDLElBQUksQ0FBQyxPQUFPO1lBQ2pCLE9BQU8sRUFBQyxFQUFFO1NBQ2IsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELGtDQUFJLEdBQUo7UUFDSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO1FBQzNCLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUMzQixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUM3QixNQUFNLEVBQUMsS0FBSztZQUNaLEdBQUcsRUFBQyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2pCLElBQUksRUFBQyxJQUFJLENBQUMsT0FBTztZQUNqQixPQUFPLEVBQUMsRUFBRTtTQUNiLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxrQ0FBSSxHQUFKO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQscUNBQU8sR0FBUDtRQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVELG1DQUFLLEdBQUw7UUFDSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO1FBQzNCLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUM1QixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUM3QixNQUFNLEVBQUMsS0FBSztZQUNaLEdBQUcsRUFBQyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2pCLElBQUksRUFBQyxJQUFJLENBQUMsT0FBTztZQUNqQixPQUFPLEVBQUMsRUFBRTtTQUNiLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxzQ0FBUSxHQUFSO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQscUNBQU8sR0FBUDtRQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVELG9DQUFNLEdBQU4sVUFBTyxDQUFRO1FBQ1gsYUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7UUFDekIsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsb0NBQU0sR0FBTixVQUFPLENBQVE7UUFDWCxhQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7UUFDekIsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUwsMEJBQUM7QUFBRCxDQUFDO0FBbmZZLGtEQUFtQjtBQXFmaEM7SUFLSSx5QkFBWSxJQUFXLEVBQUUsT0FBNkI7UUFDbEQsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDbEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7SUFDNUIsQ0FBQztJQUVEOztPQUVHO0lBQ0gsb0NBQVUsR0FBVjtRQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxpQ0FBTyxHQUFQO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVELHFDQUFXLEdBQVg7UUFDSSxNQUFNLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUVELCtCQUFLLEdBQUwsVUFBTSxJQUFXO1FBQ2IsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVELGdDQUFNLEdBQU47UUFBTyxjQUFnQjthQUFoQixVQUFnQixFQUFoQixxQkFBZ0IsRUFBaEIsSUFBZ0I7WUFBaEIseUJBQWdCOztRQUNuQixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDN0IsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRUQsOEJBQUksR0FBSixVQUFLLEdBQVU7UUFDWCxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsOEJBQUksR0FBSixVQUFLLEdBQVU7UUFDWCxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsOEJBQUksR0FBSixVQUFLLEdBQU87UUFDUixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUM3QixNQUFNLEVBQUMsTUFBTTtZQUNiLEdBQUcsRUFBQyxrQkFBUyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDdEQsSUFBSSxFQUFDLEdBQUc7WUFDUixPQUFPLEVBQUMsRUFBRTtTQUNiLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxnQ0FBTSxHQUFOO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxNQUFNLEVBQUMsS0FBSztZQUMzQyxHQUFHLEVBQUMsa0JBQVMsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3ZELElBQUksRUFBQyxJQUFJO1lBQ1QsT0FBTyxFQUFDLEVBQUU7U0FDYixDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsZ0NBQU0sR0FBTixVQUFPLEdBQU87UUFDVixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLE1BQU0sRUFBQyxRQUFRO1lBQzlDLEdBQUcsRUFBQyxrQkFBUyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDdEQsSUFBSSxFQUFDLEdBQUc7WUFDUixPQUFPLEVBQUMsRUFBRTtTQUNiLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxnQ0FBTSxHQUFOLFVBQU8sQ0FBUTtRQUNYLGFBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFTCxzQkFBQztBQUFELENBQUM7QUF4RVksMENBQWU7QUEwRTVCO0lBS0ksMkJBQVksT0FBK0I7UUFDdkMsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7SUFDNUIsQ0FBQztJQUVELGlEQUFxQixHQUFyQixVQUF1QixRQUFlLEVBQUUsUUFBZTtRQUNuRCxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsU0FBUyxDQUFDLGVBQWUsRUFBRSxRQUFRLEdBQUcsa0JBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxHQUFHLEdBQUcsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ3ZHLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELGtEQUFzQixHQUF0QixVQUF3QixZQUFvQjtRQUN4QyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsU0FBUyxDQUFDLGVBQWUsRUFBRSxTQUFTLEdBQUcsWUFBWSxDQUFDLENBQUM7UUFDdkUsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsbUNBQU8sR0FBUDtRQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3RCLENBQUM7SUFFRDs7T0FFRztJQUNILG1DQUFPLEdBQVAsVUFBUSxLQUFZO1FBQ2hCLGFBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVEOzs7T0FHRztJQUNILHNDQUFVLEdBQVY7UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN6QixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILGlDQUFLLEdBQUwsVUFBTSxJQUFXO1FBQ2IsYUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUMsWUFBWSxDQUFDLENBQUM7UUFDakMsTUFBTSxDQUFDLElBQUksZUFBZSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBR0wsd0JBQUM7QUFBRCxDQUFDO0FBdkRZLDhDQUFpQjtBQXlEOUI7SUFNSSwyQkFBWSxJQUFXO1FBQ25CLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ25CLEVBQUUsQ0FBQyxDQUFDLE9BQU8sSUFBSSxLQUFLLFdBQVcsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM5QyxJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztRQUNyQixDQUFDO1FBQ0QsSUFBSSxDQUFDLENBQUM7WUFDRixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztZQUNsQixFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDMUIsSUFBSSxDQUFDLEtBQUssSUFBSSxHQUFHLENBQUM7WUFDdEIsQ0FBQztRQUVMLENBQUM7SUFDTCxDQUFDO0lBRUQscUNBQVMsR0FBVCxVQUFVLElBQVcsRUFBRSxLQUFZO1FBQy9CLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxzQ0FBVSxHQUFWO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDekIsQ0FBQztJQUVELG1DQUFPLEdBQVA7UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRUQsbUNBQU8sR0FBUCxVQUFRLFFBQWdCO1FBQ3BCLEVBQUUsQ0FBQyxDQUFDLE9BQU8sUUFBUSxLQUFLLFFBQVEsSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEQsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDckIsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9DLElBQUk7Z0JBQ0EsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsR0FBRyxRQUFRLENBQUM7UUFDekMsQ0FBQztRQUNELE1BQU8sSUFBSSxLQUFLLENBQUMsZ0RBQWdELENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBR0QsbUNBQU8sR0FBUCxVQUFRLE9BQWtDO1FBQ3RDLE1BQU0sSUFBSSxLQUFLLENBQUMseUJBQXlCLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRUwsd0JBQUM7QUFBRCxDQUFDO0FBL0NZLDhDQUFpQjtBQWlEOUI7SUFBQTtJQU1BLENBQUM7SUFMRyxrQ0FBTSxHQUFOLFVBQU8sS0FBYTtRQUNoQixhQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBQyxPQUFPLENBQUMsQ0FBQztRQUM3QixNQUFNLENBQUMsa0JBQVMsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVMLHdCQUFDO0FBQUQsQ0FBQztBQU5ZLDhDQUFpQiIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogTU9TVCBXZWIgRnJhbWV3b3JrIDIuMCBDb2RlbmFtZSBCbHVlc2hpZnRcbiAqIENvcHlyaWdodCAoYykgMjAxNywgVEhFTU9TVCBMUCBBbGwgcmlnaHRzIHJlc2VydmVkXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gQlNELTMtQ2xhdXNlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly90aGVtb3N0LmlvL2xpY2Vuc2VcbiAqL1xuXG5pbXBvcnQge0NsaWVudERhdGFTZXJ2aWNlQmFzZSwgQ2xpZW50RGF0YUNvbnRleHRCYXNlLCBUZXh0VXRpbHMsIERhdGFTZXJ2aWNlUXVlcnlQYXJhbXMsIERhdGFTZXJ2aWNlRXhlY3V0ZU9wdGlvbnMsQXJncywgVXJsQnVpbGRlcn0gZnJvbSAnLi9jb21tb24nO1xuXG5jbGFzcyBDbGllbnRRdWVyeUV4cHJlc3Npb24ge1xuICAgIHB1YmxpYyBsZWZ0OmFueTtcbiAgICBwdWJsaWMgb3A6c3RyaW5nO1xuICAgIHB1YmxpYyBsb3A6c3RyaW5nO1xuICAgIHB1YmxpYyByaWdodDphbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBDbGllbnREYXRhUXVlcnlhYmxlIHtcblxuICAgIHByaXZhdGUgbW9kZWxfOnN0cmluZztcbiAgICBwcml2YXRlIHVybF86c3RyaW5nO1xuICAgIHByaXZhdGUgc2VydmljZV86Q2xpZW50RGF0YVNlcnZpY2VCYXNlO1xuICAgIHByaXZhdGUgcGFyYW1zXzphbnk7XG4gICAgcHJpdmF0ZSBwcml2YXRlc186Q2xpZW50UXVlcnlFeHByZXNzaW9uO1xuXG4gICAgY29uc3RydWN0b3IobW9kZWw6c3RyaW5nLCBzZXJ2aWNlOiBDbGllbnREYXRhU2VydmljZUJhc2UpIHtcbiAgICAgICAgQXJncy5ub3RFbXB0eShtb2RlbCwgXCJNb2RlbFwiKTtcbiAgICAgICAgdGhpcy5tb2RlbF8gPSBtb2RlbDtcbiAgICAgICAgQXJncy5ub3ROdWxsKHNlcnZpY2UsIFwiRGF0YSBTZXJ2aWNlXCIpO1xuICAgICAgICB0aGlzLnNlcnZpY2VfID0gc2VydmljZTtcbiAgICAgICAgdGhpcy51cmxfID0gVGV4dFV0aWxzLmZvcm1hdChcIi8lcy9pbmRleC5qc29uXCIsIHRoaXMubW9kZWxfKTtcbiAgICAgICAgLy9pbml0IHBhcmFtc1xuICAgICAgICB0aGlzLnBhcmFtc18gPSB7IH07XG4gICAgICAgIC8vaW5pdCBwcml2YXRlc1xuICAgICAgICB0aGlzLnByaXZhdGVzXyA9IG5ldyBDbGllbnRRdWVyeUV4cHJlc3Npb24oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Q2xpZW50RGF0YVNlcnZpY2VCYXNlfVxuICAgICAqL1xuICAgIGdldFNlcnZpY2UoKTogQ2xpZW50RGF0YVNlcnZpY2VCYXNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZV87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0RhdGFTZXJ2aWNlUXVlcnlQYXJhbXN9XG4gICAgICovXG4gICAgZ2V0UGFyYW1zKCk6IERhdGFTZXJ2aWNlUXVlcnlQYXJhbXMge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXNfO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtDbGllbnREYXRhUXVlcnlhYmxlfVxuICAgICAqL1xuICAgIHNldFBhcmFtKG5hbWU6c3RyaW5nLCB2YWx1ZTphbnkpOiBDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgaWYgKC9eXFwkLy50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtc19bbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zX1tcIiRcIiArIG5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHN0cmluZyB3aGljaCByZXByZXNlbnRzIHRoZSBuYW1lIG9mIHRoZSBkYXRhIG1vZGVsIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldE1vZGVsKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsXztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgc3RyaW5nIHdoaWNoIHJlcHJlc2VudHMgdGhlIHJlbGF0aXZlIFVSTCBhc3NvY2lhdGVkIHdpdGggdGhpcyBvYmplY3QuXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRVcmwoKTpzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy51cmxfO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHJlbGF0aXZlIFVSTCBhc3NvY2lhdGVkIHdpdGggdGhpcyBvYmplY3QuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gQSBzdHJpbmcgd2hpY2ggcmVwcmVzZW50cyBhIHJlbGF0aXZlIFVSSS5cbiAgICAgKi9cbiAgICBzZXRVcmwodmFsdWU6c3RyaW5nKSB7XG4gICAgICAgIEFyZ3Mubm90RW1wdHkodmFsdWUsXCJVUkxcIik7XG4gICAgICAgIEFyZ3MuY2hlY2soL15cXC8vLnRlc3QodmFsdWUpLCBcIlVSTCBtdXN0IGJlIGEgcmVsYXRpdmUgVVJJXCIpO1xuICAgICAgICB0aGlzLnVybF8gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlKG1vZGVsOnN0cmluZywgc2VydmljZT86IENsaWVudERhdGFTZXJ2aWNlQmFzZSk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50RGF0YVF1ZXJ5YWJsZShtb2RlbCwgc2VydmljZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhcHBlbmRfKCkge1xuICAgICAgICBBcmdzLm5vdE51bGwodGhpcy5wcml2YXRlc18ubGVmdCxcIkxlZnQgb3BlcmFuZFwiKTtcbiAgICAgICAgQXJncy5ub3ROdWxsKHRoaXMucHJpdmF0ZXNfLm9wLFwiQ29tcGFyaXNvbiBvcGVyYXRvclwiKTtcbiAgICAgICAgbGV0IGV4cHI7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucHJpdmF0ZXNfLnJpZ2h0KSkge1xuICAgICAgICAgICAgQXJncy5jaGVjaygodGhpcy5wcml2YXRlc18ub3A9PT1cImVxXCIpIHx8ICh0aGlzLnByaXZhdGVzXy5vcD09PVwibmVcIiksXCJXcm9uZyBvcGVyYXRvci4gRXhwZWN0ZWQgZXF1YWwgb3Igbm90IGVxdWFsXCIpO1xuICAgICAgICAgICAgQXJncy5jaGVjayh0aGlzLnByaXZhdGVzXy5yaWdodC5sZW5ndGg+MCxcIkFycmF5IG1heSBub3QgYmUgZW1wdHlcIik7XG4gICAgICAgICAgICBjb25zdCBhcnIgPSB0aGlzLnByaXZhdGVzXy5yaWdodC5tYXAoZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByaXZhdGVzXy5sZWZ0ICsgXCIgXCIgKyB0aGlzLnByaXZhdGVzXy5vcCArIFwiIFwiICsgdGhpcy5lc2NhcGVfKHgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcml2YXRlc18ub3AgPT09IFwiZXFcIikge1xuICAgICAgICAgICAgICAgIGV4cHIgPSBcIihcIiArIGFyci5qb2luKFwiIG9yIFwiKSArIFwiKVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXhwciA9IFwiKFwiICsgYXJyLmpvaW4oXCIgb3IgXCIpICsgXCIpXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBleHByID0gdGhpcy5wcml2YXRlc18ubGVmdCArIFwiIFwiICsgdGhpcy5wcml2YXRlc18ub3AgKyBcIiBcIiArIHRoaXMuZXNjYXBlXyh0aGlzLnByaXZhdGVzXy5yaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcml2YXRlc18ubG9wID0gdGhpcy5wcml2YXRlc18ubG9wIHx8IFwiYW5kXCI7XG4gICAgICAgIGlmIChUZXh0VXRpbHMuaXNOb3RFbXB0eVN0cmluZyh0aGlzLnBhcmFtc18uJGZpbHRlcikpIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zXy4kZmlsdGVyID0gdGhpcy5wYXJhbXNfLiRmaWx0ZXIgKyBcIiBcIiArIHRoaXMucHJpdmF0ZXNfLmxvcCArIFwiIFwiICsgZXhwcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zXy4kZmlsdGVyID0gZXhwcjtcbiAgICAgICAgfVxuICAgICAgICAvL2NsZWFyIG9iamVjdFxuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gbnVsbDsgdGhpcy5wcml2YXRlc18ub3AgPSBudWxsOyB0aGlzLnByaXZhdGVzXy5yaWdodCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG5cbiAgICBwcml2YXRlIGVzY2FwZV8odmFsOmFueSkge1xuICAgICAgICBpZiAoKHZhbCA9PSBudWxsKSB8fCAodmFsPT11bmRlZmluZWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgcmV0dXJuICh2YWwpID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsK1wiXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGR0ID0gbmV3IERhdGUodmFsKTtcbiAgICAgICAgICAgIGNvbnN0IHllYXIgICA9IGR0LmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICBjb25zdCBtb250aCAgPSBUZXh0VXRpbHMuemVyb1BhZChkdC5nZXRNb250aCgpICsgMSwgMik7XG4gICAgICAgICAgICBjb25zdCBkYXkgICAgPSBUZXh0VXRpbHMuemVyb1BhZChkdC5nZXREYXRlKCksIDIpO1xuICAgICAgICAgICAgY29uc3QgaG91ciAgID0gVGV4dFV0aWxzLnplcm9QYWQoZHQuZ2V0SG91cnMoKSwgMik7XG4gICAgICAgICAgICBjb25zdCBtaW51dGUgPSBUZXh0VXRpbHMuemVyb1BhZChkdC5nZXRNaW51dGVzKCksIDIpO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kID0gVGV4dFV0aWxzLnplcm9QYWQoZHQuZ2V0U2Vjb25kcygpLCAyKTtcbiAgICAgICAgICAgIGNvbnN0IG1pbGxpc2Vjb25kID0gVGV4dFV0aWxzLnplcm9QYWQoZHQuZ2V0TWlsbGlzZWNvbmRzKCksIDMpO1xuICAgICAgICAgICAgLy9mb3JtYXQgdGltZXpvbmVcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lem9uZU9mZnNldCgpLFxuICAgICAgICAgICAgICAgIHRpbWV6b25lID0gKG9mZnNldD49MCA/ICcrJyA6ICcnKSArIFRleHRVdGlscy56ZXJvUGFkKE1hdGguZmxvb3Iob2Zmc2V0LzYwKSwyKSArICc6JyArIFRleHRVdGlscy56ZXJvUGFkKG9mZnNldCU2MCwyKTtcbiAgICAgICAgICAgIHJldHVybiBcIidcIiArIHllYXIgKyAnLScgKyBtb250aCArICctJyArIGRheSArICcgJyArIGhvdXIgKyAnOicgKyBtaW51dGUgKyAnOicgKyBzZWNvbmQgKyAnLicgKyBtaWxsaXNlY29uZCArIHRpbWV6b25lICsgXCInXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgIHZhbC5mb3JFYWNoKGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh0aGlzLmVzY2FwZV8oeCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzLmpvaW4oJywnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gdmFsLnJlcGxhY2UoL1tcXDBcXG5cXHJcXGJcXHRcXFxcJ1wiXFx4MWFdL2csIGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2gocykge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiXFwwXCI6IHJldHVybiBcIlxcXFwwXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJcXG5cIjogcmV0dXJuIFwiXFxcXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlxcclwiOiByZXR1cm4gXCJcXFxcclwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiXFxiXCI6IHJldHVybiBcIlxcXFxiXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJcXHRcIjogcmV0dXJuIFwiXFxcXHRcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlxceDFhXCI6IHJldHVybiBcIlxcXFxaXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBcIlxcXFxcIitzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIFwiJ1wiICsgcmVzICsgXCInXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy9vdGhlcndpc2UgZ2V0IHZhbHVlT2ZcbiAgICAgICAgaWYgKHZhbC5oYXNPd25Qcm9wZXJ0eShcIiRuYW1lXCIpKVxuICAgICAgICAgICAgcmV0dXJuIHZhbFtcIiRuYW1lXCJdO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lc2NhcGVfKHZhbC52YWx1ZU9mKCkpO1xuICAgIH1cblxuICAgIHdoZXJlKG5hbWU6c3RyaW5nKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5ub3RFbXB0eShuYW1lLFwiTGVmdCBvcGVyYW5kXCIpO1xuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gbmFtZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgYW5kKG5hbWU6c3RyaW5nKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5ub3RFbXB0eShuYW1lLFwiTGVmdCBvcGVyYW5kXCIpO1xuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gbmFtZTtcbiAgICAgICAgdGhpcy5wcml2YXRlc18ubG9wID0gXCJhbmRcIjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgYW5kQWxzbyhuYW1lOnN0cmluZyk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIEFyZ3Mubm90RW1wdHkobmFtZSxcIkxlZnQgb3BlcmFuZFwiKTtcbiAgICAgICAgdGhpcy5wcml2YXRlc18ubGVmdCA9IG5hbWU7XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxvcCA9IFwiYW5kXCI7XG4gICAgICAgIGlmICghVGV4dFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMucGFyYW1zXy4kZmlsdGVyKSkge1xuICAgICAgICAgICAgdGhpcy5wYXJhbXNfLiRmaWx0ZXIgPSBcIihcIiArIHRoaXMucGFyYW1zXy4kZmlsdGVyICsgXCIpXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgb3IobmFtZTpzdHJpbmcpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdEVtcHR5KG5hbWUsXCJMZWZ0IG9wZXJhbmRcIik7XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxlZnQgPSBuYW1lO1xuICAgICAgICB0aGlzLnByaXZhdGVzXy5sb3AgPSBcIm9yXCI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG9yRWxzZShuYW1lOnN0cmluZyk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIEFyZ3Mubm90RW1wdHkobmFtZSxcIkxlZnQgb3BlcmFuZFwiKTtcbiAgICAgICAgdGhpcy5wcml2YXRlc18ubGVmdCA9IG5hbWU7XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxvcCA9IFwib3JcIjtcbiAgICAgICAgaWYgKCFUZXh0VXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5wYXJhbXNfLiRmaWx0ZXIpKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtc18uJGZpbHRlciA9IFwiKFwiICsgdGhpcy5wYXJhbXNfLiRmaWx0ZXIgKyBcIilcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbXBhcmVfKG9wLCB2YWx1ZSk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIEFyZ3Mubm90TnVsbCh0aGlzLnByaXZhdGVzXy5sZWZ0LFwiVGhlIGxlZnQgb3BlcmFuZFwiKTtcbiAgICAgICAgdGhpcy5wcml2YXRlc18ub3AgPSBvcDtcbiAgICAgICAgdGhpcy5wcml2YXRlc18ucmlnaHQgPSB2YWx1ZTsgcmV0dXJuIHRoaXMuYXBwZW5kXygpO1xuICAgIH1cblxuICAgIGVxdWFsKHZhbHVlOmFueSk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVfKFwiZXFcIiwgdmFsdWUpO1xuICAgIH1cblxuICAgIG5vdEVxdWFsKHZhbHVlOmFueSk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVfKFwibmVcIiwgdmFsdWUpO1xuICAgIH1cblxuICAgIGdyZWF0ZXJUaGFuKHZhbHVlOmFueSk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVfKFwiZ3RcIiwgdmFsdWUpO1xuICAgIH1cblxuICAgIGdyZWF0ZXJPckVxdWFsKHZhbHVlOmFueSk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVfKFwiZ2VcIiwgdmFsdWUpO1xuICAgIH1cblxuICAgIGxvd2VyVGhhbih2YWx1ZTphbnkpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlXyhcImx0XCIsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBsb3dlck9yRXF1YWwodmFsdWU6YW55KTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZV8oXCJsZVwiLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZTFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlMlxuICAgICAqIEByZXR1cm5zIHtDbGllbnREYXRhUXVlcnlhYmxlfVxuICAgICAqL1xuICAgIGJldHdlZW4odmFsdWUxOmFueSwgdmFsdWUyOmFueSk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIEFyZ3Mubm90TnVsbCh0aGlzLnByaXZhdGVzXy5sZWZ0LFwiVGhlIGxlZnQgb3BlcmFuZFwiKTtcbiAgICAgICAgLy9nZW5lcmF0ZSBuZXcgZmlsdGVyXG4gICAgICAgIGNvbnN0IHMgPSBDbGllbnREYXRhUXVlcnlhYmxlLmNyZWF0ZSh0aGlzLmdldE1vZGVsKCkpXG4gICAgICAgICAgICAud2hlcmUodGhpcy5wcml2YXRlc18ubGVmdCkuZ3JlYXRlck9yRXF1YWwodmFsdWUxKVxuICAgICAgICAgICAgLmFuZCh0aGlzLnByaXZhdGVzXy5sZWZ0KS5sb3dlck9yRXF1YWwodmFsdWUyKS50b0ZpbHRlcigpO1xuICAgICAgICB0aGlzLnByaXZhdGVzXy5sb3AgPSB0aGlzLnByaXZhdGVzXy5sb3AgfHwgXCJhbmRcIjtcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zXy4kZmlsdGVyKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtc18uJGZpbHRlciA9IFwiKFwiICsgdGhpcy5wYXJhbXNfLiRmaWx0ZXIgKyBcIikgXCIgKyB0aGlzLnByaXZhdGVzXy5sb3AgKyBcIiAoXCIgKyBzICsgXCIpXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtc18uJGZpbHRlciA9IFwiKFwiICsgcyArIFwiKVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vY2xlYXIgb2JqZWN0XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxlZnQgPSBudWxsOyB0aGlzLnByaXZhdGVzXy5vcCA9IG51bGw7IHRoaXMucHJpdmF0ZXNfLnJpZ2h0ID0gbnVsbDsgdGhpcy5wcml2YXRlc18ubG9wID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdG9GaWx0ZXIoKTpzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXNfLiRmaWx0ZXI7XG4gICAgfVxuXG4gICAgY29udGFpbnModmFsdWU6YW55KTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5ub3ROdWxsKHRoaXMucHJpdmF0ZXNfLmxlZnQsXCJUaGUgbGVmdCBvcGVyYW5kXCIpO1xuICAgICAgICB0aGlzLnByaXZhdGVzXy5vcCA9ICdnZSc7XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxlZnQgPSBUZXh0VXRpbHMuZm9ybWF0KCdpbmRleG9mKCVzLCVzKScsIHRoaXMucHJpdmF0ZXNfLmxlZnQsIHRoaXMuZXNjYXBlXyh2YWx1ZSkpO1xuICAgICAgICB0aGlzLnByaXZhdGVzXy5yaWdodCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGVuZF8oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFnZ3JlZ2F0ZV8oZm46c3RyaW5nKTogQ2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIEFyZ3Mubm90TnVsbCh0aGlzLnByaXZhdGVzXy5sZWZ0LFwiVGhlIGxlZnQgb3BlcmFuZFwiKTtcbiAgICAgICAgdGhpcy5wcml2YXRlc18ubGVmdCA9IFRleHRVdGlscy5mb3JtYXQoJyVzKCVzKScsIGZuLCB0aGlzLnByaXZhdGVzXy5sZWZ0KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0RGF0ZSgpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVfKFwiZGF0ZVwiKTtcbiAgICB9XG5cbiAgICBnZXREYXkoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcImRheVwiKTtcbiAgICB9XG5cbiAgICBnZXRNb250aCgpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVfKFwibW9udGhcIik7XG4gICAgfVxuXG4gICAgZ2V0WWVhcigpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVfKFwieWVhclwiKTtcbiAgICB9XG5cbiAgICBnZXRGdWxsWWVhcigpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVfKFwieWVhclwiKTtcbiAgICB9XG5cbiAgICBnZXRIb3VycygpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVfKFwiaG91clwiKTtcbiAgICB9XG5cbiAgICBnZXRNaW51dGVzKCk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJtaW51dGVcIik7XG4gICAgfVxuXG4gICAgZ2V0U2Vjb25kcygpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVfKFwic2Vjb25kXCIpO1xuICAgIH1cblxuICAgIGxlbmd0aCgpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVfKFwibGVuZ3RoXCIpO1xuICAgIH1cblxuICAgIHRyaW0oKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcInRyaW1cIik7XG4gICAgfVxuXG4gICAgdG9Mb2NhbGVMb3dlckNhc2UoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcInRvbG93ZXJcIik7XG4gICAgfVxuXG4gICAgdG9Mb3dlckNhc2UoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcInRvbG93ZXJcIik7XG4gICAgfVxuXG4gICAgdG9Mb2NhbGVVcHBlckNhc2UoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcInRvdXBwZXJcIik7XG4gICAgfVxuXG4gICAgdG9VcHBlckNhc2UoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcInRvdXBwZXJcIik7XG4gICAgfVxuXG4gICAgcm91bmQoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcInJvdW5kXCIpO1xuICAgIH1cblxuICAgIGZsb29yKCk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJmbG9vclwiKTtcbiAgICB9XG5cbiAgICBjZWlsKCk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJjZWlsaW5nXCIpO1xuICAgIH1cblxuICAgIGluZGV4T2YoczpzdHJpbmcpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdE51bGwodGhpcy5wcml2YXRlc18ubGVmdCxcIlRoZSBsZWZ0IG9wZXJhbmRcIik7XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxlZnQgPSBUZXh0VXRpbHMuZm9ybWF0KCdpbmRleG9mKCVzLCVzKScsIHRoaXMucHJpdmF0ZXNfLmxlZnQsIHRoaXMuZXNjYXBlXyhzKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN1YnN0cihwb3M6bnVtYmVyLGxlbmd0aDpudW1iZXIpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdE51bGwodGhpcy5wcml2YXRlc18ubGVmdCxcIlRoZSBsZWZ0IG9wZXJhbmRcIik7XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxlZnQgPSBUZXh0VXRpbHMuZm9ybWF0KCdzdWJzdHJpbmcoJXMsJXMsJXMpJyx0aGlzLnByaXZhdGVzXy5sZWZ0LCBwb3MsIGxlbmd0aCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN0YXJ0c1dpdGgoczpzdHJpbmcpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdE51bGwodGhpcy5wcml2YXRlc18ubGVmdCxcIlRoZSBsZWZ0IG9wZXJhbmRcIik7XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxlZnQgPSBUZXh0VXRpbHMuZm9ybWF0KCdzdGFydHN3aXRoKCVzLCVzKScsdGhpcy5wcml2YXRlc18ubGVmdCwgdGhpcy5lc2NhcGVfKHMpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZW5kc1dpdGgoczpzdHJpbmcpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdE51bGwodGhpcy5wcml2YXRlc18ubGVmdCxcIlRoZSBsZWZ0IG9wZXJhbmRcIik7XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxlZnQgPSBUZXh0VXRpbHMuZm9ybWF0KCdlbmRzd2l0aCglcywlcyknLHRoaXMucHJpdmF0ZXNfLmxlZnQsIHRoaXMuZXNjYXBlXyhzKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNlbGVjdCguLi5hdHRyOnN0cmluZ1tdKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5ub3ROdWxsKGF0dHIsIFwiQXR0cmlidXRlc1wiKTtcbiAgICAgICAgQXJncy5jaGVjayhhdHRyLmxlbmd0aD4wLFwiQXR0cmlidXRlcyBtYXkgbm90IGJlIGVtcHR5XCIpO1xuICAgICAgICBjb25zdCBhcnIgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBBcmdzLmNoZWNrKHR5cGVvZiBhdHRyW2ldID09PSBcInN0cmluZ1wiLCBcIkludmFsaWQgYXR0cmlidXRlLiBFeHBlY3RlZCBzdHJpbmcuXCIpO1xuICAgICAgICAgICAgYXJyLnB1c2goYXR0cltpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJhbXNfLiRzZWxlY3QgPSBhcnIuam9pbihcIixcIik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdyb3VwQnkoLi4uYXR0cjpzdHJpbmdbXSk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIEFyZ3Mubm90TnVsbChhdHRyLCBcIkF0dHJpYnV0ZXNcIik7XG4gICAgICAgIEFyZ3MuY2hlY2soYXR0ci5sZW5ndGg+MCxcIkF0dHJpYnV0ZXMgbWF5IG5vdCBiZSBlbXB0eVwiKTtcbiAgICAgICAgY29uc3QgYXJyID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgQXJncy5jaGVjayh0eXBlb2YgYXR0cltpXSA9PT0gXCJzdHJpbmdcIiwgXCJJbnZhbGlkIGF0dHJpYnV0ZS4gRXhwZWN0ZWQgc3RyaW5nLlwiKTtcbiAgICAgICAgICAgIGFyci5wdXNoKGF0dHJbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyYW1zXy4kZ3JvdXBieSA9IGFyci5qb2luKFwiLFwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZXhwYW5kKC4uLmF0dHI6c3RyaW5nW10pOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdE51bGwoYXR0ciwgXCJBdHRyaWJ1dGVzXCIpO1xuICAgICAgICBBcmdzLmNoZWNrKGF0dHIubGVuZ3RoPjAsXCJBdHRyaWJ1dGVzIG1heSBub3QgYmUgZW1wdHlcIik7XG4gICAgICAgIGNvbnN0IGFyciA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIEFyZ3MuY2hlY2sodHlwZW9mIGF0dHJbaV0gPT09IFwic3RyaW5nXCIsIFwiSW52YWxpZCBhdHRyaWJ1dGUuIEV4cGVjdGVkIHN0cmluZy5cIik7XG4gICAgICAgICAgICBhcnIucHVzaChhdHRyW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcmFtc18uJGV4cGFuZCA9IGFyci5qb2luKFwiLFwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgb3JkZXJCeShhdHRyOnN0cmluZyk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIEFyZ3Mubm90RW1wdHkoYXR0cixcIk9yZGVyIGJ5IGF0dHJpYnV0ZVwiKTtcbiAgICAgICAgdGhpcy5wYXJhbXNfLiRvcmRlcmJ5ID0gYXR0ci50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0aGVuQnkoYXR0cjpzdHJpbmcpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdEVtcHR5KGF0dHIsXCJPcmRlciBieSBhdHRyaWJ1dGVcIik7XG4gICAgICAgIHRoaXMucGFyYW1zXy4kb3JkZXJieSArPSAodGhpcy5wYXJhbXNfLiRvcmRlcmJ5ID8gJywnICsgYXR0ci50b1N0cmluZygpIDogYXR0ci50b1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgb3JkZXJCeURlc2NlbmRpbmcoYXR0cjpzdHJpbmcpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdEVtcHR5KGF0dHIsXCJPcmRlciBieSBhdHRyaWJ1dGVcIik7XG4gICAgICAgIHRoaXMucGFyYW1zXy4kb3JkZXJieSA9IGF0dHIudG9TdHJpbmcoKSArIFwiIGRlc2NcIjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdGhlbkJ5RGVzY2VuZGluZyhhdHRyOnN0cmluZyk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIEFyZ3Mubm90RW1wdHkoYXR0cixcIk9yZGVyIGJ5IGF0dHJpYnV0ZVwiKTtcbiAgICAgICAgdGhpcy5wYXJhbXNfLiRvcmRlcmJ5ICs9ICh0aGlzLnBhcmFtc18uJG9yZGVyYnkgPyAnLCcgKyBhdHRyLnRvU3RyaW5nKCkgOiBhdHRyLnRvU3RyaW5nKCkpICsgXCIgZGVzY1wiO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBza2lwKG51bTpudW1iZXIpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICB0aGlzLnBhcmFtc18uJHNraXAgPSBudW07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRha2UobnVtOm51bWJlcik6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHRoaXMucGFyYW1zXy4kdG9wID0gbnVtO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmaXJzdCgpOlByb21pc2U8YW55PiB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnBhcmFtc18uJHRvcDtcbiAgICAgICAgZGVsZXRlIHRoaXMucGFyYW1zXy4kc2tpcDtcbiAgICAgICAgZGVsZXRlIHRoaXMucGFyYW1zXy4kY291bnQ7XG4gICAgICAgIHRoaXMucGFyYW1zXy4kZmlyc3QgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZXJ2aWNlKCkuZXhlY3V0ZSh7XG4gICAgICAgICAgICBtZXRob2Q6XCJHRVRcIixcbiAgICAgICAgICAgIHVybDp0aGlzLmdldFVybCgpLFxuICAgICAgICAgICAgZGF0YTp0aGlzLnBhcmFtc18sXG4gICAgICAgICAgICBoZWFkZXJzOltdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGxpc3QoKTpQcm9taXNlPGFueT4ge1xuICAgICAgICBkZWxldGUgdGhpcy5wYXJhbXNfLiRmaXJzdDtcbiAgICAgICAgdGhpcy5wYXJhbXNfLiRjb3VudCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlcnZpY2UoKS5leGVjdXRlKHtcbiAgICAgICAgICAgIG1ldGhvZDpcIkdFVFwiLFxuICAgICAgICAgICAgdXJsOnRoaXMuZ2V0VXJsKCksXG4gICAgICAgICAgICBkYXRhOnRoaXMucGFyYW1zXyxcbiAgICAgICAgICAgIGhlYWRlcnM6e31cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaXRlbSgpOlByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0KCk7XG4gICAgfVxuXG4gICAgZ2V0SXRlbSgpOlByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0KCk7XG4gICAgfVxuXG4gICAgaXRlbXMoKTpQcm9taXNlPGFueT4ge1xuICAgICAgICBkZWxldGUgdGhpcy5wYXJhbXNfLiRmaXJzdDtcbiAgICAgICAgdGhpcy5wYXJhbXNfLiRjb3VudCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZXJ2aWNlKCkuZXhlY3V0ZSh7XG4gICAgICAgICAgICBtZXRob2Q6XCJHRVRcIixcbiAgICAgICAgICAgIHVybDp0aGlzLmdldFVybCgpLFxuICAgICAgICAgICAgZGF0YTp0aGlzLnBhcmFtc18sXG4gICAgICAgICAgICBoZWFkZXJzOnt9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldEl0ZW1zKCk6UHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMoKTtcbiAgICB9XG5cbiAgICBnZXRMaXN0KCk6UHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdCgpO1xuICAgIH1cblxuICAgIGZpbHRlcihzOnN0cmluZyk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIEFyZ3Mubm90RW1wdHkoXCJzXCIsXCJGaWx0ZXIgZXhwcmVzc2lvblwiKTtcbiAgICAgICAgdGhpcy5wYXJhbXNfLiRmaWx0ZXIgPSBzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBsZXZlbHMobjpudW1iZXIpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLlBvc2l0aXZlKG4sICdMZXZlbHMnKTtcbiAgICAgICAgdGhpcy5wYXJhbXNfLiRsZXZlbHMgPSBuO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIENsaWVudERhdGFNb2RlbCB7XG5cbiAgICBwcml2YXRlIG5hbWVfOnN0cmluZztcbiAgICBwcml2YXRlIHNlcnZpY2VfOkNsaWVudERhdGFTZXJ2aWNlQmFzZTtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6c3RyaW5nLCBzZXJ2aWNlOkNsaWVudERhdGFTZXJ2aWNlQmFzZSkge1xuICAgICAgICB0aGlzLm5hbWVfID0gbmFtZTtcbiAgICAgICAgdGhpcy5zZXJ2aWNlXyA9IHNlcnZpY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0NsaWVudERhdGFTZXJ2aWNlQmFzZX1cbiAgICAgKi9cbiAgICBnZXRTZXJ2aWNlKCk6IENsaWVudERhdGFTZXJ2aWNlQmFzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VfO1xuICAgIH1cblxuICAgIGdldE5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZV87XG4gICAgfVxuXG4gICAgYXNRdWVyeWFibGUoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIENsaWVudERhdGFRdWVyeWFibGUuY3JlYXRlKHRoaXMuZ2V0TmFtZSgpLCB0aGlzLnNlcnZpY2VfKTtcbiAgICB9XG5cbiAgICB3aGVyZShhdHRyOnN0cmluZyk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzUXVlcnlhYmxlKCkud2hlcmUoYXR0cik7XG4gICAgfVxuXG4gICAgc2VsZWN0KC4uLmF0dHI6c3RyaW5nW10pOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBjb25zdCBxID0gdGhpcy5hc1F1ZXJ5YWJsZSgpO1xuICAgICAgICByZXR1cm4gcS5zZWxlY3QuYXBwbHkocSxhdHRyKTtcbiAgICB9XG5cbiAgICBza2lwKG51bTpudW1iZXIpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hc1F1ZXJ5YWJsZSgpLnNraXAobnVtKTtcbiAgICB9XG5cbiAgICB0YWtlKG51bTpudW1iZXIpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hc1F1ZXJ5YWJsZSgpLnRha2UobnVtKTtcbiAgICB9XG5cbiAgICBzYXZlKG9iajphbnkpOlByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlcnZpY2UoKS5leGVjdXRlKHtcbiAgICAgICAgICAgIG1ldGhvZDpcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDpUZXh0VXRpbHMuZm9ybWF0KFwiLyVzL2luZGV4Lmpzb25cIiwgdGhpcy5nZXROYW1lKCkpLFxuICAgICAgICAgICAgZGF0YTpvYmosXG4gICAgICAgICAgICBoZWFkZXJzOnt9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNjaGVtYSgpOlByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlcnZpY2UoKS5leGVjdXRlKHsgbWV0aG9kOlwiR0VUXCIsXG4gICAgICAgICAgICB1cmw6VGV4dFV0aWxzLmZvcm1hdChcIi8lcy9zY2hlbWEuanNvblwiLCB0aGlzLmdldE5hbWUoKSksXG4gICAgICAgICAgICBkYXRhOm51bGwsXG4gICAgICAgICAgICBoZWFkZXJzOnt9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbW92ZShvYmo6YW55KTpQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZXJ2aWNlKCkuZXhlY3V0ZSh7IG1ldGhvZDpcIkRFTEVURVwiLFxuICAgICAgICAgICAgdXJsOlRleHRVdGlscy5mb3JtYXQoXCIvJXMvaW5kZXguanNvblwiLCB0aGlzLmdldE5hbWUoKSksXG4gICAgICAgICAgICBkYXRhOm9iaixcbiAgICAgICAgICAgIGhlYWRlcnM6e31cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGV2ZWxzKG46bnVtYmVyKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5Qb3NpdGl2ZShuLCAnTGV2ZWxzJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmFzUXVlcnlhYmxlKCkubGV2ZWxzKG4pO1xuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgQ2xpZW50RGF0YUNvbnRleHQgaW1wbGVtZW50cyBDbGllbnREYXRhQ29udGV4dEJhc2Uge1xuXG4gICAgcHJpdmF0ZSBzZXJ2aWNlXzpDbGllbnREYXRhU2VydmljZUJhc2U7XG4gICAgcHJpdmF0ZSBiYXNlXzpzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihzZXJ2aWNlIDogQ2xpZW50RGF0YVNlcnZpY2VCYXNlKSB7XG4gICAgICAgIHRoaXMuc2VydmljZV8gPSBzZXJ2aWNlO1xuICAgIH1cblxuICAgIHNldEJhc2ljQXV0aG9yaXphdGlvbiAodXNlcm5hbWU6c3RyaW5nLCBwYXNzd29yZDpzdHJpbmcpOkNsaWVudERhdGFDb250ZXh0IHtcbiAgICAgICAgdGhpcy5nZXRTZXJ2aWNlKCkuc2V0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJhc2ljIFwiICsgVGV4dFV0aWxzLnRvQmFzZTY0KHVzZXJuYW1lICsgXCI6XCIgKyBwYXNzd29yZCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZXRCZWFyZXJBdXRob3JpemF0aW9uIChhY2Nlc3NfdG9rZW46IHN0cmluZyk6Q2xpZW50RGF0YUNvbnRleHQge1xuICAgICAgICB0aGlzLmdldFNlcnZpY2UoKS5zZXRIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIFwiQmVhcmVyIFwiICsgYWNjZXNzX3Rva2VuKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHN0cmluZyB3aGljaCByZXByZXNlbnRzIHRoZSBiYXNlIFVSTCBvZiB0aGUgTU9TVCBXZWIgQXBwbGljYXRpb24gU2VydmVyLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0QmFzZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlXztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgc3RyaW5nIHdoaWNoIHJlcHJlc2VudHMgdGhlIGJhc2UgVVJMIG9mIHRoZSBNT1NUIFdlYiBBcHBsaWNhdGlvbiBTZXJ2ZXIuXG4gICAgICovXG4gICAgc2V0QmFzZSh2YWx1ZTpzdHJpbmcpOkNsaWVudERhdGFDb250ZXh0QmFzZSB7XG4gICAgICAgIEFyZ3Mubm90RW1wdHkodmFsdWUsXCJCYXNlIFVSTFwiKTtcbiAgICAgICAgdGhpcy5iYXNlXyA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnN0YW5jZSBvZiBDbGllbnREYXRhU2VydmljZSBjbGFzcyB3aGljaCBpcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBkYXRhIGNvbnRleHQuXG4gICAgICogQHJldHVybnMge0NsaWVudERhdGFTZXJ2aWNlQmFzZX1cbiAgICAgKi9cbiAgICBnZXRTZXJ2aWNlKCk6IENsaWVudERhdGFTZXJ2aWNlQmFzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VfO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gaW5zdGFuY2Ugb2YgQ2xpZW50RGF0YU1vZGVsIGNsYXNzXG4gICAgICogQHBhcmFtIG5hbWUgLSBBIHN0cmluZyB3aGljaCByZXByZXNlbnRzIHRoZSBuYW1lIG9mIHRoZSBkYXRhIG1vZGVsLlxuICAgICAqIEByZXR1cm5zIHtDbGllbnREYXRhTW9kZWx9XG4gICAgICovXG4gICAgbW9kZWwobmFtZTpzdHJpbmcpOiBDbGllbnREYXRhTW9kZWwge1xuICAgICAgICBBcmdzLm5vdEVtcHR5KG5hbWUsXCJNb2RlbCBuYW1lXCIpO1xuICAgICAgICByZXR1cm4gbmV3IENsaWVudERhdGFNb2RlbChuYW1lLCB0aGlzLmdldFNlcnZpY2UoKSk7XG4gICAgfVxuXG5cbn1cblxuZXhwb3J0IGNsYXNzIENsaWVudERhdGFTZXJ2aWNlIGltcGxlbWVudHMgQ2xpZW50RGF0YVNlcnZpY2VCYXNlIHtcblxuXG4gICAgcHJpdmF0ZSBiYXNlXzpzdHJpbmc7XG4gICAgcHJpdmF0ZSBoZWFkZXJzXzogYW55O1xuXG4gICAgY29uc3RydWN0b3IoYmFzZTpzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzXyA9IHt9O1xuICAgICAgICBpZiAodHlwZW9mIGJhc2UgPT09ICd1bmRlZmluZWQnIHx8IGJhc2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5iYXNlXyA9IFwiL1wiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iYXNlXyA9IGJhc2U7XG4gICAgICAgICAgICBpZiAoIS9cXC8kLy50ZXN0KHRoaXMuYmFzZV8pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlXyArPSBcIi9cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0SGVhZGVyKG5hbWU6c3RyaW5nLCB2YWx1ZTpzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzX1tuYW1lXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldEhlYWRlcnMoKTphbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5oZWFkZXJzXztcbiAgICB9XG5cbiAgICBnZXRCYXNlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VfO1xuICAgIH1cblxuICAgIHJlc29sdmUocmVsYXRpdmU6IHN0cmluZykge1xuICAgICAgICBpZiAodHlwZW9mIHJlbGF0aXZlID09PSAnc3RyaW5nJyAmJiByZWxhdGl2ZS5sZW5ndGg+MCkge1xuICAgICAgICAgICAgaWYgKC9eXFwvLy50ZXN0KHJlbGF0aXZlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRCYXNlKCkgKyByZWxhdGl2ZS5zdWJzdHIoMSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmFzZSgpICsgcmVsYXRpdmU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgIG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQuIEV4cGVjdGVkIGEgbm90IGVtcHR5IHN0cmluZy5cIik7XG4gICAgfVxuXG5cbiAgICBleGVjdXRlKG9wdGlvbnM6IERhdGFTZXJ2aWNlRXhlY3V0ZU9wdGlvbnMpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIERlZmF1bHRVcmxCdWlsZGVyIGltcGxlbWVudHMgVXJsQnVpbGRlciB7XG4gICAgZ2V0VXJsKG1vZGVsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBBcmdzLm5vdEVtcHR5KG1vZGVsLFwiTW9kZWxcIik7XG4gICAgICAgIHJldHVybiBUZXh0VXRpbHMuZm9ybWF0KFwiLyVzL2luZGV4Lmpzb25cIiwgbW9kZWwpO1xuICAgIH1cblxufVxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9tb2R1bGVzL0B0aGVtb3N0L2NsaWVudC9pbmRleC50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n')}]);