!function(Q){function g(B){if(I[B])return I[B].exports;var C=I[B]={i:B,l:!1,exports:{}};return Q[B].call(C.exports,C,C.exports,g),C.l=!0,C.exports}var I={};g.m=Q,g.c=I,g.d=function(Q,I,B){g.o(Q,I)||Object.defineProperty(Q,I,{configurable:!1,enumerable:!0,get:B})},g.n=function(Q){var I=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return g.d(I,"a",I),I},g.o=function(Q,g){return Object.prototype.hasOwnProperty.call(Q,g)},g.p="",g(g.s=2)}([function(module,exports){eval("module.exports = angular;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhbmd1bGFyXCI/MTFkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBhbmd1bGFyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiYW5ndWxhclwiXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar CodedError = /** @class */ (function (_super) {\r\n    __extends(CodedError, _super);\r\n    function CodedError(message, code) {\r\n        var _newTarget = this.constructor;\r\n        var _this = _super.call(this, message) || this;\r\n        _this.code = code;\r\n        //set prototype for a class that extends Error in typescript\r\n        _this["__proto__"] = _newTarget.prototype;\r\n        return _this;\r\n    }\r\n    return CodedError;\r\n}(Error));\r\nexports.CodedError = CodedError;\r\nvar ResponseError = /** @class */ (function (_super) {\r\n    __extends(ResponseError, _super);\r\n    function ResponseError(message, statusCode) {\r\n        var _newTarget = this.constructor;\r\n        var _this = _super.call(this, message) || this;\r\n        _this.statusCode = statusCode;\r\n        //set prototype for a class that extends Error in typescript\r\n        _this["__proto__"] = _newTarget.prototype;\r\n        return _this;\r\n    }\r\n    return ResponseError;\r\n}(Error));\r\nexports.ResponseError = ResponseError;\r\nvar Base64 = /** @class */ (function () {\r\n    function Base64() {\r\n        this.PADCHAR = \'=\';\r\n        this.ALPHA = \'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\';\r\n    }\r\n    Base64.prototype.getByte = function (s, i) {\r\n        var x = s.charCodeAt(i);\r\n        return x;\r\n    };\r\n    Base64.prototype.getByte64 = function (s, i) {\r\n        var idx = this.ALPHA.indexOf(s.charAt(i));\r\n        return idx;\r\n    };\r\n    Base64.prototype.decode = function (s) {\r\n        var pads = 0, i, b10, imax = s.length, x = [];\r\n        s = String(s);\r\n        if (imax === 0) {\r\n            return s;\r\n        }\r\n        if (s.charAt(imax - 1) === this.PADCHAR) {\r\n            pads = 1;\r\n            if (s.charAt(imax - 2) === this.PADCHAR) {\r\n                pads = 2;\r\n            }\r\n            imax -= 4;\r\n        }\r\n        for (i = 0; i < imax; i += 4) {\r\n            b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12) | (this.getByte64(s, i + 2) << 6) | this.getByte64(s, i + 3);\r\n            x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255, b10 & 255));\r\n        }\r\n        switch (pads) {\r\n            case 1:\r\n                b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12) | (this.getByte64(s, i + 2) << 6);\r\n                x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255));\r\n                break;\r\n            case 2:\r\n                b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12);\r\n                x.push(String.fromCharCode(b10 >> 16));\r\n                break;\r\n        }\r\n        return x.join(\'\');\r\n    };\r\n    Base64.prototype.encode = function (s) {\r\n        s = String(s);\r\n        var i, b10, x = [], imax = s.length - s.length % 3;\r\n        if (s.length === 0) {\r\n            return s;\r\n        }\r\n        for (i = 0; i < imax; i += 3) {\r\n            b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8) | this.getByte(s, i + 2);\r\n            x.push(this.ALPHA.charAt(b10 >> 18));\r\n            x.push(this.ALPHA.charAt((b10 >> 12) & 63));\r\n            x.push(this.ALPHA.charAt((b10 >> 6) & 63));\r\n            x.push(this.ALPHA.charAt(b10 & 63));\r\n        }\r\n        switch (s.length - imax) {\r\n            case 1:\r\n                b10 = this.getByte(s, i) << 16;\r\n                x.push(this.ALPHA.charAt(b10 >> 18) + this.ALPHA.charAt((b10 >> 12) & 63) + this.PADCHAR + this.PADCHAR);\r\n                break;\r\n            case 2:\r\n                b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8);\r\n                x.push(this.ALPHA.charAt(b10 >> 18) + this.ALPHA.charAt((b10 >> 12) & 63) + this.ALPHA.charAt((b10 >> 6) & 63) + this.PADCHAR);\r\n                break;\r\n        }\r\n        return x.join(\'\');\r\n    };\r\n    return Base64;\r\n}());\r\nexports.Base64 = Base64;\r\nvar TextUtils = /** @class */ (function () {\r\n    function TextUtils() {\r\n    }\r\n    TextUtils.isNotEmptyString = function (s) {\r\n        return (s != null) && (s != undefined) && (s.length > 0);\r\n    };\r\n    TextUtils.isNullOrUndefined = function (s) {\r\n        return (s != null) && (s != undefined);\r\n    };\r\n    TextUtils.zeroPad = function (num, length) {\r\n        num = num || 0;\r\n        var res = num.toString();\r\n        while (res.length < length) {\r\n            res = \'0\' + res;\r\n        }\r\n        return res;\r\n    };\r\n    TextUtils.isDate = function (s) {\r\n        if (typeof s === "string") {\r\n            return TextUtils.REG_DATETIME_ISO.test(s);\r\n        }\r\n        return false;\r\n    };\r\n    TextUtils.isGuid = function (s) {\r\n        if (typeof s === "string") {\r\n            return TextUtils.REG_GUID_STRING.test(s);\r\n        }\r\n        return false;\r\n    };\r\n    TextUtils.isAbsoluteURI = function (s) {\r\n        if (typeof s === "string") {\r\n            return TextUtils.REG_ABSOLUTE_URI.test(s);\r\n        }\r\n        return false;\r\n    };\r\n    TextUtils.isRelativeURI = function (s) {\r\n        if (typeof s === "string") {\r\n            return TextUtils.REG_RELATIVE_URI.test(s);\r\n        }\r\n        return false;\r\n    };\r\n    TextUtils.isNumber = function (s) {\r\n        if (typeof s === "string") {\r\n            return TextUtils.REG_NUMBER_STRING.test(s);\r\n        }\r\n        else if (typeof s === \'number\') {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    TextUtils.parseDate = function (s) {\r\n        if (TextUtils.isDate(s)) {\r\n            return new Date(s);\r\n        }\r\n        return;\r\n    };\r\n    /**\r\n     * Encodes the given string to Base-64 format\r\n     * @param {string} s - A string to encode\r\n     * @returns {string}\r\n     */\r\n    TextUtils.toBase64 = function (s) {\r\n        var cv = new Base64();\r\n        return cv.encode(s);\r\n    };\r\n    /**\r\n     * Decodes the given string from Base-64 format\r\n     * @param {string} s - A base-64 encoded string\r\n     * @returns {string}\r\n     */\r\n    TextUtils.fromBase64 = function (s) {\r\n        var cv = new Base64();\r\n        return cv.decode(s);\r\n    };\r\n    TextUtils.format = function (s) {\r\n        var p = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            p[_i - 1] = arguments[_i];\r\n        }\r\n        var i = 0;\r\n        return s.replace(/%[sdfj%]/g, function (x) {\r\n            if (x === "%%")\r\n                return "%";\r\n            if (i >= p.length)\r\n                return x;\r\n            var p1 = p[i++];\r\n            if (((p1 == null) && (p1 == undefined))) {\r\n                return "";\r\n            }\r\n            switch (x) {\r\n                case "%s":\r\n                    return p1.toString();\r\n                case "%d":\r\n                    return parseInt(p1);\r\n                case "%f":\r\n                    return parseFloat(p1);\r\n                case "%j":\r\n                    return JSON.stringify(p1);\r\n                default:\r\n                    return x;\r\n            }\r\n        });\r\n    };\r\n    TextUtils.escape = function (val) {\r\n        if ((val == null) || (val == undefined)) {\r\n            return "null";\r\n        }\r\n        if (typeof val === \'boolean\') {\r\n            return (val) ? "true" : "false";\r\n        }\r\n        if (typeof val === \'number\') {\r\n            return val + "";\r\n        }\r\n        if (val instanceof Date) {\r\n            var dt = val;\r\n            var year = dt.getFullYear();\r\n            var month = TextUtils.zeroPad(dt.getMonth() + 1, 2);\r\n            var day = TextUtils.zeroPad(dt.getDate(), 2);\r\n            var hour = TextUtils.zeroPad(dt.getHours(), 2);\r\n            var minute = TextUtils.zeroPad(dt.getMinutes(), 2);\r\n            var second = TextUtils.zeroPad(dt.getSeconds(), 2);\r\n            var millisecond = TextUtils.zeroPad(dt.getMilliseconds(), 3);\r\n            //format timezone\r\n            var offset = (new Date()).getTimezoneOffset(), timezone = (offset >= 0 ? \'+\' : \'\') + TextUtils.zeroPad(Math.floor(offset / 60), 2) + \':\' + TextUtils.zeroPad(offset % 60, 2);\r\n            return "\'" + year + \'-\' + month + \'-\' + day + \' \' + hour + \':\' + minute + \':\' + second + \'.\' + millisecond + timezone + "\'";\r\n        }\r\n        if (val instanceof Array) {\r\n            var values_1 = [];\r\n            val.forEach(function (x) {\r\n                values_1.push(TextUtils.escape(x));\r\n            });\r\n            return values_1.join(\',\');\r\n        }\r\n        if (typeof val === "string") {\r\n            var res = val.replace(/[\\0\\n\\r\\b\\t\\\\\'"\\x1a]/g, function (s) {\r\n                switch (s) {\r\n                    case "\\0": return "\\\\0";\r\n                    case "\\n": return "\\\\n";\r\n                    case "\\r": return "\\\\r";\r\n                    case "\\b": return "\\\\b";\r\n                    case "\\t": return "\\\\t";\r\n                    case "\\x1a": return "\\\\Z";\r\n                    default: return "\\\\" + s;\r\n                }\r\n            });\r\n            return "\'" + res + "\'";\r\n        }\r\n        //otherwise get valueOf\r\n        if (val.hasOwnProperty("$name"))\r\n            return val["$name"];\r\n        else\r\n            return TextUtils.escape(val.valueOf());\r\n    };\r\n    TextUtils.REG_DATETIME_ISO = /^(\\d{4})(?:-?W(\\d+)(?:-?(\\d+)D?)?|(?:-(\\d+))?-(\\d+))(?:[T ](\\d+):(\\d+)(?::(\\d+)(?:\\.(\\d+))?)?)?(?:Z(-?\\d*))?([+-](\\d+):(\\d+))?$/;\r\n    TextUtils.REG_GUID_STRING = /^(\\{{0,1}([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){12}\\}{0,1})$/;\r\n    TextUtils.REG_ABSOLUTE_URI = /^((https?|ftps?):\\/\\/)([\\da-z.-]+)\\.([a-z.]{2,6})([\\/\\w .-]*)*\\/?$/;\r\n    TextUtils.REG_RELATIVE_URI = /^([\\/\\w .-]*)*\\/?$/;\r\n    TextUtils.REG_NUMBER_STRING = /^\\d+$/;\r\n    return TextUtils;\r\n}());\r\nexports.TextUtils = TextUtils;\r\nvar Args = /** @class */ (function () {\r\n    function Args() {\r\n    }\r\n    Args.check = function (expr, message, code) {\r\n        if (!expr) {\r\n            throw new CodedError(message, code || "EARG");\r\n        }\r\n    };\r\n    Args.notNull = function (obj, name) {\r\n        Args.check((obj != null) && (obj !== undefined), name + " may not be null or undefined", "ENULL");\r\n    };\r\n    Args.notEmpty = function (obj, name) {\r\n        Args.check((obj != null) && (obj !== undefined) && (obj.length > 0), name + " may not be empty", "ENULL");\r\n    };\r\n    Args.notNegative = function (obj, name) {\r\n        Args.check((typeof obj === \'number\'), name + " may be a number", "ENUMBER");\r\n        Args.check((obj >= 0), name + " may not be negative", "ENUMBER");\r\n    };\r\n    Args.Positive = function (obj, name) {\r\n        Args.check((typeof obj === \'number\'), name + " may be a number", "ENUMBER");\r\n        Args.check((obj > 0), name + " must be a positive number", "ENUMBER");\r\n    };\r\n    return Args;\r\n}());\r\nexports.Args = Args;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2NsaWVudC9jb21tb24udHM/NDdhOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFDQTtJQUFnQyw4QkFBSztJQUNqQyxvQkFBWSxPQUFjLEVBQVMsSUFBVzs7UUFBOUMsWUFDSSxrQkFBTSxPQUFPLENBQUMsU0FHakI7UUFKa0MsVUFBSSxHQUFKLElBQUksQ0FBTztRQUUxQyw0REFBNEQ7UUFDNUQsS0FBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLFdBQVcsU0FBUyxDQUFDOztJQUM3QyxDQUFDO0lBQ0wsaUJBQUM7QUFBRCxDQUFDLENBTitCLEtBQUssR0FNcEM7QUFOWSxnQ0FBVTtBQVF2QjtJQUFtQyxpQ0FBSztJQUNwQyx1QkFBWSxPQUFjLEVBQVMsVUFBaUI7O1FBQXBELFlBQ0ksa0JBQU0sT0FBTyxDQUFDLFNBR2pCO1FBSmtDLGdCQUFVLEdBQVYsVUFBVSxDQUFPO1FBRWhELDREQUE0RDtRQUM1RCxLQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsV0FBVyxTQUFTLENBQUM7O0lBQzdDLENBQUM7SUFDTCxvQkFBQztBQUFELENBQUMsQ0FOa0MsS0FBSyxHQU12QztBQU5ZLHNDQUFhO0FBUTFCO0lBQUE7UUFDWSxZQUFPLEdBQVUsR0FBRyxDQUFDO1FBQ3JCLFVBQUssR0FBVSxrRUFBa0UsQ0FBQztJQWtGOUYsQ0FBQztJQWhGVyx3QkFBTyxHQUFmLFVBQWdCLENBQVEsRUFBRSxDQUFRO1FBQzlCLElBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUIsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNiLENBQUM7SUFFTywwQkFBUyxHQUFqQixVQUFrQixDQUFRLEVBQUUsQ0FBUTtRQUNoQyxJQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUMsTUFBTSxDQUFDLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFTSx1QkFBTSxHQUFiLFVBQWMsQ0FBUTtRQUNsQixJQUFJLElBQUksR0FBRyxDQUFDLEVBQ1IsQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFDdkIsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUVYLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFZCxFQUFFLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNiLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDYixDQUFDO1FBRUQsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDdEMsSUFBSSxHQUFHLENBQUMsQ0FBQztZQUNULEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUN0QyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1lBQ2IsQ0FBQztZQUNELElBQUksSUFBSSxDQUFDLENBQUM7UUFDZCxDQUFDO1FBRUQsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUMzQixHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDbkksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUcsSUFBSSxFQUFFLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3hFLENBQUM7UUFFRCxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ1gsS0FBSyxDQUFDO2dCQUNGLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUN4RyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsR0FBRyxJQUFJLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUN6RCxLQUFLLENBQUM7WUFDVixLQUFLLENBQUM7Z0JBQ0YsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7Z0JBQ3RFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDdkMsS0FBSyxDQUFDO1FBQ2QsQ0FBQztRQUVELE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3RCLENBQUM7SUFFTSx1QkFBTSxHQUFiLFVBQWMsQ0FBUTtRQUNsQixDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRWQsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQ2QsSUFBSSxHQUFHLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFFbkMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDYixDQUFDO1FBRUQsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUMzQixHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDMUYsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNyQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDNUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxF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QUM7SUFDOUcsQ0FBQztJQUVNLGdCQUFXLEdBQWxCLFVBQW1CLEdBQVUsRUFBRSxJQUFXO1FBQ3RDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLEdBQUcsS0FBSyxRQUFRLENBQUMsRUFBRSxJQUFJLEdBQUcsa0JBQWtCLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDNUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLEdBQUcsc0JBQXNCLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVNLGFBQVEsR0FBZixVQUFnQixHQUFVLEVBQUUsSUFBVztRQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxHQUFHLEtBQUssUUFBUSxDQUFDLEVBQUUsSUFBSSxHQUFHLGtCQUFrQixFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQzVFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxHQUFHLDRCQUE0QixFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ3hFLENBQUM7SUFFTCxXQUFDO0FBQUQsQ0FBQztBQTFCWSxvQkFBSSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmV4cG9ydCBjbGFzcyBDb2RlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZTpzdHJpbmcsIHB1YmxpYyBjb2RlOnN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgICAgIC8vc2V0IHByb3RvdHlwZSBmb3IgYSBjbGFzcyB0aGF0IGV4dGVuZHMgRXJyb3IgaW4gdHlwZXNjcmlwdFxyXG4gICAgICAgIHRoaXNbXCJfX3Byb3RvX19cIl0gPSBuZXcudGFyZ2V0LnByb3RvdHlwZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJlc3BvbnNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOnN0cmluZywgcHVibGljIHN0YXR1c0NvZGU6bnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICAgICAgLy9zZXQgcHJvdG90eXBlIGZvciBhIGNsYXNzIHRoYXQgZXh0ZW5kcyBFcnJvciBpbiB0eXBlc2NyaXB0XHJcbiAgICAgICAgdGhpc1tcIl9fcHJvdG9fX1wiXSA9IG5ldy50YXJnZXQucHJvdG90eXBlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQmFzZTY0IHtcclxuICAgIHByaXZhdGUgUEFEQ0hBUjpzdHJpbmcgPSAnPSc7XHJcbiAgICBwcml2YXRlIEFMUEhBOnN0cmluZyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcclxuXHJcbiAgICBwcml2YXRlIGdldEJ5dGUoczpzdHJpbmcsIGk6bnVtYmVyKTpudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IHggPSBzLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRCeXRlNjQoczpzdHJpbmcsIGk6bnVtYmVyKTpudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuQUxQSEEuaW5kZXhPZihzLmNoYXJBdChpKSk7XHJcbiAgICAgICAgcmV0dXJuIGlkeDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVjb2RlKHM6c3RyaW5nKTpzdHJpbmcge1xyXG4gICAgICAgIGxldCBwYWRzID0gMCxcclxuICAgICAgICAgICAgaSwgYjEwLCBpbWF4ID0gcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIHggPSBbXTtcclxuXHJcbiAgICAgICAgcyA9IFN0cmluZyhzKTtcclxuXHJcbiAgICAgICAgaWYgKGltYXggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocy5jaGFyQXQoaW1heCAtIDEpID09PSB0aGlzLlBBRENIQVIpIHtcclxuICAgICAgICAgICAgcGFkcyA9IDE7XHJcbiAgICAgICAgICAgIGlmIChzLmNoYXJBdChpbWF4IC0gMikgPT09IHRoaXMuUEFEQ0hBUikge1xyXG4gICAgICAgICAgICAgICAgcGFkcyA9IDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW1heCAtPSA0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGltYXg7IGkgKz0gNCkge1xyXG4gICAgICAgICAgICBiMTAgPSAodGhpcy5nZXRCeXRlNjQocywgaSkgPDwgMTgpIHwgKHRoaXMuZ2V0Qnl0ZTY0KHMsIGkgKyAxKSA8PCAxMikgfCAodGhpcy5nZXRCeXRlNjQocywgaSArIDIpIDw8IDYpIHwgdGhpcy5nZXRCeXRlNjQocywgaSArIDMpO1xyXG4gICAgICAgICAgICB4LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShiMTAgPj4gMTYsIChiMTAgPj4gOCkgJiAyNTUsIGIxMCAmIDI1NSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3dpdGNoIChwYWRzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIGIxMCA9ICh0aGlzLmdldEJ5dGU2NChzLCBpKSA8PCAxOCkgfCAodGhpcy5nZXRCeXRlNjQocywgaSArIDEpIDw8IDEyKSB8ICh0aGlzLmdldEJ5dGU2NChzLCBpICsgMikgPDwgNik7XHJcbiAgICAgICAgICAgICAgICB4LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShiMTAgPj4gMTYsIChiMTAgPj4gOCkgJiAyNTUpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBiMTAgPSAodGhpcy5nZXRCeXRlNjQocywgaSkgPDwgMTgpIHwgKHRoaXMuZ2V0Qnl0ZTY0KHMsIGkgKyAxKSA8PCAxMik7XHJcbiAgICAgICAgICAgICAgICB4LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShiMTAgPj4gMTYpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHguam9pbignJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVuY29kZShzOnN0cmluZyk6c3RyaW5nIHtcclxuICAgICAgICBzID0gU3RyaW5nKHMpO1xyXG5cclxuICAgICAgICBsZXQgaSwgYjEwLCB4ID0gW10sXHJcbiAgICAgICAgICAgIGltYXggPSBzLmxlbmd0aCAtIHMubGVuZ3RoICUgMztcclxuXHJcbiAgICAgICAgaWYgKHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGltYXg7IGkgKz0gMykge1xyXG4gICAgICAgICAgICBiMTAgPSAodGhpcy5nZXRCeXRlKHMsIGkpIDw8IDE2KSB8ICh0aGlzLmdldEJ5dGUocywgaSArIDEpIDw8IDgpIHwgdGhpcy5nZXRCeXRlKHMsIGkgKyAyKTtcclxuICAgICAgICAgICAgeC5wdXNoKHRoaXMuQUxQSEEuY2hhckF0KGIxMCA+PiAxOCkpO1xyXG4gICAgICAgICAgICB4LnB1c2godGhpcy5BTFBIQS5jaGFyQXQoKGIxMCA+PiAxMikgJiA2MykpO1xyXG4gICAgICAgICAgICB4LnB1c2godGhpcy5BTFBIQS5jaGFyQXQoKGIxMCA+PiA2KSAmIDYzKSk7XHJcbiAgICAgICAgICAgIHgucHVzaCh0aGlzLkFMUEhBLmNoYXJBdChiMTAgJiA2MykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3dpdGNoIChzLmxlbmd0aCAtIGltYXgpIHtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgYjEwID0gdGhpcy5nZXRCeXRlKHMsIGkpIDw8IDE2O1xyXG4gICAgICAgICAgICAgICAgeC5wdXNoKHRoaXMuQUxQSEEuY2hhckF0KGIxMCA+PiAxOCkgKyB0aGlzLkFMUEhBLmNoYXJBdCgoYjEwID4+IDEyKSAmIDYzKSArIHRoaXMuUEFEQ0hBUiArIHRoaXMuUEFEQ0hBUik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgYjEwID0gKHRoaXMuZ2V0Qnl0ZShzLCBpKSA8PCAxNikgfCAodGhpcy5nZXRCeXRlKHMsIGkgKyAxKSA8PCA4KTtcclxuICAgICAgICAgICAgICAgIHgucHVzaCh0aGlzLkFMUEhBLmNoYXJBdChiMTAgPj4gMTgpICsgdGhpcy5BTFBIQS5jaGFyQXQoKGIxMCA+PiAxMikgJiA2MykgKyB0aGlzLkFMUEhBLmNoYXJBdCgoYjEwID4+IDYpICYgNjMpICsgdGhpcy5QQURDSEFSKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHguam9pbignJyk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVGV4dFV0aWxzIHtcclxuXHJcbiAgICBzdGF0aWMgaXNOb3RFbXB0eVN0cmluZyhzOnN0cmluZyk6Ym9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIChzICE9IG51bGwpICYmIChzICE9IHVuZGVmaW5lZCkgJiYgKHMubGVuZ3RoID4gMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGlzTnVsbE9yVW5kZWZpbmVkKHM6c3RyaW5nKTpib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gKHMgIT0gbnVsbCkgJiYgKHMgIT0gdW5kZWZpbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgemVyb1BhZChudW06bnVtYmVyLCBsZW5ndGg6bnVtYmVyKTpzdHJpbmcge1xyXG4gICAgICAgIG51bSA9IG51bSB8fCAwO1xyXG4gICAgICAgIGxldCByZXMgPSBudW0udG9TdHJpbmcoKTtcclxuICAgICAgICB3aGlsZSAocmVzLmxlbmd0aCA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXMgPSAnMCcgKyByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgUkVHX0RBVEVUSU1FX0lTTyA9IC9eKFxcZHs0fSkoPzotP1coXFxkKykoPzotPyhcXGQrKUQ/KT98KD86LShcXGQrKSk/LShcXGQrKSkoPzpbVCBdKFxcZCspOihcXGQrKSg/OjooXFxkKykoPzpcXC4oXFxkKykpPyk/KT8oPzpaKC0/XFxkKikpPyhbKy1dKFxcZCspOihcXGQrKSk/JC87XHJcblxyXG4gICAgc3RhdGljIGlzRGF0ZShzOnN0cmluZyk6Ym9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBzID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBUZXh0VXRpbHMuUkVHX0RBVEVUSU1FX0lTTy50ZXN0KHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgUkVHX0dVSURfU1RSSU5HID0gL14oXFx7ezAsMX0oWzAtOWEtZkEtRl0pezh9LShbMC05YS1mQS1GXSl7NH0tKFswLTlhLWZBLUZdKXs0fS0oWzAtOWEtZkEtRl0pezR9LShbMC05YS1mQS1GXSl7MTJ9XFx9ezAsMX0pJC87XHJcblxyXG4gICAgc3RhdGljIGlzR3VpZChzOmFueSk6Ym9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBzID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBUZXh0VXRpbHMuUkVHX0dVSURfU1RSSU5HLnRlc3Qocyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBSRUdfQUJTT0xVVEVfVVJJID0gL14oKGh0dHBzP3xmdHBzPyk6XFwvXFwvKShbXFxkYS16Li1dKylcXC4oW2Etei5dezIsNn0pKFtcXC9cXHcgLi1dKikqXFwvPyQvO1xyXG5cclxuICAgIHN0YXRpYyBpc0Fic29sdXRlVVJJKHM6YW55KTpib29sZWFuIHtcclxuICAgICAgICBpZiAodHlwZW9mIHMgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFRleHRVdGlscy5SRUdfQUJTT0xVVEVfVVJJLnRlc3Qocyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBSRUdfUkVMQVRJVkVfVVJJID0gL14oW1xcL1xcdyAuLV0qKSpcXC8/JC87XHJcblxyXG4gICAgc3RhdGljIGlzUmVsYXRpdmVVUkkoczphbnkpOmJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgcyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gVGV4dFV0aWxzLlJFR19SRUxBVElWRV9VUkkudGVzdChzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIFJFR19OVU1CRVJfU1RSSU5HID0gL15cXGQrJC87XHJcblxyXG4gICAgc3RhdGljIGlzTnVtYmVyKHM6YW55KTpib29sZWFuIHtcclxuICAgICAgICBpZiAodHlwZW9mIHMgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFRleHRVdGlscy5SRUdfTlVNQkVSX1NUUklORy50ZXN0KHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgIHMgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHBhcnNlRGF0ZShzOnN0cmluZyk6RGF0ZSB7XHJcbiAgICAgICAgaWYgKFRleHRVdGlscy5pc0RhdGUocykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbmNvZGVzIHRoZSBnaXZlbiBzdHJpbmcgdG8gQmFzZS02NCBmb3JtYXRcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzIC0gQSBzdHJpbmcgdG8gZW5jb2RlXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgdG9CYXNlNjQoczpzdHJpbmcpOnN0cmluZyB7XHJcbiAgICAgICAgbGV0IGN2ID0gbmV3IEJhc2U2NCgpO1xyXG4gICAgICAgIHJldHVybiBjdi5lbmNvZGUocyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWNvZGVzIHRoZSBnaXZlbiBzdHJpbmcgZnJvbSBCYXNlLTY0IGZvcm1hdFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHMgLSBBIGJhc2UtNjQgZW5jb2RlZCBzdHJpbmdcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmcm9tQmFzZTY0KHM6c3RyaW5nKTpzdHJpbmcge1xyXG4gICAgICAgIGxldCBjdiA9IG5ldyBCYXNlNjQoKTtcclxuICAgICAgICByZXR1cm4gY3YuZGVjb2RlKHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBmb3JtYXQoczpzdHJpbmcsIC4uLnA6YW55W10pOnN0cmluZyB7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoLyVbc2RmaiVdL2csIGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgICAgIGlmICh4ID09PSBcIiUlXCIpIHJldHVybiBcIiVcIjtcclxuICAgICAgICAgICAgaWYgKGkgPj0gcC5sZW5ndGgpIHJldHVybiB4O1xyXG4gICAgICAgICAgICBsZXQgcDEgPSBwW2krK107XHJcbiAgICAgICAgICAgIGlmICgoKHAxID09IG51bGwpICYmIChwMSA9PSB1bmRlZmluZWQpKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3dpdGNoICh4KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiJXNcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcDEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCIlZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChwMSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiJWZcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChwMSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiJWpcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocDEpO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBlc2NhcGUodmFsOmFueSk6c3RyaW5nIHtcclxuICAgICAgICBpZiAoKHZhbCA9PSBudWxsKSB8fCAodmFsPT11bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICByZXR1cm4gKHZhbCkgPyBcInRydWVcIiA6IFwiZmFsc2VcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWwrXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIERhdGUpIHtcclxuICAgICAgICAgICAgY29uc3QgZHQgPSB2YWw7XHJcbiAgICAgICAgICAgIGNvbnN0IHllYXIgICA9IGR0LmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vbnRoICA9IFRleHRVdGlscy56ZXJvUGFkKGR0LmdldE1vbnRoKCkgKyAxLCAyKTtcclxuICAgICAgICAgICAgY29uc3QgZGF5ICAgID0gVGV4dFV0aWxzLnplcm9QYWQoZHQuZ2V0RGF0ZSgpLCAyKTtcclxuICAgICAgICAgICAgY29uc3QgaG91ciAgID0gVGV4dFV0aWxzLnplcm9QYWQoZHQuZ2V0SG91cnMoKSwgMik7XHJcbiAgICAgICAgICAgIGNvbnN0IG1pbnV0ZSA9IFRleHRVdGlscy56ZXJvUGFkKGR0LmdldE1pbnV0ZXMoKSwgMik7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZCA9IFRleHRVdGlscy56ZXJvUGFkKGR0LmdldFNlY29uZHMoKSwgMik7XHJcbiAgICAgICAgICAgIGNvbnN0IG1pbGxpc2Vjb25kID0gVGV4dFV0aWxzLnplcm9QYWQoZHQuZ2V0TWlsbGlzZWNvbmRzKCksIDMpO1xyXG4gICAgICAgICAgICAvL2Zvcm1hdCB0aW1lem9uZVxyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSAobmV3IERhdGUoKSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxcclxuICAgICAgICAgICAgICAgIHRpbWV6b25lID0gKG9mZnNldD49MCA/ICcrJyA6ICcnKSArIFRleHRVdGlscy56ZXJvUGFkKE1hdGguZmxvb3Iob2Zmc2V0LzYwKSwyKSArICc6JyArIFRleHRVdGlscy56ZXJvUGFkKG9mZnNldCU2MCwyKTtcclxuICAgICAgICAgICAgcmV0dXJuIFwiJ1wiICsgeWVhciArICctJyArIG1vbnRoICsgJy0nICsgZGF5ICsgJyAnICsgaG91ciArICc6JyArIG1pbnV0ZSArICc6JyArIHNlY29uZCArICcuJyArIG1pbGxpc2Vjb25kICsgdGltZXpvbmUgKyBcIidcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xyXG4gICAgICAgICAgICB2YWwuZm9yRWFjaCgoeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goVGV4dFV0aWxzLmVzY2FwZSh4KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzLmpvaW4oJywnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVzID0gdmFsLnJlcGxhY2UoL1tcXDBcXG5cXHJcXGJcXHRcXFxcJ1wiXFx4MWFdL2csIGZ1bmN0aW9uKHMpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlxcMFwiOiByZXR1cm4gXCJcXFxcMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJcXG5cIjogcmV0dXJuIFwiXFxcXG5cIjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiXFxyXCI6IHJldHVybiBcIlxcXFxyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlxcYlwiOiByZXR1cm4gXCJcXFxcYlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJcXHRcIjogcmV0dXJuIFwiXFxcXHRcIjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiXFx4MWFcIjogcmV0dXJuIFwiXFxcXFpcIjtcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gXCJcXFxcXCIrcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBcIidcIiArIHJlcyArIFwiJ1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL290aGVyd2lzZSBnZXQgdmFsdWVPZlxyXG4gICAgICAgIGlmICh2YWwuaGFzT3duUHJvcGVydHkoXCIkbmFtZVwiKSlcclxuICAgICAgICAgICAgcmV0dXJuIHZhbFtcIiRuYW1lXCJdO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIFRleHRVdGlscy5lc2NhcGUodmFsLnZhbHVlT2YoKSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXJncyB7XHJcblxyXG4gICAgc3RhdGljIGNoZWNrKGV4cHI6Ym9vbGVhbiwgbWVzc2FnZTpzdHJpbmcsIGNvZGU/OnN0cmluZyk6dm9pZCB7XHJcbiAgICAgICAgaWYgKCFleHByKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBDb2RlZEVycm9yKG1lc3NhZ2UsIGNvZGUgfHwgXCJFQVJHXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbm90TnVsbChvYmo6YW55LCBuYW1lOnN0cmluZyk6dm9pZCB7XHJcbiAgICAgICAgQXJncy5jaGVjaygob2JqICE9IG51bGwpICYmIChvYmogIT09IHVuZGVmaW5lZCksIG5hbWUgKyBcIiBtYXkgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXCIsIFwiRU5VTExcIik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG5vdEVtcHR5KG9iajpzdHJpbmcsIG5hbWU6c3RyaW5nKTp2b2lkIHtcclxuICAgICAgICBBcmdzLmNoZWNrKChvYmogIT0gbnVsbCkgJiYgKG9iaiAhPT0gdW5kZWZpbmVkKSAmJiAob2JqLmxlbmd0aCA+IDApLCBuYW1lICsgXCIgbWF5IG5vdCBiZSBlbXB0eVwiLCBcIkVOVUxMXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBub3ROZWdhdGl2ZShvYmo6bnVtYmVyLCBuYW1lOnN0cmluZyk6dm9pZCB7XHJcbiAgICAgICAgQXJncy5jaGVjaygodHlwZW9mIG9iaiA9PT0gJ251bWJlcicpLCBuYW1lICsgXCIgbWF5IGJlIGEgbnVtYmVyXCIsIFwiRU5VTUJFUlwiKTtcclxuICAgICAgICBBcmdzLmNoZWNrKChvYmo+PTApLCBuYW1lICsgXCIgbWF5IG5vdCBiZSBuZWdhdGl2ZVwiLCBcIkVOVU1CRVJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFBvc2l0aXZlKG9iajpudW1iZXIsIG5hbWU6c3RyaW5nKTp2b2lkIHtcclxuICAgICAgICBBcmdzLmNoZWNrKCh0eXBlb2Ygb2JqID09PSAnbnVtYmVyJyksIG5hbWUgKyBcIiBtYXkgYmUgYSBudW1iZXJcIiwgXCJFTlVNQkVSXCIpO1xyXG4gICAgICAgIEFyZ3MuY2hlY2soKG9iaj4wKSwgbmFtZSArIFwiIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIiwgXCJFTlVNQkVSXCIpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEYXRhU2VydmljZVF1ZXJ5UGFyYW1zIHtcclxuICAgICRmaWx0ZXI6c3RyaW5nO1xyXG4gICAgJGdyb3VwYnk6c3RyaW5nO1xyXG4gICAgJHNlbGVjdDpzdHJpbmc7XHJcbiAgICAkb3JkZXJieTpzdHJpbmc7XHJcbiAgICAkZXhwYW5kOnN0cmluZztcclxuICAgICRjb3VudDpib29sZWFuO1xyXG4gICAgJHRvcDpudW1iZXI7XHJcbiAgICAkc2tpcDpudW1iZXI7XHJcbiAgICAkZmlyc3Q6Ym9vbGVhbjtcclxuICAgICRsZXZlbHM6bnVtYmVyO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDbGllbnREYXRhQ29udGV4dE9wdGlvbnMge1xyXG4gICAgdXNlTWVkaWFUeXBlRXh0ZW5zaW9ucz86Ym9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEYXRhU2VydmljZUV4ZWN1dGVPcHRpb25zIHtcclxuICAgIG1ldGhvZDpzdHJpbmc7XHJcbiAgICB1cmw6c3RyaW5nO1xyXG4gICAgZGF0YTphbnk7XHJcbiAgICBoZWFkZXJzOmFueTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDbGllbnREYXRhU2VydmljZUJhc2Uge1xyXG5cclxuICAgIHNldEhlYWRlcihuYW1lOnN0cmluZywgdmFsdWU6c3RyaW5nKVxyXG5cclxuICAgIGdldEhlYWRlcnMoKTogYW55XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYSBzdHJpbmcgd2hpY2ggcmVwcmVzZW50cyB0aGUgYmFzZSBVUkwgb2YgdGhlIE1PU1QgV2ViIGFwcGxpY2F0aW9uIHNlcnZlclxyXG4gICAgICovXHJcbiAgICBnZXRCYXNlKCk6c3RyaW5nXHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGVzIGFuIEhUVFAgcmVxdWVzdCBhZ2FpbnN0IHRoZSBkZWZpbmVkIE1PU1QgV2ViIGFwcGxpY2F0aW9uIHNlcnZlclxyXG4gICAgICogQHBhcmFtIHtEYXRhU2VydmljZUV4ZWN1dGVPcHRpb25zfSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGV4ZWN1dGUob3B0aW9uczpEYXRhU2VydmljZUV4ZWN1dGVPcHRpb25zKTpQcm9taXNlPGFueT5cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIGEgVVJMIGludG8gb25lIHRoYXQgaXMgdXNhYmxlIG9uIHRoZSByZXF1ZXN0aW5nIGNsaWVudC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVxyXG4gICAgICovXHJcbiAgICByZXNvbHZlKHJlbGF0aXZlOiBzdHJpbmcpXHJcblxyXG4gICAgZ2V0T3B0aW9ucygpOiBDbGllbnREYXRhQ29udGV4dE9wdGlvbnNcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50RGF0YUNvbnRleHRCYXNlIHtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhIHN0cmluZyB3aGljaCByZXByZXNlbnRzIHRoZSBiYXNlIFVSTCBvZiB0aGUgTU9TVCBXZWIgYXBwbGljYXRpb24gc2VydmVyXHJcbiAgICAgKi9cclxuICAgIGdldEJhc2UoKTpzdHJpbmdcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhIHN0cmluZyB3aGljaCByZXByZXNlbnRzIHRoZSBiYXNlIFVSTCBvZiB0aGUgTU9TVCBXZWIgYXBwbGljYXRpb24gc2VydmVyXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUaGUgYmFzZSBVUkxcclxuICAgICAqIEByZXR1cm5zIENsaWVudERhdGFDb250ZXh0QmFzZVxyXG4gICAgICovXHJcbiAgICBzZXRCYXNlKHZhbHVlOnN0cmluZyk6IENsaWVudERhdGFDb250ZXh0QmFzZVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBpbnN0YW5jZSBvZiBDbGllbnREYXRhU2VydmljZUJhc2UgY2xhc3Mgd2hpY2ggaXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZGF0YSBjb250ZXh0XHJcbiAgICAgKi9cclxuICAgIGdldFNlcnZpY2UoKTpDbGllbnREYXRhU2VydmljZUJhc2VcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL21vZHVsZXMvQHRoZW1vc3QvY2xpZW50L2NvbW1vbi50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar angular = __webpack_require__(0);\r\nvar services_1 = __webpack_require__(3);\r\nvar ngModule = angular.module('most', [services_1.default]);\r\nfunction localized(text, localeSet) {\r\n    window[\"locales\"] = window[\"locales\"] || {};\r\n    localeSet = localeSet || 'global';\r\n    if (typeof text !== 'string')\r\n        return text;\r\n    if (text.length === 0)\r\n        return text;\r\n    var locale = window[\"locales\"][localeSet];\r\n    if (locale) {\r\n        var out = locale[text];\r\n        if (out)\r\n            return out;\r\n    }\r\n    return text;\r\n}\r\nfunction MostLocalizedDirective() {\r\n    return {\r\n        restrict: 'A',\r\n        link: function (scope, element, attrs) {\r\n            if (attrs.title)\r\n                element.attr('title', localized(attrs.title, attrs['mostLoc']));\r\n            if (attrs.placeholder)\r\n                element.attr('placeholder', localized(attrs.placeholder, attrs['mostLoc']));\r\n        }\r\n    };\r\n}\r\nfunction MostLocalizedHtmlDirective() {\r\n    return {\r\n        restrict: 'A',\r\n        scope: false,\r\n        link: function (scope, element, attrs) {\r\n            var text = localized(element.html(), attrs['mostLocHtml']);\r\n            if (text)\r\n                element.html(text);\r\n        }\r\n    };\r\n}\r\nfunction MostLocalizedFilter() {\r\n    return function (input, localeSet) {\r\n        return localized(input, localeSet);\r\n    };\r\n}\r\nfunction MostEventDirective($timeout) {\r\n    return {\r\n        restrict: 'E',\r\n        link: function (scope, element, attrs) {\r\n            //get event name\r\n            var name = element.attr('name') || attrs['event'], action = attrs['eventAction'];\r\n            if (name) {\r\n                scope.$on(name, function (event, args) {\r\n                    if (action) {\r\n                        $timeout(function () {\r\n                            scope.$args = args;\r\n                            try {\r\n                                scope.$apply(action);\r\n                            }\r\n                            catch (e) {\r\n                                console.log(e);\r\n                            }\r\n                            scope.$args = null;\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n}\r\n/**\r\n * @return {IDirective}\r\n * @constructor\r\n */\r\nfunction MostWatchDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        link: function (scope, element, attrs) {\r\n            //get event name\r\n            var name = element.attr('name') || attrs['event'], args = attrs['eventArgs'];\r\n            if (name) {\r\n                if (typeof scope.$broadcast === 'function') {\r\n                    scope.$watch(args, function (value) {\r\n                        scope.$broadcast(name, value);\r\n                    });\r\n                }\r\n                else {\r\n                    scope.$watch(args, function (value) {\r\n                        scope.$emit(name, value);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction MostItemDirective($window) {\r\n    return {\r\n        restrict: 'A',\r\n        scope: false,\r\n        link: function (scope, element, attrs) {\r\n            scope.route = $window.route;\r\n            var item = scope.$eval(attrs['mostItem']);\r\n            item.then(function (result) {\r\n                scope.item = result;\r\n            }, function (reason) {\r\n                console.log(reason);\r\n                scope.item = null;\r\n            });\r\n        }\r\n    };\r\n}\r\nfunction MostVariableDirective($timeout) {\r\n    return {\r\n        restrict: 'E',\r\n        link: function (scope, element, attrs) {\r\n            if (attrs.ngValue) {\r\n                return scope.$eval(attrs.name + \"=\" + attrs.ngValue + \";\");\r\n            }\r\n            function set_(value) {\r\n                if (scope.$$phase === '$digest' || scope.$$phase === '$apply') {\r\n                    $timeout(function () {\r\n                        scope[attrs.name] = value;\r\n                    });\r\n                }\r\n                else {\r\n                    scope[attrs.name] = value;\r\n                }\r\n            }\r\n            scope.$watch(attrs.value, function (newValue) {\r\n                set_(newValue);\r\n            });\r\n        }\r\n    };\r\n}\r\nfunction MostParamDirective($window) {\r\n    return {\r\n        restrict: 'AE',\r\n        link: function (scope, element, attrs) {\r\n            scope.route = $window.route;\r\n            if (attrs['mostParam']) {\r\n                var values = attrs['mostParam'].split(';');\r\n                var params = {};\r\n                for (var i = 0; i < values.length; i++) {\r\n                    var value = values[i].split('=');\r\n                    if (value.length === 2)\r\n                        params[value[0]] = value[1];\r\n                }\r\n                $window.route = $window.route || {};\r\n                var _loop_1 = function (name_1) {\r\n                    if (params.hasOwnProperty(name_1)) {\r\n                        scope.$watch(params[name_1], function (newValue) {\r\n                            $window.route[name_1] = newValue;\r\n                        });\r\n                    }\r\n                };\r\n                for (var name_1 in params) {\r\n                    _loop_1(name_1);\r\n                }\r\n            }\r\n            else {\r\n                scope.$watch(attrs.value, function (newValue) {\r\n                    $window.route = $window.route || {};\r\n                    $window.route[attrs.name] = newValue;\r\n                });\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction MostDataInstanceDirective($context, $parse, $window) {\r\n    return {\r\n        restrict: 'E',\r\n        scope: { model: '@', filter: '@', select: '@', group: '@', order: '@', top: '=', count: '=', skip: '=', expand: '@', prepared: '=', url: '@' },\r\n        link: function (scope, element, attrs) {\r\n            if (typeof scope.model === 'undefined')\r\n                return;\r\n            scope.route = $window.route;\r\n            var q = $context.model(scope.model).asQueryable();\r\n            var arr = [];\r\n            if (typeof scope.url === 'string' && scope.url.length > 0) {\r\n                q.setUrl(scope.url);\r\n            }\r\n            //apply select (if any)\r\n            if (scope.select) {\r\n                arr = scope.select.split(',');\r\n                //apply as array expression if we have only one field\r\n                if (arr.length == 1)\r\n                    q.asArray(true);\r\n                q.select(arr);\r\n            }\r\n            if (scope.group) {\r\n                if (angular.isArray(scope.group))\r\n                    q.group(scope.group);\r\n                else if (typeof scope.group === 'string' && scope.group.length > 0)\r\n                    q.group(scope.group.split(','));\r\n            }\r\n            if (scope.order) {\r\n                arr = [];\r\n                if (typeof scope.order === 'string' && scope.order.length > 0)\r\n                    arr = scope.order.split(',');\r\n                for (var i = 0; i < arr.length; i++) {\r\n                    var str = arr[i];\r\n                    var matches = /(.*?) desc$/i.exec(str);\r\n                    if (matches) {\r\n                        q.orderByDescending(matches[1]);\r\n                    }\r\n                    else {\r\n                        matches = /(.*?) asc$/i.exec(str);\r\n                        if (matches) {\r\n                            q.orderBy(matches[1]);\r\n                        }\r\n                        else {\r\n                            q.orderBy(str);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (scope.skip > 0) {\r\n                q.skip(scope.skip);\r\n            }\r\n            if (scope.top > 0) {\r\n                q.take(scope.top);\r\n            }\r\n            if (scope.count) {\r\n                q.paged(true);\r\n            }\r\n            if (typeof scope.filter === 'string' && scope.filter.length > 0) {\r\n                q.filter(scope.filter);\r\n                if (scope.prepared) {\r\n                    q.prepare();\r\n                }\r\n            }\r\n            if (typeof scope.expand === 'string' && scope.expand.length > 0) {\r\n                q.expand(scope.expand.split(','));\r\n            }\r\n            //set queryable\r\n            q.getItems().then(function (result) {\r\n                var getter = $parse(attrs.name);\r\n                var setter;\r\n                if (getter)\r\n                    setter = getter.assign;\r\n                if (typeof setter === 'function') {\r\n                    setter(scope.$parent, (q.$top === 1) ? result[0] : result);\r\n                }\r\n            });\r\n            //register for order change\r\n            scope.$on('order.change', function (event, args) {\r\n                if (typeof args === 'string') {\r\n                    if (args.length === 0) {\r\n                        delete q.$orderby;\r\n                        q.reset().getItems().then(function (result) {\r\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\r\n                        });\r\n                    }\r\n                    else {\r\n                        var orders = args.split(',');\r\n                        if (orders.length === 1) {\r\n                            if (typeof q.$orderby !== 'undefined') {\r\n                                var previousOrders = q.$orderby.split(',');\r\n                                if (previousOrders.length === 1) {\r\n                                    var arr1 = orders[0].split(' '), arr2 = previousOrders[0].split(' ');\r\n                                    if (typeof arr1[1] === 'undefined') {\r\n                                        if (arr1[0] === arr2[0]) {\r\n                                            if ((typeof arr2[1] === 'undefined') || (arr2[1] === 'asc')) {\r\n                                                arr1.push('desc');\r\n                                                orders[0] = arr1.join(' ');\r\n                                            }\r\n                                            else {\r\n                                                arr1.push('asc');\r\n                                                orders[0] = arr1.join(' ');\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        q.reset().orderBy(orders.join(',')).getItems().then(function (result) {\r\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n            //register for filter change\r\n            scope.$on('filter.change', function (event, args) {\r\n                if (typeof args === 'object') {\r\n                    if (args.name === attrs.name) {\r\n                        if (typeof args.filter === 'string') {\r\n                            q.reset().filter(args.filter).getItems().then(function (result) {\r\n                                scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                else if (typeof args === 'string') {\r\n                    q.reset().filter(args).getItems().then(function (result) {\r\n                        scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\r\n                    });\r\n                }\r\n            });\r\n            //register for filter change\r\n            scope.$on('page.change', function (event, args) {\r\n                if (typeof args === 'object') {\r\n                    if (args.name === attrs.name) {\r\n                        if (typeof args.page !== 'undefined') {\r\n                            var page = parseInt(args.page), size = scope.top;\r\n                            if (size <= 0) {\r\n                                return;\r\n                            }\r\n                            q.reset().skip((page - 1) * size).getItems().then(function (result) {\r\n                                scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            var dataReload = function (event, args) {\r\n                if (typeof args === 'object') {\r\n                    if (args.name === attrs.name) {\r\n                        q.reset().getItems().then(function (result) {\r\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\r\n                        });\r\n                    }\r\n                }\r\n                else if (typeof args === 'string') {\r\n                    if (args === attrs.name) {\r\n                        q.reset().getItems().then(function (result) {\r\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\r\n                        });\r\n                    }\r\n                }\r\n            };\r\n            var dataRefresh = function (event, args) {\r\n                if (typeof args === 'object') {\r\n                    if (args.model === q.$model) {\r\n                        q.reset().getItems().then(function (result) {\r\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\r\n                        });\r\n                    }\r\n                }\r\n            };\r\n            //register for data reload\r\n            scope.$on('data.reload', dataReload);\r\n            //register for data refresh\r\n            scope.$on('item.new', dataRefresh);\r\n            //register for data refresh\r\n            scope.$on('item.save', dataRefresh);\r\n            //register for data refresh\r\n            scope.$on('item.delete', dataRefresh);\r\n        }\r\n    };\r\n}\r\nngModule.directive('loc', MostLocalizedDirective)\r\n    .directive('locHtml', MostLocalizedHtmlDirective)\r\n    .filter('loc', [MostLocalizedFilter])\r\n    .directive('mostEvent', MostEventDirective)\r\n    .directive('mostWatch', MostWatchDirective)\r\n    .directive('mostItem', MostItemDirective)\r\n    .directive('mostData', MostDataInstanceDirective)\r\n    .directive('mostVariable', MostVariableDirective)\r\n    .directive('mostParam', MostParamDirective);\r\nexports.default = ngModule.name;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2FuZ3VsYXJqcy9tb2R1bGUudHM/ZWYzYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVNBLHFDQUFvQztBQUNwQyx3Q0FBd0M7QUFFeEMsSUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxrQkFBYyxDQUFDLENBQUMsQ0FBQztBQUUxRCxtQkFBbUIsSUFBSSxFQUFFLFNBQVM7SUFDOUIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDNUMsU0FBUyxHQUFHLFNBQVMsSUFBSSxRQUFRLENBQUM7SUFDbEMsRUFBRSxDQUFDLENBQUMsT0FBTyxJQUFJLEtBQUssUUFBUSxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7UUFDbEIsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixJQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDNUMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNULElBQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QixFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUM7WUFDSixNQUFNLENBQUMsR0FBRyxDQUFDO0lBQ25CLENBQUM7SUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2hCLENBQUM7QUFFRDtJQUNJLE1BQU0sQ0FBQztRQUNILFFBQVEsRUFBRSxHQUFHO1FBQ2IsSUFBSSxFQUFFLFVBQVMsS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLO1lBQ2hDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7Z0JBQ1osT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUs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QyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQzt3QkFDcEUsQ0FBQyxDQUFDLENBQUM7b0JBQ1AsQ0FBQztnQkFDTCxDQUFDO1lBRUwsQ0FBQyxDQUFDO1lBQ0YsMEJBQTBCO1lBQzFCLEtBQUssQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1lBQ3JDLDJCQUEyQjtZQUMzQixLQUFLLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxXQUFXLENBQUMsQ0FBQztZQUNuQywyQkFBMkI7WUFDM0IsS0FBSyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDcEMsMkJBQTJCO1lBQzNCLEtBQUssQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBRTFDLENBQUM7S0FDSixDQUFDO0FBQ04sQ0FBQztBQUVELFFBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFDLHNCQUFzQixDQUFDO0tBQzNDLFNBQVMsQ0FBQyxTQUFTLEVBQUMsMEJBQTBCLENBQUM7S0FDL0MsTUFBTSxDQUFDLEtBQUssRUFBQyxDQUFDLG1CQUFtQixDQUFDLENBQUM7S0FDbkMsU0FBUyxDQUFDLFdBQVcsRUFBQyxrQkFBa0IsQ0FBQztLQUN6QyxTQUFTLENBQUMsV0FBVyxFQUFDLGtCQUFrQixDQUFDO0tBQ3pDLFNBQVMsQ0FBQyxVQUFVLEVBQUMsaUJBQWlCLENBQUM7S0FDdkMsU0FBUyxDQUFDLFVBQVUsRUFBQyx5QkFBeUIsQ0FBQztLQUMvQyxTQUFTLENBQUMsY0FBYyxFQUFDLHFCQUFxQixDQUFDO0tBQy9DLFNBQVMsQ0FBQyxXQUFXLEVBQUMsa0JBQWtCLENBQUMsQ0FBQztBQUUvQyxrQkFBZSxRQUFRLENBQUMsSUFBSSxDQUFDIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQGxpY2Vuc2VcclxuICogTU9TVCBXZWIgRnJhbWV3b3JrIDIuMCBDb2RlbmFtZSBCbHVlc2hpZnRcclxuICogQ29weXJpZ2h0IChjKSAyMDE3LCBUSEVNT1NUIExQIEFsbCByaWdodHMgcmVzZXJ2ZWRcclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gQlNELTMtQ2xhdXNlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcclxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL3RoZW1vc3QuaW8vbGljZW5zZVxyXG4gKi9cclxuaW1wb3J0IHtJRGlyZWN0aXZlLElTY29wZX0gZnJvbSAnYW5ndWxhcic7XHJcbmltcG9ydCBhbmd1bGFyID0gcmVxdWlyZShcImFuZ3VsYXJcIik7XHJcbmltcG9ydCBzZXJ2aWNlc01vZHVsZSBmcm9tICcuL3NlcnZpY2VzJztcclxuXHJcbmNvbnN0IG5nTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ21vc3QnLCBbc2VydmljZXNNb2R1bGVdKTtcclxuXHJcbmZ1bmN0aW9uIGxvY2FsaXplZCh0ZXh0LCBsb2NhbGVTZXQpIHtcclxuICAgIHdpbmRvd1tcImxvY2FsZXNcIl0gPSB3aW5kb3dbXCJsb2NhbGVzXCJdIHx8IHt9O1xyXG4gICAgbG9jYWxlU2V0ID0gbG9jYWxlU2V0IHx8ICdnbG9iYWwnO1xyXG4gICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJylcclxuICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMClcclxuICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgIGNvbnN0IGxvY2FsZSA9IHdpbmRvd1tcImxvY2FsZXNcIl1bbG9jYWxlU2V0XTtcclxuICAgIGlmIChsb2NhbGUpIHtcclxuICAgICAgICBjb25zdCBvdXQgPSBsb2NhbGVbdGV4dF07XHJcbiAgICAgICAgaWYgKG91dClcclxuICAgICAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIHJldHVybiB0ZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBNb3N0TG9jYWxpemVkRGlyZWN0aXZlKCk6SURpcmVjdGl2ZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgIGlmIChhdHRycy50aXRsZSlcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0cigndGl0bGUnLCBsb2NhbGl6ZWQoYXR0cnMudGl0bGUsIGF0dHJzWydtb3N0TG9jJ10pKTtcclxuICAgICAgICAgICAgaWYgKGF0dHJzLnBsYWNlaG9sZGVyKVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdwbGFjZWhvbGRlcicsIGxvY2FsaXplZChhdHRycy5wbGFjZWhvbGRlciwgYXR0cnNbJ21vc3RMb2MnXSkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gTW9zdExvY2FsaXplZEh0bWxEaXJlY3RpdmUoKTpJRGlyZWN0aXZlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICBzY29wZTogZmFsc2UsXHJcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBsb2NhbGl6ZWQoZWxlbWVudC5odG1sKCksIGF0dHJzWydtb3N0TG9jSHRtbCddKTtcclxuICAgICAgICAgICAgaWYgKHRleHQpXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwodGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gTW9zdExvY2FsaXplZEZpbHRlcigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCwgbG9jYWxlU2V0KSB7XHJcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplZChpbnB1dCwgbG9jYWxlU2V0KTtcclxuICAgIH07XHJcbn1cclxuXHJcbmludGVyZmFjZSBNb3N0RXZlbnREaXJlY3RpdmVTY29wZSBleHRlbmRzIElTY29wZSB7XHJcbiAgICAkYXJnczphbnlcclxufVxyXG5cclxuZnVuY3Rpb24gTW9zdEV2ZW50RGlyZWN0aXZlKCR0aW1lb3V0KTpJRGlyZWN0aXZlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZTpNb3N0RXZlbnREaXJlY3RpdmVTY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgLy9nZXQgZXZlbnQgbmFtZVxyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZWxlbWVudC5hdHRyKCduYW1lJykgfHwgYXR0cnNbJ2V2ZW50J10sIGFjdGlvbiA9IGF0dHJzWydldmVudEFjdGlvbiddO1xyXG4gICAgICAgICAgICBpZiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuJG9uKG5hbWUsIGZ1bmN0aW9uKGV2ZW50LCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFyZ3MgPSBhcmdzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcmdzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQHJldHVybiB7SURpcmVjdGl2ZX1cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5mdW5jdGlvbiBNb3N0V2F0Y2hEaXJlY3RpdmUoKTpJRGlyZWN0aXZlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgLy9nZXQgZXZlbnQgbmFtZVxyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZWxlbWVudC5hdHRyKCduYW1lJykgfHwgYXR0cnNbJ2V2ZW50J10sIGFyZ3MgPSBhdHRyc1snZXZlbnRBcmdzJ107XHJcbiAgICAgICAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNjb3BlLiRicm9hZGNhc3QgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goYXJncywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QobmFtZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGFyZ3MsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kZW1pdChuYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gTW9zdEl0ZW1EaXJlY3RpdmUoJHdpbmRvdyk6SURpcmVjdGl2ZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgc2NvcGU6IGZhbHNlLFxyXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlOiBNb3N0RGF0YUl0ZW1TY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgc2NvcGUucm91dGUgPSAkd2luZG93LnJvdXRlO1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gc2NvcGUuJGV2YWwoYXR0cnNbJ21vc3RJdGVtJ10pO1xyXG4gICAgICAgICAgICBpdGVtLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5pdGVtID0gcmVzdWx0O1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5pdGVtID0gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gTW9zdFZhcmlhYmxlRGlyZWN0aXZlKCR0aW1lb3V0KTpJRGlyZWN0aXZlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgaWYgKGF0dHJzLm5nVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZS4kZXZhbChhdHRycy5uYW1lICsgXCI9XCIgKyBhdHRycy5uZ1ZhbHVlICsgXCI7XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldF8odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzY29wZS4kJHBoYXNlID09PSAnJGRpZ2VzdCcgfHwgc2NvcGUuJCRwaGFzZSA9PT0gJyRhcHBseScpIHtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVbYXR0cnMubmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlW2F0dHJzLm5hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLnZhbHVlLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgc2V0XyhuZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE1vc3RQYXJhbURpcmVjdGl2ZSgkd2luZG93KTpJRGlyZWN0aXZlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdBRScsXHJcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGU6TW9zdERhdGFSb3V0ZVNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICBzY29wZS5yb3V0ZSA9ICR3aW5kb3cucm91dGU7XHJcbiAgICAgICAgICAgIGlmIChhdHRyc1snbW9zdFBhcmFtJ10pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGF0dHJzWydtb3N0UGFyYW0nXS5zcGxpdCgnOycpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0geyB9O1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSB2YWx1ZXNbaV0uc3BsaXQoJz0nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoPT09MilcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zW3ZhbHVlWzBdXSA9IHZhbHVlWzFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHdpbmRvdy5yb3V0ZSA9ICR3aW5kb3cucm91dGUgfHwgeyB9O1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBwYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChwYXJhbXNbbmFtZV0sIGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LnJvdXRlW25hbWVdID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChhdHRycy52YWx1ZSwgZnVuY3Rpb24obmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkd2luZG93LnJvdXRlID0gJHdpbmRvdy5yb3V0ZSB8fCB7IH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5yb3V0ZVthdHRycy5uYW1lXSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuaW50ZXJmYWNlIE1vc3REYXRhUm91dGVTY29wZSBleHRlbmRzIElTY29wZSB7XHJcbiAgICByb3V0ZTphbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBNb3N0RGF0YUl0ZW1TY29wZSBleHRlbmRzIElTY29wZSB7XHJcbiAgICByb3V0ZTphbnk7XHJcbiAgICBpdGVtOmFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIE1vc3REYXRhSW5zdGFuY2VTY29wZSBleHRlbmRzIE1vc3REYXRhUm91dGVTY29wZSB7XHJcbiAgICBmaWx0ZXI6c3RyaW5nO1xyXG4gICAgbW9kZWw6c3RyaW5nO1xyXG4gICAgc2VsZWN0OnN0cmluZztcclxuICAgIGdyb3VwOnN0cmluZztcclxuICAgIG9yZGVyOnN0cmluZztcclxuICAgIHRvcDpudW1iZXI7XHJcbiAgICBjb3VudDpib29sZWFuO1xyXG4gICAgc2tpcDpudW1iZXI7XHJcbiAgICBleHBhbmQ6c3RyaW5nO1xyXG4gICAgcHJlcGFyZWQ6Ym9vbGVhbjtcclxuICAgIHVybDpzdHJpbmc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE1vc3REYXRhSW5zdGFuY2VEaXJlY3RpdmUoJGNvbnRleHQsICRwYXJzZSwgJHdpbmRvdyk6SURpcmVjdGl2ZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgc2NvcGU6IHsgbW9kZWw6J0AnLCBmaWx0ZXI6J0AnLCAgc2VsZWN0OidAJywgZ3JvdXA6J0AnLCBvcmRlcjonQCcsIHRvcDonPScsIGNvdW50Oic9Jywgc2tpcDonPScsIGV4cGFuZDonQCcsIHByZXBhcmVkOic9JywgdXJsOidAJyB9LFxyXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlOk1vc3REYXRhSW5zdGFuY2VTY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzY29wZS5tb2RlbCA9PT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHNjb3BlLnJvdXRlID0gJHdpbmRvdy5yb3V0ZTtcclxuICAgICAgICAgICAgY29uc3QgcSA9ICRjb250ZXh0Lm1vZGVsKHNjb3BlLm1vZGVsKS5hc1F1ZXJ5YWJsZSgpO1xyXG4gICAgICAgICAgICBsZXQgYXJyID0gW107XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NvcGUudXJsID09PSAnc3RyaW5nJyAmJiBzY29wZS51cmwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcS5zZXRVcmwoc2NvcGUudXJsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL2FwcGx5IHNlbGVjdCAoaWYgYW55KVxyXG4gICAgICAgICAgICBpZiAoc2NvcGUuc2VsZWN0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBhcnIgPSBzY29wZS5zZWxlY3Quc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIC8vYXBwbHkgYXMgYXJyYXkgZXhwcmVzc2lvbiBpZiB3ZSBoYXZlIG9ubHkgb25lIGZpZWxkXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyLmxlbmd0aD09MSlcclxuICAgICAgICAgICAgICAgICAgICBxLmFzQXJyYXkodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBxLnNlbGVjdChhcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzY29wZS5ncm91cCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShzY29wZS5ncm91cCkpXHJcbiAgICAgICAgICAgICAgICAgICAgcS5ncm91cChzY29wZS5ncm91cCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc2NvcGUuZ3JvdXAgPT09ICdzdHJpbmcnICYmIHNjb3BlLmdyb3VwLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgcS5ncm91cChzY29wZS5ncm91cC5zcGxpdCgnLCcpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2NvcGUub3JkZXIpIHtcclxuICAgICAgICAgICAgICAgIGFyciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY29wZS5vcmRlciA9PT0gJ3N0cmluZycgJiYgc2NvcGUub3JkZXIubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICBhcnIgPSBzY29wZS5vcmRlci5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RyID0gYXJyW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaGVzID0gLyguKj8pIGRlc2MkL2kuZXhlYyhzdHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHEub3JkZXJCeURlc2NlbmRpbmcobWF0Y2hlc1sxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gLyguKj8pIGFzYyQvaS5leGVjKHN0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxLm9yZGVyQnkobWF0Y2hlc1sxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxLm9yZGVyQnkoc3RyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2NvcGUuc2tpcD4wKSB7XHJcbiAgICAgICAgICAgICAgICBxLnNraXAoc2NvcGUuc2tpcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNjb3BlLnRvcD4wKSB7XHJcbiAgICAgICAgICAgICAgICBxLnRha2Uoc2NvcGUudG9wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2NvcGUuY291bnQpIHtcclxuICAgICAgICAgICAgICAgIHEucGFnZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzY29wZS5maWx0ZXIgPT09ICdzdHJpbmcnICYmIHNjb3BlLmZpbHRlci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBxLmZpbHRlcihzY29wZS5maWx0ZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLnByZXBhcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcS5wcmVwYXJlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NvcGUuZXhwYW5kID09PSAnc3RyaW5nJyAmJiBzY29wZS5leHBhbmQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcS5leHBhbmQoc2NvcGUuZXhwYW5kLnNwbGl0KCcsJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vc2V0IHF1ZXJ5YWJsZVxyXG4gICAgICAgICAgICBxLmdldEl0ZW1zKCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdldHRlciA9ICRwYXJzZShhdHRycy5uYW1lKTtcclxuICAgICAgICAgICAgICAgIGxldCBzZXR0ZXI7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2V0dGVyKVxyXG4gICAgICAgICAgICAgICAgICAgIHNldHRlciA9IGdldHRlci5hc3NpZ247XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldHRlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldHRlcihzY29wZS4kcGFyZW50LCAocS4kdG9wID09PSAxKSA/IHJlc3VsdFswXSA6IHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9yZWdpc3RlciBmb3Igb3JkZXIgY2hhbmdlXHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignb3JkZXIuY2hhbmdlJywgKGV2ZW50LCBhcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3MgPT09ICdzdHJpbmcnKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aD09PTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHEuJG9yZGVyYnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHEucmVzZXQoKS5nZXRJdGVtcygpLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnRbYXR0cnMubmFtZV0gPSAocS4kdG9wID09PSAxKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmRlcnMgPSBhcmdzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmRlcnMubGVuZ3RoPT09MSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBxLiRvcmRlcmJ5ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzT3JkZXJzPSBxLiRvcmRlcmJ5LnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzT3JkZXJzLmxlbmd0aD09PTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJyMSA9IG9yZGVyc1swXS5zcGxpdCgnICcpLCBhcnIyID0gcHJldmlvdXNPcmRlcnNbMF0uc3BsaXQoJyAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcnIxWzFdID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFycjFbMF09PT1hcnIyWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgYXJyMlsxXSA9PT0gJ3VuZGVmaW5lZCcpIHx8IChhcnIyWzFdID09PSAnYXNjJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyMS5wdXNoKCdkZXNjJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyc1swXSA9IGFycjEuam9pbignICcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnIxLnB1c2goJ2FzYycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcnNbMF0gPSBhcnIxLmpvaW4oJyAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHEucmVzZXQoKS5vcmRlckJ5KG9yZGVycy5qb2luKCcsJykpLmdldEl0ZW1zKCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50W2F0dHJzLm5hbWVdID0gKHEuJHRvcCA9PT0gMSkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL3JlZ2lzdGVyIGZvciBmaWx0ZXIgY2hhbmdlXHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignZmlsdGVyLmNoYW5nZScsIGZ1bmN0aW9uKGV2ZW50LCBhcmdzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3MgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubmFtZT09PWF0dHJzLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzLmZpbHRlciA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHEucmVzZXQoKS5maWx0ZXIoYXJncy5maWx0ZXIpLmdldEl0ZW1zKCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudFthdHRycy5uYW1lXSA9IChxLiR0b3AgPT09IDEpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJncyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBxLnJlc2V0KCkuZmlsdGVyKGFyZ3MpLmdldEl0ZW1zKCkudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50W2F0dHJzLm5hbWVdID0gKHEuJHRvcCA9PT0gMSkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9yZWdpc3RlciBmb3IgZmlsdGVyIGNoYW5nZVxyXG4gICAgICAgICAgICBzY29wZS4kb24oJ3BhZ2UuY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQsIGFyZ3MpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJncyA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5uYW1lPT09YXR0cnMubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3MucGFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChhcmdzLnBhZ2UpLCBzaXplID0gc2NvcGUudG9wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpemU8PTApIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxLnJlc2V0KCkuc2tpcCgocGFnZS0xKSpzaXplKS5nZXRJdGVtcygpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnRbYXR0cnMubmFtZV0gPSAocS4kdG9wID09PSAxKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFSZWxvYWQgPSBmdW5jdGlvbihldmVudCwgYXJncylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLm5hbWU9PT1hdHRycy5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHEucmVzZXQoKS5nZXRJdGVtcygpLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnRbYXR0cnMubmFtZV0gPSAocS4kdG9wID09PSAxKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZ3MgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3M9PT1hdHRycy5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHEucmVzZXQoKS5nZXRJdGVtcygpLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnRbYXR0cnMubmFtZV0gPSAocS4kdG9wID09PSAxKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YVJlZnJlc2ggPSBmdW5jdGlvbihldmVudCwgYXJncylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLm1vZGVsPT09IHEuJG1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHEucmVzZXQoKS5nZXRJdGVtcygpLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnRbYXR0cnMubmFtZV0gPSAocS4kdG9wID09PSAxKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9yZWdpc3RlciBmb3IgZGF0YSByZWxvYWRcclxuICAgICAgICAgICAgc2NvcGUuJG9uKCdkYXRhLnJlbG9hZCcsIGRhdGFSZWxvYWQpO1xyXG4gICAgICAgICAgICAvL3JlZ2lzdGVyIGZvciBkYXRhIHJlZnJlc2hcclxuICAgICAgICAgICAgc2NvcGUuJG9uKCdpdGVtLm5ldycsIGRhdGFSZWZyZXNoKTtcclxuICAgICAgICAgICAgLy9yZWdpc3RlciBmb3IgZGF0YSByZWZyZXNoXHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignaXRlbS5zYXZlJywgZGF0YVJlZnJlc2gpO1xyXG4gICAgICAgICAgICAvL3JlZ2lzdGVyIGZvciBkYXRhIHJlZnJlc2hcclxuICAgICAgICAgICAgc2NvcGUuJG9uKCdpdGVtLmRlbGV0ZScsIGRhdGFSZWZyZXNoKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxubmdNb2R1bGUuZGlyZWN0aXZlKCdsb2MnLE1vc3RMb2NhbGl6ZWREaXJlY3RpdmUpXHJcbiAgICAuZGlyZWN0aXZlKCdsb2NIdG1sJyxNb3N0TG9jYWxpemVkSHRtbERpcmVjdGl2ZSlcclxuICAgIC5maWx0ZXIoJ2xvYycsW01vc3RMb2NhbGl6ZWRGaWx0ZXJdKVxyXG4gICAgLmRpcmVjdGl2ZSgnbW9zdEV2ZW50JyxNb3N0RXZlbnREaXJlY3RpdmUpXHJcbiAgICAuZGlyZWN0aXZlKCdtb3N0V2F0Y2gnLE1vc3RXYXRjaERpcmVjdGl2ZSlcclxuICAgIC5kaXJlY3RpdmUoJ21vc3RJdGVtJyxNb3N0SXRlbURpcmVjdGl2ZSlcclxuICAgIC5kaXJlY3RpdmUoJ21vc3REYXRhJyxNb3N0RGF0YUluc3RhbmNlRGlyZWN0aXZlKVxyXG4gICAgLmRpcmVjdGl2ZSgnbW9zdFZhcmlhYmxlJyxNb3N0VmFyaWFibGVEaXJlY3RpdmUpXHJcbiAgICAuZGlyZWN0aXZlKCdtb3N0UGFyYW0nLE1vc3RQYXJhbURpcmVjdGl2ZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZ01vZHVsZS5uYW1lO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL21vZHVsZXMvQHRoZW1vc3QvYW5ndWxhcmpzL21vZHVsZS50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar angular = __webpack_require__(0);\r\nvar client_1 = __webpack_require__(4);\r\nvar ngModule = angular.module(\'most.services\', []);\r\nvar ContextProvider = /** @class */ (function () {\r\n    function ContextProvider() {\r\n        this.defaults = {\r\n            "base": "/"\r\n        };\r\n    }\r\n    ContextProvider.prototype.$get = function ($http, $q) {\r\n        return new client_1.AngularDataContext(this.defaults.base, $http, $q);\r\n    };\r\n    ;\r\n    return ContextProvider;\r\n}());\r\nngModule.provider("$context", ContextProvider);\r\nexports.default = \'most.services\';\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2FuZ3VsYXJqcy9zZXJ2aWNlcy50cz8yOGI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBU0EscUNBQW9DO0FBQ3BDLHNDQUE0QztBQUU1QyxJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLGVBQWUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUVyRDtJQUlJO1FBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRztZQUNaLE1BQU0sRUFBQyxHQUFHO1NBQ2IsQ0FBQztJQUNOLENBQUM7SUFDRCw4QkFBSSxHQUFKLFVBQUssS0FBSyxFQUFFLEVBQUU7UUFDVixNQUFNLENBQUMsSUFBSSwyQkFBa0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUFBLENBQUM7SUFDTixzQkFBQztBQUFELENBQUM7QUFDRCxRQUFRLENBQUMsUUFBUSxDQUFDLFVBQVUsRUFBQyxlQUFlLENBQUMsQ0FBQztBQUU5QyxrQkFBZSxlQUFlLENBQUMiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBNT1NUIFdlYiBGcmFtZXdvcmsgMi4wIENvZGVuYW1lIEJsdWVzaGlmdFxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcsIFRIRU1PU1QgTFAgQWxsIHJpZ2h0cyByZXNlcnZlZFxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBCU0QtMy1DbGF1c2UgbGljZW5zZSB0aGF0IGNhbiBiZVxyXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vdGhlbW9zdC5pby9saWNlbnNlXHJcbiAqL1xyXG5pbXBvcnQge0lTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gJ2FuZ3VsYXInO1xyXG5pbXBvcnQgYW5ndWxhciA9IHJlcXVpcmUoXCJhbmd1bGFyXCIpO1xyXG5pbXBvcnQge0FuZ3VsYXJEYXRhQ29udGV4dH0gZnJvbSBcIi4vY2xpZW50XCI7XHJcblxyXG5jb25zdCBuZ01vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdtb3N0LnNlcnZpY2VzJywgW10pO1xyXG5cclxuY2xhc3MgQ29udGV4dFByb3ZpZGVyIGltcGxlbWVudHMgSVNlcnZpY2VQcm92aWRlciB7XHJcblxyXG4gICAgcHVibGljIGRlZmF1bHRzOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0cyA9IHtcclxuICAgICAgICAgICAgXCJiYXNlXCI6XCIvXCJcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgJGdldCgkaHR0cCwgJHEpOiBBbmd1bGFyRGF0YUNvbnRleHQge1xyXG4gICAgICAgIHJldHVybiBuZXcgQW5ndWxhckRhdGFDb250ZXh0KHRoaXMuZGVmYXVsdHMuYmFzZSwgJGh0dHAsICRxKTtcclxuICAgIH07XHJcbn1cclxubmdNb2R1bGUucHJvdmlkZXIoXCIkY29udGV4dFwiLENvbnRleHRQcm92aWRlcik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCAnbW9zdC5zZXJ2aWNlcyc7XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9tb2R1bGVzL0B0aGVtb3N0L2FuZ3VsYXJqcy9zZXJ2aWNlcy50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n/**\r\n * @license\r\n * MOST Web Framework 2.0 Codename Blueshift\r\n * Copyright (c) 2017, THEMOST LP All rights reserved\r\n *\r\n * Use of this source code is governed by an BSD-3-Clause license that can be\r\n * found in the LICENSE file at https://themost.io/license\r\n */\r\nvar common_1 = __webpack_require__(1);\r\nvar client_1 = __webpack_require__(5);\r\nvar REG_DATETIME_ISO = /^(\\d{4})(?:-?W(\\d+)(?:-?(\\d+)D?)?|(?:-(\\d+))?-(\\d+))(?:[T ](\\d+):(\\d+)(?::(\\d+)(?:\\.(\\d+))?)?)?(?:Z(-?\\d*))?([+-](\\d+):(\\d+))?$/;\r\nfunction dateParser(key, value) {\r\n    if ((typeof value === \'string\') && REG_DATETIME_ISO.test(value)) {\r\n        return new Date(value);\r\n    }\r\n    return value;\r\n}\r\nvar AngularDataContext = /** @class */ (function (_super) {\r\n    __extends(AngularDataContext, _super);\r\n    function AngularDataContext(base, http, q, options) {\r\n        return _super.call(this, new AngularDataService(base || "/", http, q, options)) || this;\r\n    }\r\n    return AngularDataContext;\r\n}(client_1.ClientDataContext));\r\nexports.AngularDataContext = AngularDataContext;\r\nvar AngularDataService = /** @class */ (function (_super) {\r\n    __extends(AngularDataService, _super);\r\n    /**\r\n     *\r\n     * @param {string} base\r\n     * @param {*} http\r\n     * @param {*} q\r\n     * @param {ClientDataContextOptions} options\r\n     */\r\n    function AngularDataService(base, http, q, options) {\r\n        var _this = _super.call(this, base, options) || this;\r\n        _this.http = http;\r\n        _this.q = q;\r\n        return _this;\r\n    }\r\n    AngularDataService.prototype.execute = function (options) {\r\n        var _this = this;\r\n        var $http = this.http;\r\n        var $q = this.q;\r\n        return $q(function (resolve, reject) {\r\n            try {\r\n                //options defaults\r\n                options.method = options.method || "GET";\r\n                options.headers = __assign({}, _this.getHeaders(), options.headers);\r\n                //set content type\r\n                options.headers["Content-Type"] = "application/json";\r\n                //validate options URL\r\n                common_1.Args.notNull(options.url, "Request URL");\r\n                //validate URL format\r\n                common_1.Args.check(!/^https?:\\/\\//i.test(options.url), "Request URL may not be an absolute URI");\r\n                //validate request method\r\n                common_1.Args.check(/^GET|POST|PUT|DELETE$/i.test(options.method), "Invalid request method. Expected GET, POST, PUT or DELETE.");\r\n                var url_ = _this.resolve(options.url);\r\n                var o = {\r\n                    method: options.method,\r\n                    url: url_,\r\n                    headers: options.headers,\r\n                    transformResponse: function (data, headers, status) {\r\n                        if (typeof data === \'undefined\' || data === null) {\r\n                            return;\r\n                        }\r\n                        if (/^application\\/json/.test(headers("Content-Type"))) {\r\n                            if (data.length === 0) {\r\n                                return;\r\n                            }\r\n                            return JSON.parse(data, dateParser);\r\n                        }\r\n                        return data;\r\n                    }\r\n                };\r\n                if (/^GET$/i.test(o.method)) {\r\n                    o["params"] = options.data;\r\n                }\r\n                else {\r\n                    o["data"] = options.data;\r\n                }\r\n                $http(o).then(function (response) {\r\n                    resolve(response.data);\r\n                }, function (err) {\r\n                    reject(err);\r\n                });\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n    return AngularDataService;\r\n}(client_1.ClientDataService));\r\nexports.AngularDataService = AngularDataService;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2FuZ3VsYXJqcy9jbGllbnQudHM/OTBiNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7O0dBT0c7QUFDSCxzQ0FBK0Y7QUFDL0Ysc0NBQXFFO0FBRXJFLElBQU0sZ0JBQWdCLEdBQUcsaUlBQWlJLENBQUM7QUFDM0osb0JBQW9CLEdBQUcsRUFBRSxLQUFLO0lBQzFCLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxLQUFLLEtBQUssUUFBUSxDQUFDLElBQUksZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5RCxNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDakIsQ0FBQztBQUVEO0lBQXdDLHNDQUFpQjtJQUNyRCw0QkFBWSxJQUFXLEVBQUUsSUFBUSxFQUFFLENBQUssRUFBRSxPQUFpQztlQUN2RSxrQkFBTSxJQUFJLGtCQUFrQixDQUFDLElBQUksSUFBSSxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNoRSxDQUFDO0lBQ0wseUJBQUM7QUFBRCxDQUFDLENBSnVDLDBCQUFpQixHQUl4RDtBQUpZLGdEQUFrQjtBQU0vQjtJQUF3QyxzQ0FBaUI7SUFLckQ7Ozs7OztPQU1HO0lBQ0gsNEJBQVksSUFBVyxFQUFFLElBQVEsRUFBRSxDQUFLLEVBQUUsT0FBaUM7UUFBM0UsWUFDSSxrQkFBTSxJQUFJLEVBQUUsT0FBTyxDQUFDLFNBR3ZCO1FBRkcsS0FBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsS0FBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7O0lBQ2YsQ0FBQztJQUVELG9DQUFPLEdBQVAsVUFBUSxPQUFpQztRQUF6QyxpQkFvREM7UUFsREcsSUFBTSxLQUFL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QUFpQixHQXdFeEQ7QUF4RVksZ0RBQWtCIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQGxpY2Vuc2VcclxuICogTU9TVCBXZWIgRnJhbWV3b3JrIDIuMCBDb2RlbmFtZSBCbHVlc2hpZnRcclxuICogQ29weXJpZ2h0IChjKSAyMDE3LCBUSEVNT1NUIExQIEFsbCByaWdodHMgcmVzZXJ2ZWRcclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gQlNELTMtQ2xhdXNlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcclxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL3RoZW1vc3QuaW8vbGljZW5zZVxyXG4gKi9cclxuaW1wb3J0IHtEYXRhU2VydmljZUV4ZWN1dGVPcHRpb25zLEFyZ3MsQ2xpZW50RGF0YUNvbnRleHRPcHRpb25zfSBmcm9tIFwiQHRoZW1vc3QvY2xpZW50L2NvbW1vblwiO1xyXG5pbXBvcnQge0NsaWVudERhdGFTZXJ2aWNlLCBDbGllbnREYXRhQ29udGV4dH0gZnJvbSBcIkB0aGVtb3N0L2NsaWVudFwiO1xyXG5cclxuY29uc3QgUkVHX0RBVEVUSU1FX0lTTyA9IC9eKFxcZHs0fSkoPzotP1coXFxkKykoPzotPyhcXGQrKUQ/KT98KD86LShcXGQrKSk/LShcXGQrKSkoPzpbVCBdKFxcZCspOihcXGQrKSg/OjooXFxkKykoPzpcXC4oXFxkKykpPyk/KT8oPzpaKC0/XFxkKikpPyhbKy1dKFxcZCspOihcXGQrKSk/JC87XHJcbmZ1bmN0aW9uIGRhdGVQYXJzZXIoa2V5LCB2YWx1ZSkge1xyXG4gICAgaWYgKCh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSAmJiBSRUdfREFURVRJTUVfSVNPLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJEYXRhQ29udGV4dCBleHRlbmRzIENsaWVudERhdGFDb250ZXh0IHtcclxuICAgIGNvbnN0cnVjdG9yKGJhc2U6c3RyaW5nLCBodHRwOmFueSwgcTphbnksIG9wdGlvbnM/OkNsaWVudERhdGFDb250ZXh0T3B0aW9ucykge1xyXG4gICAgICAgIHN1cGVyKG5ldyBBbmd1bGFyRGF0YVNlcnZpY2UoYmFzZSB8fCBcIi9cIiwgaHR0cCwgcSwgb3B0aW9ucykpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQW5ndWxhckRhdGFTZXJ2aWNlIGV4dGVuZHMgQ2xpZW50RGF0YVNlcnZpY2Uge1xyXG5cclxuICAgIHByaXZhdGUgaHR0cDtcclxuICAgIHByaXZhdGUgcTtcclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYmFzZVxyXG4gICAgICogQHBhcmFtIHsqfSBodHRwXHJcbiAgICAgKiBAcGFyYW0geyp9IHFcclxuICAgICAqIEBwYXJhbSB7Q2xpZW50RGF0YUNvbnRleHRPcHRpb25zfSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGJhc2U6c3RyaW5nLCBodHRwOmFueSwgcTphbnksIG9wdGlvbnM/OkNsaWVudERhdGFDb250ZXh0T3B0aW9ucykge1xyXG4gICAgICAgIHN1cGVyKGJhc2UsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuaHR0cCA9IGh0dHA7XHJcbiAgICAgICAgdGhpcy5xID0gcTtcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKG9wdGlvbnM6RGF0YVNlcnZpY2VFeGVjdXRlT3B0aW9ucyk6UHJvbWlzZTxhbnk+IHtcclxuXHJcbiAgICAgICAgY29uc3QgJGh0dHAgPSB0aGlzLmh0dHA7XHJcbiAgICAgICAgY29uc3QgJHEgPSB0aGlzLnE7XHJcbiAgICAgICAgcmV0dXJuICRxKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIC8vb3B0aW9ucyBkZWZhdWx0c1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tZXRob2QgPSBvcHRpb25zLm1ldGhvZCB8fCBcIkdFVFwiO1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0geyAuLi50aGlzLmdldEhlYWRlcnMoKSwgLi4ub3B0aW9ucy5oZWFkZXJzIH07XHJcbiAgICAgICAgICAgICAgICAvL3NldCBjb250ZW50IHR5cGVcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiO1xyXG4gICAgICAgICAgICAgICAgLy92YWxpZGF0ZSBvcHRpb25zIFVSTFxyXG4gICAgICAgICAgICAgICAgQXJncy5ub3ROdWxsKG9wdGlvbnMudXJsLFwiUmVxdWVzdCBVUkxcIik7XHJcbiAgICAgICAgICAgICAgICAvL3ZhbGlkYXRlIFVSTCBmb3JtYXRcclxuICAgICAgICAgICAgICAgIEFyZ3MuY2hlY2soIS9eaHR0cHM/OlxcL1xcLy9pLnRlc3Qob3B0aW9ucy51cmwpLFwiUmVxdWVzdCBVUkwgbWF5IG5vdCBiZSBhbiBhYnNvbHV0ZSBVUklcIik7XHJcbiAgICAgICAgICAgICAgICAvL3ZhbGlkYXRlIHJlcXVlc3QgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICBBcmdzLmNoZWNrKC9eR0VUfFBPU1R8UFVUfERFTEVURSQvaS50ZXN0KG9wdGlvbnMubWV0aG9kKSxcIkludmFsaWQgcmVxdWVzdCBtZXRob2QuIEV4cGVjdGVkIEdFVCwgUE9TVCwgUFVUIG9yIERFTEVURS5cIik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1cmxfID0gdGhpcy5yZXNvbHZlKG9wdGlvbnMudXJsKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG8gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBvcHRpb25zLm1ldGhvZCxcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybF8sXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczpvcHRpb25zLmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2U6KGRhdGEsIGhlYWRlcnMsIHN0YXR1cykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICd1bmRlZmluZWQnIHx8IGRhdGEgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL15hcHBsaWNhdGlvblxcL2pzb24vLnRlc3QoaGVhZGVycyhcIkNvbnRlbnQtVHlwZVwiKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEsIGRhdGVQYXJzZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoL15HRVQkL2kudGVzdChvLm1ldGhvZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvW1wicGFyYW1zXCJdID0gb3B0aW9ucy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb1tcImRhdGFcIl0gPSBvcHRpb25zLmRhdGE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkaHR0cChvKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaChlcnIpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL21vZHVsZXMvQHRoZW1vc3QvYW5ndWxhcmpzL2NsaWVudC50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n')},function(module,exports,__webpack_require__){"use strict";eval('\r\n/**\r\n * @license\r\n * MOST Web Framework 2.0 Codename Blueshift\r\n * Copyright (c) 2017, THEMOST LP All rights reserved\r\n *\r\n * Use of this source code is governed by an BSD-3-Clause license that can be\r\n * found in the LICENSE file at https://themost.io/license\r\n */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar common_1 = __webpack_require__(1);\r\nvar parse = __webpack_require__(6);\r\nvar ClientQueryExpression = /** @class */ (function () {\r\n    function ClientQueryExpression() {\r\n    }\r\n    return ClientQueryExpression;\r\n}());\r\nvar ClientDataQueryable = /** @class */ (function () {\r\n    function ClientDataQueryable(model, service) {\r\n        common_1.Args.notEmpty(model, "Model");\r\n        this.model_ = model;\r\n        common_1.Args.notNull(service, "Data Service");\r\n        this.service_ = service;\r\n        if (this.service_.getOptions().useMediaTypeExtensions) {\r\n            this.url_ = common_1.TextUtils.format("%s/index.json", this.model_);\r\n        }\r\n        else {\r\n            this.url_ = common_1.TextUtils.format("%s/", this.model_);\r\n        }\r\n        //init params\r\n        this.params_ = {};\r\n        //init privates\r\n        this.privates_ = new ClientQueryExpression();\r\n    }\r\n    ClientDataQueryable.parse = function (u, service) {\r\n        var uri = parse(u, true);\r\n        var result = new ClientDataQueryable("Model", service || new ParserDataService(uri.protocol ? uri.origin : "/"));\r\n        for (var key in uri.query) {\r\n            if (/^\\$/.test(key)) {\r\n                if (/[+-]?\\d+/.test(uri.query[key])) {\r\n                    result.setParam(key, parseInt(uri.query[key]));\r\n                }\r\n                else {\r\n                    result.setParam(key, uri.query[key]);\r\n                }\r\n            }\r\n        }\r\n        result.setUrl(uri.pathname);\r\n        return result;\r\n    };\r\n    ClientDataQueryable.prototype.toString = function () {\r\n        var uri = this.getService().resolve(this.url_);\r\n        var params = this.getParams();\r\n        var search = "";\r\n        for (var key in params) {\r\n            search = search.concat(key, \'=\', params[key], "&");\r\n        }\r\n        if (search.length) {\r\n            return uri.concat("?", search.replace(/&$/, ""));\r\n        }\r\n        return uri;\r\n    };\r\n    ClientDataQueryable.prototype.toExpand = function () {\r\n        var model = this.getModel();\r\n        var params = this.getParams();\r\n        var search = "";\r\n        for (var key in params) {\r\n            search = search.concat(key, \'=\', params[key], ";");\r\n        }\r\n        if (search.length) {\r\n            return model.concat("(", search.replace(/;$/, ""), ")");\r\n        }\r\n        return model;\r\n    };\r\n    ClientDataQueryable.prototype.takeNext = function (n) {\r\n        var p = this.getParams();\r\n        return this.take(n).skip((p.$skip ? p.$skip : 0) + n);\r\n    };\r\n    ClientDataQueryable.prototype.takePrevious = function (n) {\r\n        var p = this.getParams();\r\n        if (p.$skip > 0) {\r\n            if (n <= p.$skip) {\r\n                this.skip(p.$skip - n);\r\n                return this.take(n);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * @returns {ClientDataServiceBase}\r\n     */\r\n    ClientDataQueryable.prototype.getService = function () {\r\n        return this.service_;\r\n    };\r\n    /**\r\n     * @returns {DataServiceQueryParams}\r\n     */\r\n    ClientDataQueryable.prototype.getParams = function () {\r\n        return this.params_;\r\n    };\r\n    /**\r\n     * @returns {ClientDataQueryable}\r\n     */\r\n    ClientDataQueryable.prototype.setParam = function (name, value) {\r\n        if (/^\\$/.test(name)) {\r\n            this.params_[name] = value;\r\n        }\r\n        else {\r\n            this.params_["$" + name] = value;\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Gets a string which represents the name of the data model associated with this object.\r\n     * @returns {string}\r\n     */\r\n    ClientDataQueryable.prototype.getModel = function () {\r\n        return this.model_;\r\n    };\r\n    /**\r\n     * Gets a string which represents the relative URL associated with this object.\r\n     * @returns {string}\r\n     */\r\n    ClientDataQueryable.prototype.getUrl = function () {\r\n        return this.url_;\r\n    };\r\n    /**\r\n     * Sets the relative URL associated with this object.\r\n     * @param value - A string which represents a relative URI.\r\n     * @returns ClientDataQueryable\r\n     */\r\n    ClientDataQueryable.prototype.setUrl = function (value) {\r\n        common_1.Args.notEmpty(value, "URL");\r\n        common_1.Args.check(!common_1.TextUtils.isAbsoluteURI(value), "URL must be a relative URI");\r\n        this.url_ = value;\r\n        return this;\r\n    };\r\n    ClientDataQueryable.create = function (model, service) {\r\n        return new ClientDataQueryable(model, service);\r\n    };\r\n    ClientDataQueryable.prototype.append_ = function () {\r\n        var _this = this;\r\n        common_1.Args.notNull(this.privates_.left, "Left operand");\r\n        common_1.Args.notNull(this.privates_.op, "Comparison operator");\r\n        var expr;\r\n        if (Array.isArray(this.privates_.right)) {\r\n            common_1.Args.check((this.privates_.op === "eq") || (this.privates_.op === "ne"), "Wrong operator. Expected equal or not equal");\r\n            common_1.Args.check(this.privates_.right.length > 0, "Array may not be empty");\r\n            var arr = this.privates_.right.map(function (x) {\r\n                return _this.privates_.left + " " + _this.privates_.op + " " + _this.escape_(x);\r\n            });\r\n            if (this.privates_.op === "eq") {\r\n                expr = "(" + arr.join(" or ") + ")";\r\n            }\r\n            else {\r\n                expr = "(" + arr.join(" or ") + ")";\r\n            }\r\n        }\r\n        else {\r\n            expr = this.privates_.left + " " + this.privates_.op + " " + this.escape_(this.privates_.right);\r\n        }\r\n        this.privates_.lop = this.privates_.lop || "and";\r\n        if (common_1.TextUtils.isNotEmptyString(this.params_.$filter)) {\r\n            this.params_.$filter = this.params_.$filter + " " + this.privates_.lop + " " + expr;\r\n        }\r\n        else {\r\n            this.params_.$filter = expr;\r\n        }\r\n        //clear object\r\n        this.privates_.left = null;\r\n        this.privates_.op = null;\r\n        this.privates_.right = null;\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.escape_ = function (val) {\r\n        var _this = this;\r\n        if ((val == null) || (val == undefined)) {\r\n            return "null";\r\n        }\r\n        if (typeof val === \'boolean\') {\r\n            return (val) ? "true" : "false";\r\n        }\r\n        if (typeof val === \'number\') {\r\n            return val + "";\r\n        }\r\n        if (val instanceof Date) {\r\n            var dt = val;\r\n            var year = dt.getFullYear();\r\n            var month = common_1.TextUtils.zeroPad(dt.getMonth() + 1, 2);\r\n            var day = common_1.TextUtils.zeroPad(dt.getDate(), 2);\r\n            var hour = common_1.TextUtils.zeroPad(dt.getHours(), 2);\r\n            var minute = common_1.TextUtils.zeroPad(dt.getMinutes(), 2);\r\n            var second = common_1.TextUtils.zeroPad(dt.getSeconds(), 2);\r\n            var millisecond = common_1.TextUtils.zeroPad(dt.getMilliseconds(), 3);\r\n            //format timezone\r\n            var offset = (new Date()).getTimezoneOffset(), timezone = (offset >= 0 ? \'+\' : \'\') + common_1.TextUtils.zeroPad(Math.floor(offset / 60), 2) + \':\' + common_1.TextUtils.zeroPad(offset % 60, 2);\r\n            return "\'" + year + \'-\' + month + \'-\' + day + \' \' + hour + \':\' + minute + \':\' + second + \'.\' + millisecond + timezone + "\'";\r\n        }\r\n        if (val instanceof Array) {\r\n            var values_1 = [];\r\n            val.forEach(function (x) {\r\n                values_1.push(_this.escape_(x));\r\n            });\r\n            return values_1.join(\',\');\r\n        }\r\n        if (typeof val === "string") {\r\n            var res = val.replace(/[\\0\\n\\r\\b\\t\\\\\'"\\x1a]/g, function (s) {\r\n                switch (s) {\r\n                    case "\\0": return "\\\\0";\r\n                    case "\\n": return "\\\\n";\r\n                    case "\\r": return "\\\\r";\r\n                    case "\\b": return "\\\\b";\r\n                    case "\\t": return "\\\\t";\r\n                    case "\\x1a": return "\\\\Z";\r\n                    default: return "\\\\" + s;\r\n                }\r\n            });\r\n            return "\'" + res + "\'";\r\n        }\r\n        //otherwise get valueOf\r\n        if (val.hasOwnProperty("$name"))\r\n            return val["$name"];\r\n        else\r\n            return this.escape_(val.valueOf());\r\n    };\r\n    ClientDataQueryable.prototype.where = function (name) {\r\n        common_1.Args.notEmpty(name, "Left operand");\r\n        this.privates_.left = name;\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.and = function (name) {\r\n        common_1.Args.notEmpty(name, "Left operand");\r\n        this.privates_.left = name;\r\n        this.privates_.lop = "and";\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.andAlso = function (name) {\r\n        common_1.Args.notEmpty(name, "Left operand");\r\n        this.privates_.left = name;\r\n        this.privates_.lop = "and";\r\n        if (!common_1.TextUtils.isNullOrUndefined(this.params_.$filter)) {\r\n            this.params_.$filter = "(" + this.params_.$filter + ")";\r\n        }\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.or = function (name) {\r\n        common_1.Args.notEmpty(name, "Left operand");\r\n        this.privates_.left = name;\r\n        this.privates_.lop = "or";\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.orElse = function (name) {\r\n        common_1.Args.notEmpty(name, "Left operand");\r\n        this.privates_.left = name;\r\n        this.privates_.lop = "or";\r\n        if (!common_1.TextUtils.isNullOrUndefined(this.params_.$filter)) {\r\n            this.params_.$filter = "(" + this.params_.$filter + ")";\r\n        }\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.compare_ = function (op, value) {\r\n        common_1.Args.notNull(this.privates_.left, "The left operand");\r\n        this.privates_.op = op;\r\n        this.privates_.right = value;\r\n        return this.append_();\r\n    };\r\n    ClientDataQueryable.prototype.equal = function (value) {\r\n        return this.compare_("eq", value);\r\n    };\r\n    ClientDataQueryable.prototype.notEqual = function (value) {\r\n        return this.compare_("ne", value);\r\n    };\r\n    ClientDataQueryable.prototype.greaterThan = function (value) {\r\n        return this.compare_("gt", value);\r\n    };\r\n    ClientDataQueryable.prototype.greaterOrEqual = function (value) {\r\n        return this.compare_("ge", value);\r\n    };\r\n    ClientDataQueryable.prototype.lowerThan = function (value) {\r\n        return this.compare_("lt", value);\r\n    };\r\n    ClientDataQueryable.prototype.lowerOrEqual = function (value) {\r\n        return this.compare_("le", value);\r\n    };\r\n    /**\r\n     * @param {*} value1\r\n     * @param {*} value2\r\n     * @returns {ClientDataQueryable}\r\n     */\r\n    ClientDataQueryable.prototype.between = function (value1, value2) {\r\n        common_1.Args.notNull(this.privates_.left, "The left operand");\r\n        //generate new filter\r\n        var s = ClientDataQueryable.create(this.getModel())\r\n            .where(this.privates_.left).greaterOrEqual(value1)\r\n            .and(this.privates_.left).lowerOrEqual(value2).toFilter();\r\n        this.privates_.lop = this.privates_.lop || "and";\r\n        if (this.params_.$filter) {\r\n            this.params_.$filter = "(" + this.params_.$filter + ") " + this.privates_.lop + " (" + s + ")";\r\n        }\r\n        else {\r\n            this.params_.$filter = "(" + s + ")";\r\n        }\r\n        //clear object\r\n        this.privates_.left = null;\r\n        this.privates_.op = null;\r\n        this.privates_.right = null;\r\n        this.privates_.lop = null;\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.toFilter = function () {\r\n        return this.params_.$filter;\r\n    };\r\n    ClientDataQueryable.prototype.contains = function (value) {\r\n        common_1.Args.notNull(this.privates_.left, "The left operand");\r\n        this.privates_.op = \'ge\';\r\n        this.privates_.left = common_1.TextUtils.format(\'indexof(%s,%s)\', this.privates_.left, this.escape_(value));\r\n        this.privates_.right = 0;\r\n        return this.append_();\r\n    };\r\n    ClientDataQueryable.prototype.aggregate_ = function (fn) {\r\n        common_1.Args.notNull(this.privates_.left, "The left operand");\r\n        this.privates_.left = common_1.TextUtils.format(\'%s(%s)\', fn, this.privates_.left);\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.getDate = function () {\r\n        return this.aggregate_("date");\r\n    };\r\n    ClientDataQueryable.prototype.getDay = function () {\r\n        return this.aggregate_("day");\r\n    };\r\n    ClientDataQueryable.prototype.getMonth = function () {\r\n        return this.aggregate_("month");\r\n    };\r\n    ClientDataQueryable.prototype.getYear = function () {\r\n        return this.aggregate_("year");\r\n    };\r\n    ClientDataQueryable.prototype.getFullYear = function () {\r\n        return this.aggregate_("year");\r\n    };\r\n    ClientDataQueryable.prototype.getHours = function () {\r\n        return this.aggregate_("hour");\r\n    };\r\n    ClientDataQueryable.prototype.getMinutes = function () {\r\n        return this.aggregate_("minute");\r\n    };\r\n    ClientDataQueryable.prototype.getSeconds = function () {\r\n        return this.aggregate_("second");\r\n    };\r\n    ClientDataQueryable.prototype.length = function () {\r\n        return this.aggregate_("length");\r\n    };\r\n    ClientDataQueryable.prototype.trim = function () {\r\n        return this.aggregate_("trim");\r\n    };\r\n    ClientDataQueryable.prototype.toLocaleLowerCase = function () {\r\n        return this.aggregate_("tolower");\r\n    };\r\n    ClientDataQueryable.prototype.toLowerCase = function () {\r\n        return this.aggregate_("tolower");\r\n    };\r\n    ClientDataQueryable.prototype.toLocaleUpperCase = function () {\r\n        return this.aggregate_("toupper");\r\n    };\r\n    ClientDataQueryable.prototype.toUpperCase = function () {\r\n        return this.aggregate_("toupper");\r\n    };\r\n    ClientDataQueryable.prototype.round = function () {\r\n        return this.aggregate_("round");\r\n    };\r\n    ClientDataQueryable.prototype.floor = function () {\r\n        return this.aggregate_("floor");\r\n    };\r\n    ClientDataQueryable.prototype.ceil = function () {\r\n        return this.aggregate_("ceiling");\r\n    };\r\n    ClientDataQueryable.prototype.indexOf = function (s) {\r\n        common_1.Args.notNull(this.privates_.left, "The left operand");\r\n        this.privates_.left = common_1.TextUtils.format(\'indexof(%s,%s)\', this.privates_.left, this.escape_(s));\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.substr = function (pos, length) {\r\n        common_1.Args.notNull(this.privates_.left, "The left operand");\r\n        this.privates_.left = common_1.TextUtils.format(\'substring(%s,%s,%s)\', this.privates_.left, pos, length);\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.startsWith = function (s) {\r\n        common_1.Args.notNull(this.privates_.left, "The left operand");\r\n        this.privates_.left = common_1.TextUtils.format(\'startswith(%s,%s)\', this.privates_.left, this.escape_(s));\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.endsWith = function (s) {\r\n        common_1.Args.notNull(this.privates_.left, "The left operand");\r\n        this.privates_.left = common_1.TextUtils.format(\'endswith(%s,%s)\', this.privates_.left, this.escape_(s));\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.select = function () {\r\n        var attr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            attr[_i] = arguments[_i];\r\n        }\r\n        common_1.Args.notNull(attr, "Attributes");\r\n        common_1.Args.check(attr.length > 0, "Attributes may not be empty");\r\n        var arr = [];\r\n        for (var i = 0; i < attr.length; i++) {\r\n            common_1.Args.check(typeof attr[i] === "string", "Invalid attribute. Expected string.");\r\n            arr.push(attr[i]);\r\n        }\r\n        this.params_.$select = arr.join(",");\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.groupBy = function () {\r\n        var attr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            attr[_i] = arguments[_i];\r\n        }\r\n        common_1.Args.notNull(attr, "Attributes");\r\n        common_1.Args.check(attr.length > 0, "Attributes may not be empty");\r\n        var arr = [];\r\n        for (var i = 0; i < attr.length; i++) {\r\n            common_1.Args.check(typeof attr[i] === "string", "Invalid attribute. Expected string.");\r\n            arr.push(attr[i]);\r\n        }\r\n        this.params_.$groupby = arr.join(",");\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.expand = function () {\r\n        var attr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            attr[_i] = arguments[_i];\r\n        }\r\n        common_1.Args.notNull(attr, "Attributes");\r\n        common_1.Args.check(attr.length > 0, "Attributes may not be empty");\r\n        var arr = [];\r\n        for (var i = 0; i < attr.length; i++) {\r\n            common_1.Args.check(typeof attr[i] === "string", "Invalid attribute. Expected string.");\r\n            arr.push(attr[i]);\r\n        }\r\n        this.params_.$expand = arr.join(",");\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.orderBy = function (attr) {\r\n        common_1.Args.notEmpty(attr, "Order by attribute");\r\n        this.params_.$orderby = attr.toString();\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.thenBy = function (attr) {\r\n        common_1.Args.notEmpty(attr, "Order by attribute");\r\n        this.params_.$orderby += (this.params_.$orderby ? \',\' + attr.toString() : attr.toString());\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.orderByDescending = function (attr) {\r\n        common_1.Args.notEmpty(attr, "Order by attribute");\r\n        this.params_.$orderby = attr.toString() + " desc";\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.thenByDescending = function (attr) {\r\n        common_1.Args.notEmpty(attr, "Order by attribute");\r\n        this.params_.$orderby += (this.params_.$orderby ? \',\' + attr.toString() : attr.toString()) + " desc";\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.skip = function (num) {\r\n        this.params_.$skip = num;\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.take = function (num) {\r\n        this.params_.$top = num;\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.first = function () {\r\n        delete this.params_.$top;\r\n        delete this.params_.$skip;\r\n        delete this.params_.$count;\r\n        this.params_.$first = true;\r\n        return this.getService().execute({\r\n            method: "GET",\r\n            url: this.getUrl(),\r\n            data: this.params_,\r\n            headers: []\r\n        });\r\n    };\r\n    ClientDataQueryable.prototype.list = function () {\r\n        delete this.params_.$first;\r\n        this.params_.$count = true;\r\n        return this.getService().execute({\r\n            method: "GET",\r\n            url: this.getUrl(),\r\n            data: this.params_,\r\n            headers: {}\r\n        });\r\n    };\r\n    ClientDataQueryable.prototype.item = function () {\r\n        return this.first();\r\n    };\r\n    ClientDataQueryable.prototype.getItem = function () {\r\n        return this.first();\r\n    };\r\n    ClientDataQueryable.prototype.items = function () {\r\n        delete this.params_.$first;\r\n        this.params_.$count = false;\r\n        return this.getService().execute({\r\n            method: "GET",\r\n            url: this.getUrl(),\r\n            data: this.params_,\r\n            headers: {}\r\n        });\r\n    };\r\n    ClientDataQueryable.prototype.getItems = function () {\r\n        return this.items();\r\n    };\r\n    ClientDataQueryable.prototype.getList = function () {\r\n        return this.list();\r\n    };\r\n    ClientDataQueryable.prototype.filter = function (s) {\r\n        common_1.Args.notEmpty("s", "Filter expression");\r\n        this.params_.$filter = s;\r\n        return this;\r\n    };\r\n    ClientDataQueryable.prototype.levels = function (n) {\r\n        common_1.Args.Positive(n, \'Levels\');\r\n        this.params_.$levels = n;\r\n        return this;\r\n    };\r\n    return ClientDataQueryable;\r\n}());\r\nexports.ClientDataQueryable = ClientDataQueryable;\r\nvar ClientDataModel = /** @class */ (function () {\r\n    function ClientDataModel(name, service) {\r\n        this.name_ = name;\r\n        this.service_ = service;\r\n    }\r\n    /**\r\n     * @returns {ClientDataServiceBase}\r\n     */\r\n    ClientDataModel.prototype.getService = function () {\r\n        return this.service_;\r\n    };\r\n    ClientDataModel.prototype.getName = function () {\r\n        return this.name_;\r\n    };\r\n    /**\r\n     * @param {DataServiceQueryParams} params\r\n     * @returns {ClientDataQueryable}\r\n     */\r\n    ClientDataModel.prototype.asQueryable = function (params) {\r\n        var q = ClientDataQueryable.create(this.getName(), this.service_);\r\n        if (params) {\r\n            for (var key in params) {\r\n                q.setParam(key, params[key]);\r\n            }\r\n        }\r\n        return q;\r\n    };\r\n    /**\r\n     * @returns {Promise}\r\n     */\r\n    ClientDataModel.prototype.getItems = function () {\r\n        return this.asQueryable().getItems();\r\n    };\r\n    /**\r\n     * @returns {Promise}\r\n     */\r\n    ClientDataModel.prototype.getList = function () {\r\n        return this.asQueryable().getList();\r\n    };\r\n    ClientDataModel.prototype.where = function (attr) {\r\n        return this.asQueryable().where(attr);\r\n    };\r\n    ClientDataModel.prototype.select = function () {\r\n        var attr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            attr[_i] = arguments[_i];\r\n        }\r\n        var q = this.asQueryable();\r\n        return q.select.apply(q, attr);\r\n    };\r\n    ClientDataModel.prototype.skip = function (num) {\r\n        return this.asQueryable().skip(num);\r\n    };\r\n    ClientDataModel.prototype.take = function (num) {\r\n        return this.asQueryable().take(num);\r\n    };\r\n    ClientDataModel.prototype.getUrl = function () {\r\n        if (this.service_.getOptions().useMediaTypeExtensions) {\r\n            return common_1.TextUtils.format("%s/index.json", this.getName());\r\n        }\r\n        else {\r\n            return common_1.TextUtils.format("%s/", this.getName());\r\n        }\r\n    };\r\n    ClientDataModel.prototype.save = function (obj) {\r\n        return this.getService().execute({\r\n            method: "POST",\r\n            url: this.getUrl(),\r\n            data: obj,\r\n            headers: {}\r\n        });\r\n    };\r\n    ClientDataModel.prototype.schema = function () {\r\n        return this.getService().execute({ method: "GET",\r\n            url: common_1.TextUtils.format("%s/schema.json", this.getName()),\r\n            data: null,\r\n            headers: {}\r\n        });\r\n    };\r\n    ClientDataModel.prototype.remove = function (obj) {\r\n        return this.getService().execute({ method: "DELETE",\r\n            url: this.getUrl(),\r\n            data: obj,\r\n            headers: {}\r\n        });\r\n    };\r\n    ClientDataModel.prototype.levels = function (n) {\r\n        common_1.Args.Positive(n, \'Levels\');\r\n        return this.asQueryable().levels(n);\r\n    };\r\n    return ClientDataModel;\r\n}());\r\nexports.ClientDataModel = ClientDataModel;\r\nvar ClientDataContext = /** @class */ (function () {\r\n    function ClientDataContext(service, options) {\r\n        this.service_ = service;\r\n    }\r\n    ClientDataContext.prototype.setBasicAuthorization = function (username, password) {\r\n        this.getService().setHeader("Authorization", "Basic " + common_1.TextUtils.toBase64(username + ":" + password));\r\n        return this;\r\n    };\r\n    ClientDataContext.prototype.setBearerAuthorization = function (access_token) {\r\n        this.getService().setHeader("Authorization", "Bearer " + access_token);\r\n        return this;\r\n    };\r\n    /**\r\n     * Gets a string which represents the base URL of the MOST Web Application Server.\r\n     * @returns {string}\r\n     */\r\n    ClientDataContext.prototype.getBase = function () {\r\n        return this.base_;\r\n    };\r\n    /**\r\n     * Sets a string which represents the base URL of the MOST Web Application Server.\r\n     */\r\n    ClientDataContext.prototype.setBase = function (value) {\r\n        common_1.Args.notEmpty(value, "Base URL");\r\n        this.base_ = value;\r\n        return this;\r\n    };\r\n    /**\r\n     * Gets the instance of ClientDataService class which is associated with this data context.\r\n     * @returns {ClientDataServiceBase}\r\n     */\r\n    ClientDataContext.prototype.getService = function () {\r\n        return this.service_;\r\n    };\r\n    /**\r\n     * Gets an instance of ClientDataModel class\r\n     * @param name - A string which represents the name of the data model.\r\n     * @returns {ClientDataModel}\r\n     */\r\n    ClientDataContext.prototype.model = function (name) {\r\n        common_1.Args.notEmpty(name, "Model name");\r\n        var model = new ClientDataModel(name, this.getService());\r\n        return model;\r\n    };\r\n    return ClientDataContext;\r\n}());\r\nexports.ClientDataContext = ClientDataContext;\r\nvar ClientDataService = /** @class */ (function () {\r\n    function ClientDataService(base, options) {\r\n        this.headers_ = {};\r\n        this.options_ = options || {\r\n            useMediaTypeExtensions: true\r\n        };\r\n        if (typeof base === \'undefined\' || base == null) {\r\n            this.base_ = "/";\r\n        }\r\n        else {\r\n            this.base_ = base;\r\n            if (!/\\/$/.test(this.base_)) {\r\n                this.base_ += "/";\r\n            }\r\n        }\r\n    }\r\n    ClientDataService.prototype.getOptions = function () {\r\n        return this.options_;\r\n    };\r\n    ClientDataService.prototype.setHeader = function (name, value) {\r\n        this.headers_[name] = value;\r\n    };\r\n    ClientDataService.prototype.getHeaders = function () {\r\n        return this.headers_;\r\n    };\r\n    ClientDataService.prototype.getBase = function () {\r\n        return this.base_;\r\n    };\r\n    ClientDataService.prototype.resolve = function (relative) {\r\n        if (typeof relative === \'string\' && relative.length > 0) {\r\n            if (/^\\//.test(relative))\r\n                return this.getBase() + relative.substr(1);\r\n            else\r\n                return this.getBase() + relative;\r\n        }\r\n        throw new Error("Invalid argument. Expected a not empty string.");\r\n    };\r\n    ClientDataService.prototype.execute = function (options) {\r\n        throw new Error("Method not implemented.");\r\n    };\r\n    return ClientDataService;\r\n}());\r\nexports.ClientDataService = ClientDataService;\r\nvar ParserDataService = /** @class */ (function (_super) {\r\n    __extends(ParserDataService, _super);\r\n    function ParserDataService(base) {\r\n        return _super.call(this, base) || this;\r\n    }\r\n    ParserDataService.prototype.execute = function (options) {\r\n        throw new Error("Method not allowed.");\r\n    };\r\n    return ParserDataService;\r\n}(ClientDataService));\r\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2NsaWVudC9pbmRleC5qcz82ZmY3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxFQUFFO0FBQ2pCLGVBQWUsRUFBRTtBQUNqQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaUJBQWlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaUJBQWlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaUJBQWlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsdUJBQXVCO0FBQ3RDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIE1PU1QgV2ViIEZyYW1ld29yayAyLjAgQ29kZW5hbWUgQmx1ZXNoaWZ0XHJcbiAqIENvcHlyaWdodCAoYykgMjAxNywgVEhFTU9TVCBMUCBBbGwgcmlnaHRzIHJlc2VydmVkXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIEJTRC0zLUNsYXVzZSBsaWNlbnNlIHRoYXQgY2FuIGJlXHJcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly90aGVtb3N0LmlvL2xpY2Vuc2VcclxuICovXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuL2NvbW1vblwiKTtcclxudmFyIHBhcnNlID0gcmVxdWlyZShcInVybC1wYXJzZVwiKTtcclxudmFyIENsaWVudFF1ZXJ5RXhwcmVzc2lvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENsaWVudFF1ZXJ5RXhwcmVzc2lvbigpIHtcclxuICAgIH1cclxuICAgIHJldHVybiBDbGllbnRRdWVyeUV4cHJlc3Npb247XHJcbn0oKSk7XHJcbnZhciBDbGllbnREYXRhUXVlcnlhYmxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ2xpZW50RGF0YVF1ZXJ5YWJsZShtb2RlbCwgc2VydmljZSkge1xyXG4gICAgICAgIGNvbW1vbl8xLkFyZ3Mubm90RW1wdHkobW9kZWwsIFwiTW9kZWxcIik7XHJcbiAgICAgICAgdGhpcy5tb2RlbF8gPSBtb2RlbDtcclxuICAgICAgICBjb21tb25fMS5BcmdzLm5vdE51bGwoc2VydmljZSwgXCJEYXRhIFNlcnZpY2VcIik7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlXyA9IHNlcnZpY2U7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VydmljZV8uZ2V0T3B0aW9ucygpLnVzZU1lZGlhVHlwZUV4dGVuc2lvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy51cmxfID0gY29tbW9uXzEuVGV4dFV0aWxzLmZvcm1hdChcIiVzL2luZGV4Lmpzb25cIiwgdGhpcy5tb2RlbF8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51cmxfID0gY29tbW9uXzEuVGV4dFV0aWxzLmZvcm1hdChcIiVzL1wiLCB0aGlzLm1vZGVsXyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vaW5pdCBwYXJhbXNcclxuICAgICAgICB0aGlzLnBhcmFtc18gPSB7fTtcclxuICAgICAgICAvL2luaXQgcHJpdmF0ZXNcclxuICAgICAgICB0aGlzLnByaXZhdGVzXyA9IG5ldyBDbGllbnRRdWVyeUV4cHJlc3Npb24oKTtcclxuICAgIH1cclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucGFyc2UgPSBmdW5jdGlvbiAodSwgc2VydmljZSkge1xyXG4gICAgICAgIHZhciB1cmkgPSBwYXJzZSh1LCB0cnVlKTtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IENsaWVudERhdGFRdWVyeWFibGUoXCJNb2RlbFwiLCBzZXJ2aWNlIHx8IG5ldyBQYXJzZXJEYXRhU2VydmljZSh1cmkucHJvdG9jb2wgPyB1cmkub3JpZ2luIDogXCIvXCIpKTtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdXJpLnF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIGlmICgvXlxcJC8udGVzdChrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoL1srLV0/XFxkKy8udGVzdCh1cmkucXVlcnlba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc2V0UGFyYW0oa2V5LCBwYXJzZUludCh1cmkucXVlcnlba2V5XSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldFBhcmFtKGtleSwgdXJpLnF1ZXJ5W2tleV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3VsdC5zZXRVcmwodXJpLnBhdGhuYW1lKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB1cmkgPSB0aGlzLmdldFNlcnZpY2UoKS5yZXNvbHZlKHRoaXMudXJsXyk7XHJcbiAgICAgICAgdmFyIHBhcmFtcyA9IHRoaXMuZ2V0UGFyYW1zKCk7XHJcbiAgICAgICAgdmFyIHNlYXJjaCA9IFwiXCI7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHBhcmFtcykge1xyXG4gICAgICAgICAgICBzZWFyY2ggPSBzZWFyY2guY29uY2F0KGtleSwgJz0nLCBwYXJhbXNba2V5XSwgXCImXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VhcmNoLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdXJpLmNvbmNhdChcIj9cIiwgc2VhcmNoLnJlcGxhY2UoLyYkLywgXCJcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJpO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLnRvRXhwYW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBtb2RlbCA9IHRoaXMuZ2V0TW9kZWwoKTtcclxuICAgICAgICB2YXIgcGFyYW1zID0gdGhpcy5nZXRQYXJhbXMoKTtcclxuICAgICAgICB2YXIgc2VhcmNoID0gXCJcIjtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGFyYW1zKSB7XHJcbiAgICAgICAgICAgIHNlYXJjaCA9IHNlYXJjaC5jb25jYXQoa2V5LCAnPScsIHBhcmFtc1trZXldLCBcIjtcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZWFyY2gubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2RlbC5jb25jYXQoXCIoXCIsIHNlYXJjaC5yZXBsYWNlKC87JC8sIFwiXCIpLCBcIilcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtb2RlbDtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS50YWtlTmV4dCA9IGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgICAgdmFyIHAgPSB0aGlzLmdldFBhcmFtcygpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRha2Uobikuc2tpcCgocC4kc2tpcCA/IHAuJHNraXAgOiAwKSArIG4pO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLnRha2VQcmV2aW91cyA9IGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgICAgdmFyIHAgPSB0aGlzLmdldFBhcmFtcygpO1xyXG4gICAgICAgIGlmIChwLiRza2lwID4gMCkge1xyXG4gICAgICAgICAgICBpZiAobiA8PSBwLiRza2lwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNraXAocC4kc2tpcCAtIG4pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFrZShuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm5zIHtDbGllbnREYXRhU2VydmljZUJhc2V9XHJcbiAgICAgKi9cclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLmdldFNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZV87XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7RGF0YVNlcnZpY2VRdWVyeVBhcmFtc31cclxuICAgICAqL1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuZ2V0UGFyYW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcmFtc187XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7Q2xpZW50RGF0YVF1ZXJ5YWJsZX1cclxuICAgICAqL1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuc2V0UGFyYW0gPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoL15cXCQvLnRlc3QobmFtZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbXNfW25hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtc19bXCIkXCIgKyBuYW1lXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYSBzdHJpbmcgd2hpY2ggcmVwcmVzZW50cyB0aGUgbmFtZSBvZiB0aGUgZGF0YSBtb2RlbCBhc3NvY2lhdGVkIHdpdGggdGhpcyBvYmplY3QuXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5nZXRNb2RlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbF87XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGEgc3RyaW5nIHdoaWNoIHJlcHJlc2VudHMgdGhlIHJlbGF0aXZlIFVSTCBhc3NvY2lhdGVkIHdpdGggdGhpcyBvYmplY3QuXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5nZXRVcmwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsXztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHJlbGF0aXZlIFVSTCBhc3NvY2lhdGVkIHdpdGggdGhpcyBvYmplY3QuXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBBIHN0cmluZyB3aGljaCByZXByZXNlbnRzIGEgcmVsYXRpdmUgVVJJLlxyXG4gICAgICogQHJldHVybnMgQ2xpZW50RGF0YVF1ZXJ5YWJsZVxyXG4gICAgICovXHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5zZXRVcmwgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBjb21tb25fMS5BcmdzLm5vdEVtcHR5KHZhbHVlLCBcIlVSTFwiKTtcclxuICAgICAgICBjb21tb25fMS5BcmdzLmNoZWNrKCFjb21tb25fMS5UZXh0VXRpbHMuaXNBYnNvbHV0ZVVSSSh2YWx1ZSksIFwiVVJMIG11c3QgYmUgYSByZWxhdGl2ZSBVUklcIik7XHJcbiAgICAgICAgdGhpcy51cmxfID0gdmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAobW9kZWwsIHNlcnZpY2UpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENsaWVudERhdGFRdWVyeWFibGUobW9kZWwsIHNlcnZpY2UpO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLmFwcGVuZF8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBjb21tb25fMS5BcmdzLm5vdE51bGwodGhpcy5wcml2YXRlc18ubGVmdCwgXCJMZWZ0IG9wZXJhbmRcIik7XHJcbiAgICAgICAgY29tbW9uXzEuQXJncy5ub3ROdWxsKHRoaXMucHJpdmF0ZXNfLm9wLCBcIkNvbXBhcmlzb24gb3BlcmF0b3JcIik7XHJcbiAgICAgICAgdmFyIGV4cHI7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wcml2YXRlc18ucmlnaHQpKSB7XHJcbiAgICAgICAgICAgIGNvbW1vbl8xLkFyZ3MuY2hlY2soKHRoaXMucHJpdmF0ZXNfLm9wID09PSBcImVxXCIpIHx8ICh0aGlzLnByaXZhdGVzXy5vcCA9PT0gXCJuZVwiKSwgXCJXcm9uZyBvcGVyYXRvci4gRXhwZWN0ZWQgZXF1YWwgb3Igbm90IGVxdWFsXCIpO1xyXG4gICAgICAgICAgICBjb21tb25fMS5BcmdzLmNoZWNrKHRoaXMucHJpdmF0ZXNfLnJpZ2h0Lmxlbmd0aCA+IDAsIFwiQXJyYXkgbWF5IG5vdCBiZSBlbXB0eVwiKTtcclxuICAgICAgICAgICAgdmFyIGFyciA9IHRoaXMucHJpdmF0ZXNfLnJpZ2h0Lm1hcChmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByaXZhdGVzXy5sZWZ0ICsgXCIgXCIgKyBfdGhpcy5wcml2YXRlc18ub3AgKyBcIiBcIiArIF90aGlzLmVzY2FwZV8oeCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcml2YXRlc18ub3AgPT09IFwiZXFcIikge1xyXG4gICAgICAgICAgICAgICAgZXhwciA9IFwiKFwiICsgYXJyLmpvaW4oXCIgb3IgXCIpICsgXCIpXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBleHByID0gXCIoXCIgKyBhcnIuam9pbihcIiBvciBcIikgKyBcIilcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXhwciA9IHRoaXMucHJpdmF0ZXNfLmxlZnQgKyBcIiBcIiArIHRoaXMucHJpdmF0ZXNfLm9wICsgXCIgXCIgKyB0aGlzLmVzY2FwZV8odGhpcy5wcml2YXRlc18ucmlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnByaXZhdGVzXy5sb3AgPSB0aGlzLnByaXZhdGVzXy5sb3AgfHwgXCJhbmRcIjtcclxuICAgICAgICBpZiAoY29tbW9uXzEuVGV4dFV0aWxzLmlzTm90RW1wdHlTdHJpbmcodGhpcy5wYXJhbXNfLiRmaWx0ZXIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1zXy4kZmlsdGVyID0gdGhpcy5wYXJhbXNfLiRmaWx0ZXIgKyBcIiBcIiArIHRoaXMucHJpdmF0ZXNfLmxvcCArIFwiIFwiICsgZXhwcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1zXy4kZmlsdGVyID0gZXhwcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jbGVhciBvYmplY3RcclxuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnByaXZhdGVzXy5vcCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wcml2YXRlc18ucmlnaHQgPSBudWxsO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLmVzY2FwZV8gPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoKHZhbCA9PSBudWxsKSB8fCAodmFsID09IHVuZGVmaW5lZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodmFsKSA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbCArIFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBEYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBkdCA9IHZhbDtcclxuICAgICAgICAgICAgdmFyIHllYXIgPSBkdC5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICB2YXIgbW9udGggPSBjb21tb25fMS5UZXh0VXRpbHMuemVyb1BhZChkdC5nZXRNb250aCgpICsgMSwgMik7XHJcbiAgICAgICAgICAgIHZhciBkYXkgPSBjb21tb25fMS5UZXh0VXRpbHMuemVyb1BhZChkdC5nZXREYXRlKCksIDIpO1xyXG4gICAgICAgICAgICB2YXIgaG91ciA9IGNvbW1vbl8xLlRleHRVdGlscy56ZXJvUGFkKGR0LmdldEhvdXJzKCksIDIpO1xyXG4gICAgICAgICAgICB2YXIgbWludXRlID0gY29tbW9uXzEuVGV4dFV0aWxzLnplcm9QYWQoZHQuZ2V0TWludXRlcygpLCAyKTtcclxuICAgICAgICAgICAgdmFyIHNlY29uZCA9IGNvbW1vbl8xLlRleHRVdGlscy56ZXJvUGFkKGR0LmdldFNlY29uZHMoKSwgMik7XHJcbiAgICAgICAgICAgIHZhciBtaWxsaXNlY29uZCA9IGNvbW1vbl8xLlRleHRVdGlscy56ZXJvUGFkKGR0LmdldE1pbGxpc2Vjb25kcygpLCAzKTtcclxuICAgICAgICAgICAgLy9mb3JtYXQgdGltZXpvbmVcclxuICAgICAgICAgICAgdmFyIG9mZnNldCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lem9uZU9mZnNldCgpLCB0aW1lem9uZSA9IChvZmZzZXQgPj0gMCA/ICcrJyA6ICcnKSArIGNvbW1vbl8xLlRleHRVdGlscy56ZXJvUGFkKE1hdGguZmxvb3Iob2Zmc2V0IC8gNjApLCAyKSArICc6JyArIGNvbW1vbl8xLlRleHRVdGlscy56ZXJvUGFkKG9mZnNldCAlIDYwLCAyKTtcclxuICAgICAgICAgICAgcmV0dXJuIFwiJ1wiICsgeWVhciArICctJyArIG1vbnRoICsgJy0nICsgZGF5ICsgJyAnICsgaG91ciArICc6JyArIG1pbnV0ZSArICc6JyArIHNlY29uZCArICcuJyArIG1pbGxpc2Vjb25kICsgdGltZXpvbmUgKyBcIidcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZXNfMSA9IFtdO1xyXG4gICAgICAgICAgICB2YWwuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzXzEucHVzaChfdGhpcy5lc2NhcGVfKHgpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXNfMS5qb2luKCcsJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHZhciByZXMgPSB2YWwucmVwbGFjZSgvW1xcMFxcblxcclxcYlxcdFxcXFwnXCJcXHgxYV0vZywgZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAocykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJcXDBcIjogcmV0dXJuIFwiXFxcXDBcIjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiXFxuXCI6IHJldHVybiBcIlxcXFxuXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlxcclwiOiByZXR1cm4gXCJcXFxcclwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJcXGJcIjogcmV0dXJuIFwiXFxcXGJcIjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiXFx0XCI6IHJldHVybiBcIlxcXFx0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlxceDFhXCI6IHJldHVybiBcIlxcXFxaXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIFwiXFxcXFwiICsgcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBcIidcIiArIHJlcyArIFwiJ1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL290aGVyd2lzZSBnZXQgdmFsdWVPZlxyXG4gICAgICAgIGlmICh2YWwuaGFzT3duUHJvcGVydHkoXCIkbmFtZVwiKSlcclxuICAgICAgICAgICAgcmV0dXJuIHZhbFtcIiRuYW1lXCJdO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXNjYXBlXyh2YWwudmFsdWVPZigpKTtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS53aGVyZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgY29tbW9uXzEuQXJncy5ub3RFbXB0eShuYW1lLCBcIkxlZnQgb3BlcmFuZFwiKTtcclxuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gbmFtZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5hbmQgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIGNvbW1vbl8xLkFyZ3Mubm90RW1wdHkobmFtZSwgXCJMZWZ0IG9wZXJhbmRcIik7XHJcbiAgICAgICAgdGhpcy5wcml2YXRlc18ubGVmdCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5wcml2YXRlc18ubG9wID0gXCJhbmRcIjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5hbmRBbHNvID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICBjb21tb25fMS5BcmdzLm5vdEVtcHR5KG5hbWUsIFwiTGVmdCBvcGVyYW5kXCIpO1xyXG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxlZnQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxvcCA9IFwiYW5kXCI7XHJcbiAgICAgICAgaWYgKCFjb21tb25fMS5UZXh0VXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5wYXJhbXNfLiRmaWx0ZXIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1zXy4kZmlsdGVyID0gXCIoXCIgKyB0aGlzLnBhcmFtc18uJGZpbHRlciArIFwiKVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5vciA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgY29tbW9uXzEuQXJncy5ub3RFbXB0eShuYW1lLCBcIkxlZnQgb3BlcmFuZFwiKTtcclxuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gbmFtZTtcclxuICAgICAgICB0aGlzLnByaXZhdGVzXy5sb3AgPSBcIm9yXCI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUub3JFbHNlID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICBjb21tb25fMS5BcmdzLm5vdEVtcHR5KG5hbWUsIFwiTGVmdCBvcGVyYW5kXCIpO1xyXG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxlZnQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxvcCA9IFwib3JcIjtcclxuICAgICAgICBpZiAoIWNvbW1vbl8xLlRleHRVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLnBhcmFtc18uJGZpbHRlcikpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbXNfLiRmaWx0ZXIgPSBcIihcIiArIHRoaXMucGFyYW1zXy4kZmlsdGVyICsgXCIpXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLmNvbXBhcmVfID0gZnVuY3Rpb24gKG9wLCB2YWx1ZSkge1xyXG4gICAgICAgIGNvbW1vbl8xLkFyZ3Mubm90TnVsbCh0aGlzLnByaXZhdGVzXy5sZWZ0LCBcIlRoZSBsZWZ0IG9wZXJhbmRcIik7XHJcbiAgICAgICAgdGhpcy5wcml2YXRlc18ub3AgPSBvcDtcclxuICAgICAgICB0aGlzLnByaXZhdGVzXy5yaWdodCA9IHZhbHVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFwcGVuZF8oKTtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5lcXVhbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVfKFwiZXFcIiwgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLm5vdEVxdWFsID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZV8oXCJuZVwiLCB2YWx1ZSk7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuZ3JlYXRlclRoYW4gPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlXyhcImd0XCIsIHZhbHVlKTtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5ncmVhdGVyT3JFcXVhbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVfKFwiZ2VcIiwgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLmxvd2VyVGhhbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVfKFwibHRcIiwgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLmxvd2VyT3JFcXVhbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVfKFwibGVcIiwgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZTFcclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUyXHJcbiAgICAgKiBAcmV0dXJucyB7Q2xpZW50RGF0YVF1ZXJ5YWJsZX1cclxuICAgICAqL1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuYmV0d2VlbiA9IGZ1bmN0aW9uICh2YWx1ZTEsIHZhbHVlMikge1xyXG4gICAgICAgIGNvbW1vbl8xLkFyZ3Mubm90TnVsbCh0aGlzLnByaXZhdGVzXy5sZWZ0LCBcIlRoZSBsZWZ0IG9wZXJhbmRcIik7XHJcbiAgICAgICAgLy9nZW5lcmF0ZSBuZXcgZmlsdGVyXHJcbiAgICAgICAgdmFyIHMgPSBDbGllbnREYXRhUXVlcnlhYmxlLmNyZWF0ZSh0aGlzLmdldE1vZGVsKCkpXHJcbiAgICAgICAgICAgIC53aGVyZSh0aGlzLnByaXZhdGVzXy5sZWZ0KS5ncmVhdGVyT3JFcXVhbCh2YWx1ZTEpXHJcbiAgICAgICAgICAgIC5hbmQodGhpcy5wcml2YXRlc18ubGVmdCkubG93ZXJPckVxdWFsKHZhbHVlMikudG9GaWx0ZXIoKTtcclxuICAgICAgICB0aGlzLnByaXZhdGVzXy5sb3AgPSB0aGlzLnByaXZhdGVzXy5sb3AgfHwgXCJhbmRcIjtcclxuICAgICAgICBpZiAodGhpcy5wYXJhbXNfLiRmaWx0ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbXNfLiRmaWx0ZXIgPSBcIihcIiArIHRoaXMucGFyYW1zXy4kZmlsdGVyICsgXCIpIFwiICsgdGhpcy5wcml2YXRlc18ubG9wICsgXCIgKFwiICsgcyArIFwiKVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbXNfLiRmaWx0ZXIgPSBcIihcIiArIHMgKyBcIilcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jbGVhciBvYmplY3RcclxuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnByaXZhdGVzXy5vcCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wcml2YXRlc18ucmlnaHQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxvcCA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUudG9GaWx0ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1zXy4kZmlsdGVyO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgY29tbW9uXzEuQXJncy5ub3ROdWxsKHRoaXMucHJpdmF0ZXNfLmxlZnQsIFwiVGhlIGxlZnQgb3BlcmFuZFwiKTtcclxuICAgICAgICB0aGlzLnByaXZhdGVzXy5vcCA9ICdnZSc7XHJcbiAgICAgICAgdGhpcy5wcml2YXRlc18ubGVmdCA9IGNvbW1vbl8xLlRleHRVdGlscy5mb3JtYXQoJ2luZGV4b2YoJXMsJXMpJywgdGhpcy5wcml2YXRlc18ubGVmdCwgdGhpcy5lc2NhcGVfKHZhbHVlKSk7XHJcbiAgICAgICAgdGhpcy5wcml2YXRlc18ucmlnaHQgPSAwO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFwcGVuZF8oKTtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5hZ2dyZWdhdGVfID0gZnVuY3Rpb24gKGZuKSB7XHJcbiAgICAgICAgY29tbW9uXzEuQXJncy5ub3ROdWxsKHRoaXMucHJpdmF0ZXNfLmxlZnQsIFwiVGhlIGxlZnQgb3BlcmFuZFwiKTtcclxuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gY29tbW9uXzEuVGV4dFV0aWxzLmZvcm1hdCgnJXMoJXMpJywgZm4sIHRoaXMucHJpdmF0ZXNfLmxlZnQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLmdldERhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcImRhdGVcIik7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuZ2V0RGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJkYXlcIik7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuZ2V0TW9udGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcIm1vbnRoXCIpO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLmdldFllYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcInllYXJcIik7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuZ2V0RnVsbFllYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcInllYXJcIik7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuZ2V0SG91cnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcImhvdXJcIik7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuZ2V0TWludXRlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVfKFwibWludXRlXCIpO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLmdldFNlY29uZHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcInNlY29uZFwiKTtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcImxlbmd0aFwiKTtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS50cmltID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJ0cmltXCIpO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLnRvTG9jYWxlTG93ZXJDYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJ0b2xvd2VyXCIpO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLnRvTG93ZXJDYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJ0b2xvd2VyXCIpO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLnRvTG9jYWxlVXBwZXJDYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJ0b3VwcGVyXCIpO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLnRvVXBwZXJDYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJ0b3VwcGVyXCIpO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLnJvdW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJyb3VuZFwiKTtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5mbG9vciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVfKFwiZmxvb3JcIik7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuY2VpbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVfKFwiY2VpbGluZ1wiKTtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICBjb21tb25fMS5BcmdzLm5vdE51bGwodGhpcy5wcml2YXRlc18ubGVmdCwgXCJUaGUgbGVmdCBvcGVyYW5kXCIpO1xyXG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxlZnQgPSBjb21tb25fMS5UZXh0VXRpbHMuZm9ybWF0KCdpbmRleG9mKCVzLCVzKScsIHRoaXMucHJpdmF0ZXNfLmxlZnQsIHRoaXMuZXNjYXBlXyhzKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuc3Vic3RyID0gZnVuY3Rpb24gKHBvcywgbGVuZ3RoKSB7XHJcbiAgICAgICAgY29tbW9uXzEuQXJncy5ub3ROdWxsKHRoaXMucHJpdmF0ZXNfLmxlZnQsIFwiVGhlIGxlZnQgb3BlcmFuZFwiKTtcclxuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gY29tbW9uXzEuVGV4dFV0aWxzLmZvcm1hdCgnc3Vic3RyaW5nKCVzLCVzLCVzKScsIHRoaXMucHJpdmF0ZXNfLmxlZnQsIHBvcywgbGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5zdGFydHNXaXRoID0gZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICBjb21tb25fMS5BcmdzLm5vdE51bGwodGhpcy5wcml2YXRlc18ubGVmdCwgXCJUaGUgbGVmdCBvcGVyYW5kXCIpO1xyXG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxlZnQgPSBjb21tb25fMS5UZXh0VXRpbHMuZm9ybWF0KCdzdGFydHN3aXRoKCVzLCVzKScsIHRoaXMucHJpdmF0ZXNfLmxlZnQsIHRoaXMuZXNjYXBlXyhzKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuZW5kc1dpdGggPSBmdW5jdGlvbiAocykge1xyXG4gICAgICAgIGNvbW1vbl8xLkFyZ3Mubm90TnVsbCh0aGlzLnByaXZhdGVzXy5sZWZ0LCBcIlRoZSBsZWZ0IG9wZXJhbmRcIik7XHJcbiAgICAgICAgdGhpcy5wcml2YXRlc18ubGVmdCA9IGNvbW1vbl8xLlRleHRVdGlscy5mb3JtYXQoJ2VuZHN3aXRoKCVzLCVzKScsIHRoaXMucHJpdmF0ZXNfLmxlZnQsIHRoaXMuZXNjYXBlXyhzKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhdHRyID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXR0cltfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb21tb25fMS5BcmdzLm5vdE51bGwoYXR0ciwgXCJBdHRyaWJ1dGVzXCIpO1xyXG4gICAgICAgIGNvbW1vbl8xLkFyZ3MuY2hlY2soYXR0ci5sZW5ndGggPiAwLCBcIkF0dHJpYnV0ZXMgbWF5IG5vdCBiZSBlbXB0eVwiKTtcclxuICAgICAgICB2YXIgYXJyID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbW1vbl8xLkFyZ3MuY2hlY2sodHlwZW9mIGF0dHJbaV0gPT09IFwic3RyaW5nXCIsIFwiSW52YWxpZCBhdHRyaWJ1dGUuIEV4cGVjdGVkIHN0cmluZy5cIik7XHJcbiAgICAgICAgICAgIGFyci5wdXNoKGF0dHJbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhcmFtc18uJHNlbGVjdCA9IGFyci5qb2luKFwiLFwiKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5ncm91cEJ5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhdHRyID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXR0cltfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb21tb25fMS5BcmdzLm5vdE51bGwoYXR0ciwgXCJBdHRyaWJ1dGVzXCIpO1xyXG4gICAgICAgIGNvbW1vbl8xLkFyZ3MuY2hlY2soYXR0ci5sZW5ndGggPiAwLCBcIkF0dHJpYnV0ZXMgbWF5IG5vdCBiZSBlbXB0eVwiKTtcclxuICAgICAgICB2YXIgYXJyID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbW1vbl8xLkFyZ3MuY2hlY2sodHlwZW9mIGF0dHJbaV0gPT09IFwic3RyaW5nXCIsIFwiSW52YWxpZCBhdHRyaWJ1dGUuIEV4cGVjdGVkIHN0cmluZy5cIik7XHJcbiAgICAgICAgICAgIGFyci5wdXNoKGF0dHJbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhcmFtc18uJGdyb3VwYnkgPSBhcnIuam9pbihcIixcIik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuZXhwYW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhdHRyID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXR0cltfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb21tb25fMS5BcmdzLm5vdE51bGwoYXR0ciwgXCJBdHRyaWJ1dGVzXCIpO1xyXG4gICAgICAgIGNvbW1vbl8xLkFyZ3MuY2hlY2soYXR0ci5sZW5ndGggPiAwLCBcIkF0dHJpYnV0ZXMgbWF5IG5vdCBiZSBlbXB0eVwiKTtcclxuICAgICAgICB2YXIgYXJyID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbW1vbl8xLkFyZ3MuY2hlY2sodHlwZW9mIGF0dHJbaV0gPT09IFwic3RyaW5nXCIsIFwiSW52YWxpZCBhdHRyaWJ1dGUuIEV4cGVjdGVkIHN0cmluZy5cIik7XHJcbiAgICAgICAgICAgIGFyci5wdXNoKGF0dHJbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhcmFtc18uJGV4cGFuZCA9IGFyci5qb2luKFwiLFwiKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5vcmRlckJ5ID0gZnVuY3Rpb24gKGF0dHIpIHtcclxuICAgICAgICBjb21tb25fMS5BcmdzLm5vdEVtcHR5KGF0dHIsIFwiT3JkZXIgYnkgYXR0cmlidXRlXCIpO1xyXG4gICAgICAgIHRoaXMucGFyYW1zXy4kb3JkZXJieSA9IGF0dHIudG9TdHJpbmcoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS50aGVuQnkgPSBmdW5jdGlvbiAoYXR0cikge1xyXG4gICAgICAgIGNvbW1vbl8xLkFyZ3Mubm90RW1wdHkoYXR0ciwgXCJPcmRlciBieSBhdHRyaWJ1dGVcIik7XHJcbiAgICAgICAgdGhpcy5wYXJhbXNfLiRvcmRlcmJ5ICs9ICh0aGlzLnBhcmFtc18uJG9yZGVyYnkgPyAnLCcgKyBhdHRyLnRvU3RyaW5nKCkgOiBhdHRyLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLm9yZGVyQnlEZXNjZW5kaW5nID0gZnVuY3Rpb24gKGF0dHIpIHtcclxuICAgICAgICBjb21tb25fMS5BcmdzLm5vdEVtcHR5KGF0dHIsIFwiT3JkZXIgYnkgYXR0cmlidXRlXCIpO1xyXG4gICAgICAgIHRoaXMucGFyYW1zXy4kb3JkZXJieSA9IGF0dHIudG9TdHJpbmcoKSArIFwiIGRlc2NcIjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS50aGVuQnlEZXNjZW5kaW5nID0gZnVuY3Rpb24gKGF0dHIpIHtcclxuICAgICAgICBjb21tb25fMS5BcmdzLm5vdEVtcHR5KGF0dHIsIFwiT3JkZXIgYnkgYXR0cmlidXRlXCIpO1xyXG4gICAgICAgIHRoaXMucGFyYW1zXy4kb3JkZXJieSArPSAodGhpcy5wYXJhbXNfLiRvcmRlcmJ5ID8gJywnICsgYXR0ci50b1N0cmluZygpIDogYXR0ci50b1N0cmluZygpKSArIFwiIGRlc2NcIjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5za2lwID0gZnVuY3Rpb24gKG51bSkge1xyXG4gICAgICAgIHRoaXMucGFyYW1zXy4kc2tpcCA9IG51bTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS50YWtlID0gZnVuY3Rpb24gKG51bSkge1xyXG4gICAgICAgIHRoaXMucGFyYW1zXy4kdG9wID0gbnVtO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLnBhcmFtc18uJHRvcDtcclxuICAgICAgICBkZWxldGUgdGhpcy5wYXJhbXNfLiRza2lwO1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLnBhcmFtc18uJGNvdW50O1xyXG4gICAgICAgIHRoaXMucGFyYW1zXy4kZmlyc3QgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlcnZpY2UoKS5leGVjdXRlKHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICB1cmw6IHRoaXMuZ2V0VXJsKCksXHJcbiAgICAgICAgICAgIGRhdGE6IHRoaXMucGFyYW1zXyxcclxuICAgICAgICAgICAgaGVhZGVyczogW11cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5saXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLnBhcmFtc18uJGZpcnN0O1xyXG4gICAgICAgIHRoaXMucGFyYW1zXy4kY291bnQgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlcnZpY2UoKS5leGVjdXRlKHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICB1cmw6IHRoaXMuZ2V0VXJsKCksXHJcbiAgICAgICAgICAgIGRhdGE6IHRoaXMucGFyYW1zXyxcclxuICAgICAgICAgICAgaGVhZGVyczoge31cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5pdGVtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0KCk7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuZ2V0SXRlbSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maXJzdCgpO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLml0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLnBhcmFtc18uJGZpcnN0O1xyXG4gICAgICAgIHRoaXMucGFyYW1zXy4kY291bnQgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZXJ2aWNlKCkuZXhlY3V0ZSh7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgdXJsOiB0aGlzLmdldFVybCgpLFxyXG4gICAgICAgICAgICBkYXRhOiB0aGlzLnBhcmFtc18sXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YVF1ZXJ5YWJsZS5wcm90b3R5cGUuZ2V0SXRlbXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMoKTtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5nZXRMaXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxpc3QoKTtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhUXVlcnlhYmxlLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAocykge1xyXG4gICAgICAgIGNvbW1vbl8xLkFyZ3Mubm90RW1wdHkoXCJzXCIsIFwiRmlsdGVyIGV4cHJlc3Npb25cIik7XHJcbiAgICAgICAgdGhpcy5wYXJhbXNfLiRmaWx0ZXIgPSBzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFRdWVyeWFibGUucHJvdG90eXBlLmxldmVscyA9IGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgICAgY29tbW9uXzEuQXJncy5Qb3NpdGl2ZShuLCAnTGV2ZWxzJyk7XHJcbiAgICAgICAgdGhpcy5wYXJhbXNfLiRsZXZlbHMgPSBuO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDbGllbnREYXRhUXVlcnlhYmxlO1xyXG59KCkpO1xyXG5leHBvcnRzLkNsaWVudERhdGFRdWVyeWFibGUgPSBDbGllbnREYXRhUXVlcnlhYmxlO1xyXG52YXIgQ2xpZW50RGF0YU1vZGVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ2xpZW50RGF0YU1vZGVsKG5hbWUsIHNlcnZpY2UpIHtcclxuICAgICAgICB0aGlzLm5hbWVfID0gbmFtZTtcclxuICAgICAgICB0aGlzLnNlcnZpY2VfID0gc2VydmljZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMge0NsaWVudERhdGFTZXJ2aWNlQmFzZX1cclxuICAgICAqL1xyXG4gICAgQ2xpZW50RGF0YU1vZGVsLnByb3RvdHlwZS5nZXRTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VfO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFNb2RlbC5wcm90b3R5cGUuZ2V0TmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYW1lXztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7RGF0YVNlcnZpY2VRdWVyeVBhcmFtc30gcGFyYW1zXHJcbiAgICAgKiBAcmV0dXJucyB7Q2xpZW50RGF0YVF1ZXJ5YWJsZX1cclxuICAgICAqL1xyXG4gICAgQ2xpZW50RGF0YU1vZGVsLnByb3RvdHlwZS5hc1F1ZXJ5YWJsZSA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuICAgICAgICB2YXIgcSA9IENsaWVudERhdGFRdWVyeWFibGUuY3JlYXRlKHRoaXMuZ2V0TmFtZSgpLCB0aGlzLnNlcnZpY2VfKTtcclxuICAgICAgICBpZiAocGFyYW1zKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgIHEuc2V0UGFyYW0oa2V5LCBwYXJhbXNba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHE7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgICAqL1xyXG4gICAgQ2xpZW50RGF0YU1vZGVsLnByb3RvdHlwZS5nZXRJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hc1F1ZXJ5YWJsZSgpLmdldEl0ZW1zKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgICAqL1xyXG4gICAgQ2xpZW50RGF0YU1vZGVsLnByb3RvdHlwZS5nZXRMaXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFzUXVlcnlhYmxlKCkuZ2V0TGlzdCgpO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFNb2RlbC5wcm90b3R5cGUud2hlcmUgPSBmdW5jdGlvbiAoYXR0cikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFzUXVlcnlhYmxlKCkud2hlcmUoYXR0cik7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YU1vZGVsLnByb3RvdHlwZS5zZWxlY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGF0dHIgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhdHRyW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBxID0gdGhpcy5hc1F1ZXJ5YWJsZSgpO1xyXG4gICAgICAgIHJldHVybiBxLnNlbGVjdC5hcHBseShxLCBhdHRyKTtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhTW9kZWwucHJvdG90eXBlLnNraXAgPSBmdW5jdGlvbiAobnVtKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXNRdWVyeWFibGUoKS5za2lwKG51bSk7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YU1vZGVsLnByb3RvdHlwZS50YWtlID0gZnVuY3Rpb24gKG51bSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFzUXVlcnlhYmxlKCkudGFrZShudW0pO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFNb2RlbC5wcm90b3R5cGUuZ2V0VXJsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlcnZpY2VfLmdldE9wdGlvbnMoKS51c2VNZWRpYVR5cGVFeHRlbnNpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5UZXh0VXRpbHMuZm9ybWF0KFwiJXMvaW5kZXguanNvblwiLCB0aGlzLmdldE5hbWUoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuVGV4dFV0aWxzLmZvcm1hdChcIiVzL1wiLCB0aGlzLmdldE5hbWUoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFNb2RlbC5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZXJ2aWNlKCkuZXhlY3V0ZSh7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogdGhpcy5nZXRVcmwoKSxcclxuICAgICAgICAgICAgZGF0YTogb2JqLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFNb2RlbC5wcm90b3R5cGUuc2NoZW1hID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlcnZpY2UoKS5leGVjdXRlKHsgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICB1cmw6IGNvbW1vbl8xLlRleHRVdGlscy5mb3JtYXQoXCIlcy9zY2hlbWEuanNvblwiLCB0aGlzLmdldE5hbWUoKSksXHJcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YU1vZGVsLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VydmljZSgpLmV4ZWN1dGUoeyBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgICAgIHVybDogdGhpcy5nZXRVcmwoKSxcclxuICAgICAgICAgICAgZGF0YTogb2JqLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFNb2RlbC5wcm90b3R5cGUubGV2ZWxzID0gZnVuY3Rpb24gKG4pIHtcclxuICAgICAgICBjb21tb25fMS5BcmdzLlBvc2l0aXZlKG4sICdMZXZlbHMnKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5hc1F1ZXJ5YWJsZSgpLmxldmVscyhuKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2xpZW50RGF0YU1vZGVsO1xyXG59KCkpO1xyXG5leHBvcnRzLkNsaWVudERhdGFNb2RlbCA9IENsaWVudERhdGFNb2RlbDtcclxudmFyIENsaWVudERhdGFDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ2xpZW50RGF0YUNvbnRleHQoc2VydmljZSwgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuc2VydmljZV8gPSBzZXJ2aWNlO1xyXG4gICAgfVxyXG4gICAgQ2xpZW50RGF0YUNvbnRleHQucHJvdG90eXBlLnNldEJhc2ljQXV0aG9yaXphdGlvbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuICAgICAgICB0aGlzLmdldFNlcnZpY2UoKS5zZXRIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIFwiQmFzaWMgXCIgKyBjb21tb25fMS5UZXh0VXRpbHMudG9CYXNlNjQodXNlcm5hbWUgKyBcIjpcIiArIHBhc3N3b3JkKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ2xpZW50RGF0YUNvbnRleHQucHJvdG90eXBlLnNldEJlYXJlckF1dGhvcml6YXRpb24gPSBmdW5jdGlvbiAoYWNjZXNzX3Rva2VuKSB7XHJcbiAgICAgICAgdGhpcy5nZXRTZXJ2aWNlKCkuc2V0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJlYXJlciBcIiArIGFjY2Vzc190b2tlbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGEgc3RyaW5nIHdoaWNoIHJlcHJlc2VudHMgdGhlIGJhc2UgVVJMIG9mIHRoZSBNT1NUIFdlYiBBcHBsaWNhdGlvbiBTZXJ2ZXIuXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBDbGllbnREYXRhQ29udGV4dC5wcm90b3R5cGUuZ2V0QmFzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlXztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgYSBzdHJpbmcgd2hpY2ggcmVwcmVzZW50cyB0aGUgYmFzZSBVUkwgb2YgdGhlIE1PU1QgV2ViIEFwcGxpY2F0aW9uIFNlcnZlci5cclxuICAgICAqL1xyXG4gICAgQ2xpZW50RGF0YUNvbnRleHQucHJvdG90eXBlLnNldEJhc2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBjb21tb25fMS5BcmdzLm5vdEVtcHR5KHZhbHVlLCBcIkJhc2UgVVJMXCIpO1xyXG4gICAgICAgIHRoaXMuYmFzZV8gPSB2YWx1ZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGluc3RhbmNlIG9mIENsaWVudERhdGFTZXJ2aWNlIGNsYXNzIHdoaWNoIGlzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRhdGEgY29udGV4dC5cclxuICAgICAqIEByZXR1cm5zIHtDbGllbnREYXRhU2VydmljZUJhc2V9XHJcbiAgICAgKi9cclxuICAgIENsaWVudERhdGFDb250ZXh0LnByb3RvdHlwZS5nZXRTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VfO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhbiBpbnN0YW5jZSBvZiBDbGllbnREYXRhTW9kZWwgY2xhc3NcclxuICAgICAqIEBwYXJhbSBuYW1lIC0gQSBzdHJpbmcgd2hpY2ggcmVwcmVzZW50cyB0aGUgbmFtZSBvZiB0aGUgZGF0YSBtb2RlbC5cclxuICAgICAqIEByZXR1cm5zIHtDbGllbnREYXRhTW9kZWx9XHJcbiAgICAgKi9cclxuICAgIENsaWVudERhdGFDb250ZXh0LnByb3RvdHlwZS5tb2RlbCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgY29tbW9uXzEuQXJncy5ub3RFbXB0eShuYW1lLCBcIk1vZGVsIG5hbWVcIik7XHJcbiAgICAgICAgdmFyIG1vZGVsID0gbmV3IENsaWVudERhdGFNb2RlbChuYW1lLCB0aGlzLmdldFNlcnZpY2UoKSk7XHJcbiAgICAgICAgcmV0dXJuIG1vZGVsO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDbGllbnREYXRhQ29udGV4dDtcclxufSgpKTtcclxuZXhwb3J0cy5DbGllbnREYXRhQ29udGV4dCA9IENsaWVudERhdGFDb250ZXh0O1xyXG52YXIgQ2xpZW50RGF0YVNlcnZpY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDbGllbnREYXRhU2VydmljZShiYXNlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5oZWFkZXJzXyA9IHt9O1xyXG4gICAgICAgIHRoaXMub3B0aW9uc18gPSBvcHRpb25zIHx8IHtcclxuICAgICAgICAgICAgdXNlTWVkaWFUeXBlRXh0ZW5zaW9uczogdHJ1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHR5cGVvZiBiYXNlID09PSAndW5kZWZpbmVkJyB8fCBiYXNlID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5iYXNlXyA9IFwiL1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5iYXNlXyA9IGJhc2U7XHJcbiAgICAgICAgICAgIGlmICghL1xcLyQvLnRlc3QodGhpcy5iYXNlXykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFzZV8gKz0gXCIvXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBDbGllbnREYXRhU2VydmljZS5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zXztcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhU2VydmljZS5wcm90b3R5cGUuc2V0SGVhZGVyID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5oZWFkZXJzX1tuYW1lXSA9IHZhbHVlO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFTZXJ2aWNlLnByb3RvdHlwZS5nZXRIZWFkZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhlYWRlcnNfO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFTZXJ2aWNlLnByb3RvdHlwZS5nZXRCYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VfO1xyXG4gICAgfTtcclxuICAgIENsaWVudERhdGFTZXJ2aWNlLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gKHJlbGF0aXZlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiByZWxhdGl2ZSA9PT0gJ3N0cmluZycgJiYgcmVsYXRpdmUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBpZiAoL15cXC8vLnRlc3QocmVsYXRpdmUpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmFzZSgpICsgcmVsYXRpdmUuc3Vic3RyKDEpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRCYXNlKCkgKyByZWxhdGl2ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudC4gRXhwZWN0ZWQgYSBub3QgZW1wdHkgc3RyaW5nLlwiKTtcclxuICAgIH07XHJcbiAgICBDbGllbnREYXRhU2VydmljZS5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENsaWVudERhdGFTZXJ2aWNlO1xyXG59KCkpO1xyXG5leHBvcnRzLkNsaWVudERhdGFTZXJ2aWNlID0gQ2xpZW50RGF0YVNlcnZpY2U7XHJcbnZhciBQYXJzZXJEYXRhU2VydmljZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhQYXJzZXJEYXRhU2VydmljZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFBhcnNlckRhdGFTZXJ2aWNlKGJhc2UpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgYmFzZSkgfHwgdGhpcztcclxuICAgIH1cclxuICAgIFBhcnNlckRhdGFTZXJ2aWNlLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGFsbG93ZWQuXCIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQYXJzZXJEYXRhU2VydmljZTtcclxufShDbGllbnREYXRhU2VydmljZSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL21vZHVsZXMvQHRoZW1vc3QvY2xpZW50L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n')},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nvar required = __webpack_require__(8)\n  , qs = __webpack_require__(9)\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\S\\s]*)/i\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//;\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d+)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @api public\n */\nfunction lolcation(loc) {\n  loc = loc || global.location || {};\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new URL(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new URL(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @return {ProtocolExtract} Extracted information.\n * @api private\n */\nfunction extractProtocol(address) {\n  var match = protocolre.exec(address);\n\n  return {\n    protocol: match[1] ? match[1].toLowerCase() : '',\n    slashes: !!match[2],\n    rest: match[3]\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @api private\n */\nfunction resolve(relative, base) {\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} location Location defaults for relative paths.\n * @param {Boolean|Function} parser Parser for the query string.\n * @api public\n */\nfunction URL(address, location, parser) {\n  if (!(this instanceof URL)) {\n    return new URL(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '');\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (!extracted.slashes) instructions[2] = [/(.*)/, 'pathname'];\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0] || '';\n    url.password = instruction[1] || '';\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL}\n * @api public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    default:\n      url[part] = value;\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String}\n * @api public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result = protocol + (url.slashes ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nURL.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nURL.extractProtocol = extractProtocol;\nURL.location = lolcation;\nURL.qs = qs;\n\nmodule.exports = URL;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2NsaWVudC9ub2RlX21vZHVsZXMvdXJsLXBhcnNlL2luZGV4LmpzPzRhOWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjhDQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxjQUFjOztBQUVkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlEQUF5RDtBQUN6RCxHQUFHO0FBQ0gsc0NBQXNDO0FBQ3RDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsUUFBUTtBQUN0QixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLGNBQWM7QUFDekIsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLHlCQUF5QjtBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsTUFBTTtBQUNqQixXQUFXLGlCQUFpQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixrQkFBa0I7QUFDbkM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciByZXF1aXJlZCA9IHJlcXVpcmUoJ3JlcXVpcmVzLXBvcnQnKVxuICAsIHFzID0gcmVxdWlyZSgncXVlcnlzdHJpbmdpZnknKVxuICAsIHByb3RvY29scmUgPSAvXihbYS16XVthLXowLTkuKy1dKjopPyhcXC9cXC8pPyhbXFxTXFxzXSopL2lcbiAgLCBzbGFzaGVzID0gL15bQS1aYS16XVtBLVphLXowLTkrLS5dKjpcXC9cXC8vO1xuXG4vKipcbiAqIFRoZXNlIGFyZSB0aGUgcGFyc2UgcnVsZXMgZm9yIHRoZSBVUkwgcGFyc2VyLCBpdCBpbmZvcm1zIHRoZSBwYXJzZXJcbiAqIGFib3V0OlxuICpcbiAqIDAuIFRoZSBjaGFyIGl0IE5lZWRzIHRvIHBhcnNlLCBpZiBpdCdzIGEgc3RyaW5nIGl0IHNob3VsZCBiZSBkb25lIHVzaW5nXG4gKiAgICBpbmRleE9mLCBSZWdFeHAgdXNpbmcgZXhlYyBhbmQgTmFOIG1lYW5zIHNldCBhcyBjdXJyZW50IHZhbHVlLlxuICogMS4gVGhlIHByb3BlcnR5IHdlIHNob3VsZCBzZXQgd2hlbiBwYXJzaW5nIHRoaXMgdmFsdWUuXG4gKiAyLiBJbmRpY2F0aW9uIGlmIGl0J3MgYmFja3dhcmRzIG9yIGZvcndhcmQgcGFyc2luZywgd2hlbiBzZXQgYXMgbnVtYmVyIGl0J3NcbiAqICAgIHRoZSB2YWx1ZSBvZiBleHRyYSBjaGFycyB0aGF0IHNob3VsZCBiZSBzcGxpdCBvZmYuXG4gKiAzLiBJbmhlcml0IGZyb20gbG9jYXRpb24gaWYgbm9uIGV4aXN0aW5nIGluIHRoZSBwYXJzZXIuXG4gKiA0LiBgdG9Mb3dlckNhc2VgIHRoZSByZXN1bHRpbmcgdmFsdWUuXG4gKi9cbnZhciBydWxlcyA9IFtcbiAgWycjJywgJ2hhc2gnXSwgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGZyb20gdGhlIGJhY2suXG4gIFsnPycsICdxdWVyeSddLCAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBmcm9tIHRoZSBiYWNrLlxuICBbJy8nLCAncGF0aG5hbWUnXSwgICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgZnJvbSB0aGUgYmFjay5cbiAgWydAJywgJ2F1dGgnLCAxXSwgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGZyb20gdGhlIGZyb250LlxuICBbTmFOLCAnaG9zdCcsIHVuZGVmaW5lZCwgMSwgMV0sICAgICAgIC8vIFNldCBsZWZ0IG92ZXIgdmFsdWUuXG4gIFsvOihcXGQrKSQvLCAncG9ydCcsIHVuZGVmaW5lZCwgMV0sICAgIC8vIFJlZ0V4cCB0aGUgYmFjay5cbiAgW05hTiwgJ2hvc3RuYW1lJywgdW5kZWZpbmVkLCAxLCAxXSAgICAvLyBTZXQgbGVmdCBvdmVyLlxuXTtcblxuLyoqXG4gKiBUaGVzZSBwcm9wZXJ0aWVzIHNob3VsZCBub3QgYmUgY29waWVkIG9yIGluaGVyaXRlZCBmcm9tLiBUaGlzIGlzIG9ubHkgbmVlZGVkXG4gKiBmb3IgYWxsIG5vbiBibG9iIFVSTCdzIGFzIGEgYmxvYiBVUkwgZG9lcyBub3QgaW5jbHVkZSBhIGhhc2gsIG9ubHkgdGhlXG4gKiBvcmlnaW4uXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBpZ25vcmUgPSB7IGhhc2g6IDEsIHF1ZXJ5OiAxIH07XG5cbi8qKlxuICogVGhlIGxvY2F0aW9uIG9iamVjdCBkaWZmZXJzIHdoZW4geW91ciBjb2RlIGlzIGxvYWRlZCB0aHJvdWdoIGEgbm9ybWFsIHBhZ2UsXG4gKiBXb3JrZXIgb3IgdGhyb3VnaCBhIHdvcmtlciB1c2luZyBhIGJsb2IuIEFuZCB3aXRoIHRoZSBibG9iYmxlIGJlZ2lucyB0aGVcbiAqIHRyb3VibGUgYXMgdGhlIGxvY2F0aW9uIG9iamVjdCB3aWxsIGNvbnRhaW4gdGhlIFVSTCBvZiB0aGUgYmxvYiwgbm90IHRoZVxuICogbG9jYXRpb24gb2YgdGhlIHBhZ2Ugd2hlcmUgb3VyIGNvZGUgaXMgbG9hZGVkIGluLiBUaGUgYWN0dWFsIG9yaWdpbiBpc1xuICogZW5jb2RlZCBpbiB0aGUgYHBhdGhuYW1lYCBzbyB3ZSBjYW4gdGhhbmtmdWxseSBnZW5lcmF0ZSBhIGdvb2QgXCJkZWZhdWx0XCJcbiAqIGxvY2F0aW9uIGZyb20gaXQgc28gd2UgY2FuIGdlbmVyYXRlIHByb3BlciByZWxhdGl2ZSBVUkwncyBhZ2Fpbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGxvYyBPcHRpb25hbCBkZWZhdWx0IGxvY2F0aW9uIG9iamVjdC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IGxvbGNhdGlvbiBvYmplY3QuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiBsb2xjYXRpb24obG9jKSB7XG4gIGxvYyA9IGxvYyB8fCBnbG9iYWwubG9jYXRpb24gfHwge307XG5cbiAgdmFyIGZpbmFsZGVzdGluYXRpb24gPSB7fVxuICAgICwgdHlwZSA9IHR5cGVvZiBsb2NcbiAgICAsIGtleTtcblxuICBpZiAoJ2Jsb2I6JyA9PT0gbG9jLnByb3RvY29sKSB7XG4gICAgZmluYWxkZXN0aW5hdGlvbiA9IG5ldyBVUkwodW5lc2NhcGUobG9jLnBhdGhuYW1lKSwge30pO1xuICB9IGVsc2UgaWYgKCdzdHJpbmcnID09PSB0eXBlKSB7XG4gICAgZmluYWxkZXN0aW5hdGlvbiA9IG5ldyBVUkwobG9jLCB7fSk7XG4gICAgZm9yIChrZXkgaW4gaWdub3JlKSBkZWxldGUgZmluYWxkZXN0aW5hdGlvbltrZXldO1xuICB9IGVsc2UgaWYgKCdvYmplY3QnID09PSB0eXBlKSB7XG4gICAgZm9yIChrZXkgaW4gbG9jKSB7XG4gICAgICBpZiAoa2V5IGluIGlnbm9yZSkgY29udGludWU7XG4gICAgICBmaW5hbGRlc3RpbmF0aW9uW2tleV0gPSBsb2Nba2V5XTtcbiAgICB9XG5cbiAgICBpZiAoZmluYWxkZXN0aW5hdGlvbi5zbGFzaGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGZpbmFsZGVzdGluYXRpb24uc2xhc2hlcyA9IHNsYXNoZXMudGVzdChsb2MuaHJlZik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZpbmFsZGVzdGluYXRpb247XG59XG5cbi8qKlxuICogQHR5cGVkZWYgUHJvdG9jb2xFeHRyYWN0XG4gKiBAdHlwZSBPYmplY3RcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBwcm90b2NvbCBQcm90b2NvbCBtYXRjaGVkIGluIHRoZSBVUkwsIGluIGxvd2VyY2FzZS5cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gc2xhc2hlcyBgdHJ1ZWAgaWYgcHJvdG9jb2wgaXMgZm9sbG93ZWQgYnkgXCIvL1wiLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gcmVzdCBSZXN0IG9mIHRoZSBVUkwgdGhhdCBpcyBub3QgcGFydCBvZiB0aGUgcHJvdG9jb2wuXG4gKi9cblxuLyoqXG4gKiBFeHRyYWN0IHByb3RvY29sIGluZm9ybWF0aW9uIGZyb20gYSBVUkwgd2l0aC93aXRob3V0IGRvdWJsZSBzbGFzaCAoXCIvL1wiKS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYWRkcmVzcyBVUkwgd2Ugd2FudCB0byBleHRyYWN0IGZyb20uXG4gKiBAcmV0dXJuIHtQcm90b2NvbEV4dHJhY3R9IEV4dHJhY3RlZCBpbmZvcm1hdGlvbi5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBleHRyYWN0UHJvdG9jb2woYWRkcmVzcykge1xuICB2YXIgbWF0Y2ggPSBwcm90b2NvbHJlLmV4ZWMoYWRkcmVzcyk7XG5cbiAgcmV0dXJuIHtcbiAgICBwcm90b2NvbDogbWF0Y2hbMV0gPyBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpIDogJycsXG4gICAgc2xhc2hlczogISFtYXRjaFsyXSxcbiAgICByZXN0OiBtYXRjaFszXVxuICB9O1xufVxuXG4vKipcbiAqIFJlc29sdmUgYSByZWxhdGl2ZSBVUkwgcGF0aG5hbWUgYWdhaW5zdCBhIGJhc2UgVVJMIHBhdGhuYW1lLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSByZWxhdGl2ZSBQYXRobmFtZSBvZiB0aGUgcmVsYXRpdmUgVVJMLlxuICogQHBhcmFtIHtTdHJpbmd9IGJhc2UgUGF0aG5hbWUgb2YgdGhlIGJhc2UgVVJMLlxuICogQHJldHVybiB7U3RyaW5nfSBSZXNvbHZlZCBwYXRobmFtZS5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZXNvbHZlKHJlbGF0aXZlLCBiYXNlKSB7XG4gIHZhciBwYXRoID0gKGJhc2UgfHwgJy8nKS5zcGxpdCgnLycpLnNsaWNlKDAsIC0xKS5jb25jYXQocmVsYXRpdmUuc3BsaXQoJy8nKSlcbiAgICAsIGkgPSBwYXRoLmxlbmd0aFxuICAgICwgbGFzdCA9IHBhdGhbaSAtIDFdXG4gICAgLCB1bnNoaWZ0ID0gZmFsc2VcbiAgICAsIHVwID0gMDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgaWYgKHBhdGhbaV0gPT09ICcuJykge1xuICAgICAgcGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChwYXRoW2ldID09PSAnLi4nKSB7XG4gICAgICBwYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgaWYgKGkgPT09IDApIHVuc2hpZnQgPSB0cnVlO1xuICAgICAgcGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIGlmICh1bnNoaWZ0KSBwYXRoLnVuc2hpZnQoJycpO1xuICBpZiAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHBhdGgucHVzaCgnJyk7XG5cbiAgcmV0dXJuIHBhdGguam9pbignLycpO1xufVxuXG4vKipcbiAqIFRoZSBhY3R1YWwgVVJMIGluc3RhbmNlLiBJbnN0ZWFkIG9mIHJldHVybmluZyBhbiBvYmplY3Qgd2UndmUgb3B0ZWQtaW4gdG9cbiAqIGNyZWF0ZSBhbiBhY3R1YWwgY29uc3RydWN0b3IgYXMgaXQncyBtdWNoIG1vcmUgbWVtb3J5IGVmZmljaWVudCBhbmRcbiAqIGZhc3RlciBhbmQgaXQgcGxlYXNlcyBteSBPQ0QuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gYWRkcmVzcyBVUkwgd2Ugd2FudCB0byBwYXJzZS5cbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gbG9jYXRpb24gTG9jYXRpb24gZGVmYXVsdHMgZm9yIHJlbGF0aXZlIHBhdGhzLlxuICogQHBhcmFtIHtCb29sZWFufEZ1bmN0aW9ufSBwYXJzZXIgUGFyc2VyIGZvciB0aGUgcXVlcnkgc3RyaW5nLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gVVJMKGFkZHJlc3MsIGxvY2F0aW9uLCBwYXJzZXIpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFVSTCkpIHtcbiAgICByZXR1cm4gbmV3IFVSTChhZGRyZXNzLCBsb2NhdGlvbiwgcGFyc2VyKTtcbiAgfVxuXG4gIHZhciByZWxhdGl2ZSwgZXh0cmFjdGVkLCBwYXJzZSwgaW5zdHJ1Y3Rpb24sIGluZGV4LCBrZXlcbiAgICAsIGluc3RydWN0aW9ucyA9IHJ1bGVzLnNsaWNlKClcbiAgICAsIHR5cGUgPSB0eXBlb2YgbG9jYXRpb25cbiAgICAsIHVybCA9IHRoaXNcbiAgICAsIGkgPSAwO1xuXG4gIC8vXG4gIC8vIFRoZSBmb2xsb3dpbmcgaWYgc3RhdGVtZW50cyBhbGxvd3MgdGhpcyBtb2R1bGUgdHdvIGhhdmUgY29tcGF0aWJpbGl0eSB3aXRoXG4gIC8vIDIgZGlmZmVyZW50IEFQSTpcbiAgLy9cbiAgLy8gMS4gTm9kZS5qcydzIGB1cmwucGFyc2VgIGFwaSB3aGljaCBhY2NlcHRzIGEgVVJMLCBib29sZWFuIGFzIGFyZ3VtZW50c1xuICAvLyAgICB3aGVyZSB0aGUgYm9vbGVhbiBpbmRpY2F0ZXMgdGhhdCB0aGUgcXVlcnkgc3RyaW5nIHNob3VsZCBhbHNvIGJlIHBhcnNlZC5cbiAgLy9cbiAgLy8gMi4gVGhlIGBVUkxgIGludGVyZmFjZSBvZiB0aGUgYnJvd3NlciB3aGljaCBhY2NlcHRzIGEgVVJMLCBvYmplY3QgYXNcbiAgLy8gICAgYXJndW1lbnRzLiBUaGUgc3VwcGxpZWQgb2JqZWN0IHdpbGwgYmUgdXNlZCBhcyBkZWZhdWx0IHZhbHVlcyAvIGZhbGwtYmFja1xuICAvLyAgICBmb3IgcmVsYXRpdmUgcGF0aHMuXG4gIC8vXG4gIGlmICgnb2JqZWN0JyAhPT0gdHlwZSAmJiAnc3RyaW5nJyAhPT0gdHlwZSkge1xuICAgIHBhcnNlciA9IGxvY2F0aW9uO1xuICAgIGxvY2F0aW9uID0gbnVsbDtcbiAgfVxuXG4gIGlmIChwYXJzZXIgJiYgJ2Z1bmN0aW9uJyAhPT0gdHlwZW9mIHBhcnNlcikgcGFyc2VyID0gcXMucGFyc2U7XG5cbiAgbG9jYXRpb24gPSBsb2xjYXRpb24obG9jYXRpb24pO1xuXG4gIC8vXG4gIC8vIEV4dHJhY3QgcHJvdG9jb2wgaW5mb3JtYXRpb24gYmVmb3JlIHJ1bm5pbmcgdGhlIGluc3RydWN0aW9ucy5cbiAgLy9cbiAgZXh0cmFjdGVkID0gZXh0cmFjdFByb3RvY29sKGFkZHJlc3MgfHwgJycpO1xuICByZWxhdGl2ZSA9ICFleHRyYWN0ZWQucHJvdG9jb2wgJiYgIWV4dHJhY3RlZC5zbGFzaGVzO1xuICB1cmwuc2xhc2hlcyA9IGV4dHJhY3RlZC5zbGFzaGVzIHx8IHJlbGF0aXZlICYmIGxvY2F0aW9uLnNsYXNoZXM7XG4gIHVybC5wcm90b2NvbCA9IGV4dHJhY3RlZC5wcm90b2NvbCB8fCBsb2NhdGlvbi5wcm90b2NvbCB8fCAnJztcbiAgYWRkcmVzcyA9IGV4dHJhY3RlZC5yZXN0O1xuXG4gIC8vXG4gIC8vIFdoZW4gdGhlIGF1dGhvcml0eSBjb21wb25lbnQgaXMgYWJzZW50IHRoZSBVUkwgc3RhcnRzIHdpdGggYSBwYXRoXG4gIC8vIGNvbXBvbmVudC5cbiAgLy9cbiAgaWYgKCFleHRyYWN0ZWQuc2xhc2hlcykgaW5zdHJ1Y3Rpb25zWzJdID0gWy8oLiopLywgJ3BhdGhuYW1lJ107XG5cbiAgZm9yICg7IGkgPCBpbnN0cnVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICBpbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uc1tpXTtcbiAgICBwYXJzZSA9IGluc3RydWN0aW9uWzBdO1xuICAgIGtleSA9IGluc3RydWN0aW9uWzFdO1xuXG4gICAgaWYgKHBhcnNlICE9PSBwYXJzZSkge1xuICAgICAgdXJsW2tleV0gPSBhZGRyZXNzO1xuICAgIH0gZWxzZSBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiBwYXJzZSkge1xuICAgICAgaWYgKH4oaW5kZXggPSBhZGRyZXNzLmluZGV4T2YocGFyc2UpKSkge1xuICAgICAgICBpZiAoJ251bWJlcicgPT09IHR5cGVvZiBpbnN0cnVjdGlvblsyXSkge1xuICAgICAgICAgIHVybFtrZXldID0gYWRkcmVzcy5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgICAgYWRkcmVzcyA9IGFkZHJlc3Muc2xpY2UoaW5kZXggKyBpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXJsW2tleV0gPSBhZGRyZXNzLnNsaWNlKGluZGV4KTtcbiAgICAgICAgICBhZGRyZXNzID0gYWRkcmVzcy5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKChpbmRleCA9IHBhcnNlLmV4ZWMoYWRkcmVzcykpKSB7XG4gICAgICB1cmxba2V5XSA9IGluZGV4WzFdO1xuICAgICAgYWRkcmVzcyA9IGFkZHJlc3Muc2xpY2UoMCwgaW5kZXguaW5kZXgpO1xuICAgIH1cblxuICAgIHVybFtrZXldID0gdXJsW2tleV0gfHwgKFxuICAgICAgcmVsYXRpdmUgJiYgaW5zdHJ1Y3Rpb25bM10gPyBsb2NhdGlvbltrZXldIHx8ICcnIDogJydcbiAgICApO1xuXG4gICAgLy9cbiAgICAvLyBIb3N0bmFtZSwgaG9zdCBhbmQgcHJvdG9jb2wgc2hvdWxkIGJlIGxvd2VyY2FzZWQgc28gdGhleSBjYW4gYmUgdXNlZCB0b1xuICAgIC8vIGNyZWF0ZSBhIHByb3BlciBgb3JpZ2luYC5cbiAgICAvL1xuICAgIGlmIChpbnN0cnVjdGlvbls0XSkgdXJsW2tleV0gPSB1cmxba2V5XS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgLy9cbiAgLy8gQWxzbyBwYXJzZSB0aGUgc3VwcGxpZWQgcXVlcnkgc3RyaW5nIGluIHRvIGFuIG9iamVjdC4gSWYgd2UncmUgc3VwcGxpZWRcbiAgLy8gd2l0aCBhIGN1c3RvbSBwYXJzZXIgYXMgZnVuY3Rpb24gdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCBidWlsZC1pblxuICAvLyBwYXJzZXIuXG4gIC8vXG4gIGlmIChwYXJzZXIpIHVybC5xdWVyeSA9IHBhcnNlcih1cmwucXVlcnkpO1xuXG4gIC8vXG4gIC8vIElmIHRoZSBVUkwgaXMgcmVsYXRpdmUsIHJlc29sdmUgdGhlIHBhdGhuYW1lIGFnYWluc3QgdGhlIGJhc2UgVVJMLlxuICAvL1xuICBpZiAoXG4gICAgICByZWxhdGl2ZVxuICAgICYmIGxvY2F0aW9uLnNsYXNoZXNcbiAgICAmJiB1cmwucGF0aG5hbWUuY2hhckF0KDApICE9PSAnLydcbiAgICAmJiAodXJsLnBhdGhuYW1lICE9PSAnJyB8fCBsb2NhdGlvbi5wYXRobmFtZSAhPT0gJycpXG4gICkge1xuICAgIHVybC5wYXRobmFtZSA9IHJlc29sdmUodXJsLnBhdGhuYW1lLCBsb2NhdGlvbi5wYXRobmFtZSk7XG4gIH1cblxuICAvL1xuICAvLyBXZSBzaG91bGQgbm90IGFkZCBwb3J0IG51bWJlcnMgaWYgdGhleSBhcmUgYWxyZWFkeSB0aGUgZGVmYXVsdCBwb3J0IG51bWJlclxuICAvLyBmb3IgYSBnaXZlbiBwcm90b2NvbC4gQXMgdGhlIGhvc3QgYWxzbyBjb250YWlucyB0aGUgcG9ydCBudW1iZXIgd2UncmUgZ29pbmdcbiAgLy8gb3ZlcnJpZGUgaXQgd2l0aCB0aGUgaG9zdG5hbWUgd2hpY2ggY29udGFpbnMgbm8gcG9ydCBudW1iZXIuXG4gIC8vXG4gIGlmICghcmVxdWlyZWQodXJsLnBvcnQsIHVybC5wcm90b2NvbCkpIHtcbiAgICB1cmwuaG9zdCA9IHVybC5ob3N0bmFtZTtcbiAgICB1cmwucG9ydCA9ICcnO1xuICB9XG5cbiAgLy9cbiAgLy8gUGFyc2UgZG93biB0aGUgYGF1dGhgIGZvciB0aGUgdXNlcm5hbWUgYW5kIHBhc3N3b3JkLlxuICAvL1xuICB1cmwudXNlcm5hbWUgPSB1cmwucGFzc3dvcmQgPSAnJztcbiAgaWYgKHVybC5hdXRoKSB7XG4gICAgaW5zdHJ1Y3Rpb24gPSB1cmwuYXV0aC5zcGxpdCgnOicpO1xuICAgIHVybC51c2VybmFtZSA9IGluc3RydWN0aW9uWzBdIHx8ICcnO1xuICAgIHVybC5wYXNzd29yZCA9IGluc3RydWN0aW9uWzFdIHx8ICcnO1xuICB9XG5cbiAgdXJsLm9yaWdpbiA9IHVybC5wcm90b2NvbCAmJiB1cmwuaG9zdCAmJiB1cmwucHJvdG9jb2wgIT09ICdmaWxlOidcbiAgICA/IHVybC5wcm90b2NvbCArJy8vJysgdXJsLmhvc3RcbiAgICA6ICdudWxsJztcblxuICAvL1xuICAvLyBUaGUgaHJlZiBpcyBqdXN0IHRoZSBjb21waWxlZCByZXN1bHQuXG4gIC8vXG4gIHVybC5ocmVmID0gdXJsLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogVGhpcyBpcyBjb252ZW5pZW5jZSBtZXRob2QgZm9yIGNoYW5naW5nIHByb3BlcnRpZXMgaW4gdGhlIFVSTCBpbnN0YW5jZSB0b1xuICogaW5zdXJlIHRoYXQgdGhleSBhbGwgcHJvcGFnYXRlIGNvcnJlY3RseS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcGFydCAgICAgICAgICBQcm9wZXJ0eSB3ZSBuZWVkIHRvIGFkanVzdC5cbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlICAgICAgICAgIFRoZSBuZXdseSBhc3NpZ25lZCB2YWx1ZS5cbiAqIEBwYXJhbSB7Qm9vbGVhbnxGdW5jdGlvbn0gZm4gIFdoZW4gc2V0dGluZyB0aGUgcXVlcnksIGl0IHdpbGwgYmUgdGhlIGZ1bmN0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VkIHRvIHBhcnNlIHRoZSBxdWVyeS5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdoZW4gc2V0dGluZyB0aGUgcHJvdG9jb2wsIGRvdWJsZSBzbGFzaCB3aWxsIGJlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkIGZyb20gdGhlIGZpbmFsIHVybCBpZiBpdCBpcyB0cnVlLlxuICogQHJldHVybnMge1VSTH1cbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIHNldChwYXJ0LCB2YWx1ZSwgZm4pIHtcbiAgdmFyIHVybCA9IHRoaXM7XG5cbiAgc3dpdGNoIChwYXJ0KSB7XG4gICAgY2FzZSAncXVlcnknOlxuICAgICAgaWYgKCdzdHJpbmcnID09PSB0eXBlb2YgdmFsdWUgJiYgdmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHZhbHVlID0gKGZuIHx8IHFzLnBhcnNlKSh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHVybFtwYXJ0XSA9IHZhbHVlO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdwb3J0JzpcbiAgICAgIHVybFtwYXJ0XSA9IHZhbHVlO1xuXG4gICAgICBpZiAoIXJlcXVpcmVkKHZhbHVlLCB1cmwucHJvdG9jb2wpKSB7XG4gICAgICAgIHVybC5ob3N0ID0gdXJsLmhvc3RuYW1lO1xuICAgICAgICB1cmxbcGFydF0gPSAnJztcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgICAgdXJsLmhvc3QgPSB1cmwuaG9zdG5hbWUgKyc6JysgdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnaG9zdG5hbWUnOlxuICAgICAgdXJsW3BhcnRdID0gdmFsdWU7XG5cbiAgICAgIGlmICh1cmwucG9ydCkgdmFsdWUgKz0gJzonKyB1cmwucG9ydDtcbiAgICAgIHVybC5ob3N0ID0gdmFsdWU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2hvc3QnOlxuICAgICAgdXJsW3BhcnRdID0gdmFsdWU7XG5cbiAgICAgIGlmICgvOlxcZCskLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCc6Jyk7XG4gICAgICAgIHVybC5wb3J0ID0gdmFsdWUucG9wKCk7XG4gICAgICAgIHVybC5ob3N0bmFtZSA9IHZhbHVlLmpvaW4oJzonKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVybC5ob3N0bmFtZSA9IHZhbHVlO1xuICAgICAgICB1cmwucG9ydCA9ICcnO1xuICAgICAgfVxuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3Byb3RvY29sJzpcbiAgICAgIHVybC5wcm90b2NvbCA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICB1cmwuc2xhc2hlcyA9ICFmbjtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAncGF0aG5hbWUnOlxuICAgIGNhc2UgJ2hhc2gnOlxuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHZhciBjaGFyID0gcGFydCA9PT0gJ3BhdGhuYW1lJyA/ICcvJyA6ICcjJztcbiAgICAgICAgdXJsW3BhcnRdID0gdmFsdWUuY2hhckF0KDApICE9PSBjaGFyID8gY2hhciArIHZhbHVlIDogdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cmxbcGFydF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHVybFtwYXJ0XSA9IHZhbHVlO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpbnMgPSBydWxlc1tpXTtcblxuICAgIGlmIChpbnNbNF0pIHVybFtpbnNbMV1dID0gdXJsW2luc1sxXV0udG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIHVybC5vcmlnaW4gPSB1cmwucHJvdG9jb2wgJiYgdXJsLmhvc3QgJiYgdXJsLnByb3RvY29sICE9PSAnZmlsZTonXG4gICAgPyB1cmwucHJvdG9jb2wgKycvLycrIHVybC5ob3N0XG4gICAgOiAnbnVsbCc7XG5cbiAgdXJsLmhyZWYgPSB1cmwudG9TdHJpbmcoKTtcblxuICByZXR1cm4gdXJsO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgcHJvcGVydGllcyBiYWNrIGluIHRvIGEgdmFsaWQgYW5kIGZ1bGwgVVJMIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmdpZnkgT3B0aW9uYWwgcXVlcnkgc3RyaW5naWZ5IGZ1bmN0aW9uLlxuICogQHJldHVybnMge1N0cmluZ31cbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHN0cmluZ2lmeSkge1xuICBpZiAoIXN0cmluZ2lmeSB8fCAnZnVuY3Rpb24nICE9PSB0eXBlb2Ygc3RyaW5naWZ5KSBzdHJpbmdpZnkgPSBxcy5zdHJpbmdpZnk7XG5cbiAgdmFyIHF1ZXJ5XG4gICAgLCB1cmwgPSB0aGlzXG4gICAgLCBwcm90b2NvbCA9IHVybC5wcm90b2NvbDtcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuY2hhckF0KHByb3RvY29sLmxlbmd0aCAtIDEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICB2YXIgcmVzdWx0ID0gcHJvdG9jb2wgKyAodXJsLnNsYXNoZXMgPyAnLy8nIDogJycpO1xuXG4gIGlmICh1cmwudXNlcm5hbWUpIHtcbiAgICByZXN1bHQgKz0gdXJsLnVzZXJuYW1lO1xuICAgIGlmICh1cmwucGFzc3dvcmQpIHJlc3VsdCArPSAnOicrIHVybC5wYXNzd29yZDtcbiAgICByZXN1bHQgKz0gJ0AnO1xuICB9XG5cbiAgcmVzdWx0ICs9IHVybC5ob3N0ICsgdXJsLnBhdGhuYW1lO1xuXG4gIHF1ZXJ5ID0gJ29iamVjdCcgPT09IHR5cGVvZiB1cmwucXVlcnkgPyBzdHJpbmdpZnkodXJsLnF1ZXJ5KSA6IHVybC5xdWVyeTtcbiAgaWYgKHF1ZXJ5KSByZXN1bHQgKz0gJz8nICE9PSBxdWVyeS5jaGFyQXQoMCkgPyAnPycrIHF1ZXJ5IDogcXVlcnk7XG5cbiAgaWYgKHVybC5oYXNoKSByZXN1bHQgKz0gdXJsLmhhc2g7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuVVJMLnByb3RvdHlwZSA9IHsgc2V0OiBzZXQsIHRvU3RyaW5nOiB0b1N0cmluZyB9O1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBVUkwgcGFyc2VyIGFuZCBzb21lIGFkZGl0aW9uYWwgcHJvcGVydGllcyB0aGF0IG1pZ2h0IGJlIHVzZWZ1bCBmb3Jcbi8vIG90aGVycyBvciB0ZXN0aW5nLlxuLy9cblVSTC5leHRyYWN0UHJvdG9jb2wgPSBleHRyYWN0UHJvdG9jb2w7XG5VUkwubG9jYXRpb24gPSBsb2xjYXRpb247XG5VUkwucXMgPSBxcztcblxubW9kdWxlLmV4cG9ydHMgPSBVUkw7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL21vZHVsZXMvQHRoZW1vc3QvY2xpZW50L25vZGVfbW9kdWxlcy91cmwtcGFyc2UvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n")},function(module,exports){eval('var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function("return this")() || (1,eval)("this");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === "object")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it\'s\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzPzM2OTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0Qzs7QUFFNUMiLCJmaWxlIjoiNy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBnO1xyXG5cclxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcclxuZyA9IChmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdGhpcztcclxufSkoKTtcclxuXHJcbnRyeSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXHJcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLGV2YWwpKFwidGhpc1wiKTtcclxufSBjYXRjaChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZih0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKVxyXG5cdFx0ZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vICh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2NsaWVudC9ub2RlX21vZHVsZXMvcmVxdWlyZXMtcG9ydC9pbmRleC5qcz83YWUxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ2hlY2sgaWYgd2UncmUgcmVxdWlyZWQgdG8gYWRkIGEgcG9ydCBudW1iZXIuXG4gKlxuICogQHNlZSBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RlZmF1bHQtcG9ydFxuICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBwb3J0IFBvcnQgbnVtYmVyIHdlIG5lZWQgdG8gY2hlY2tcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm90b2NvbCBQcm90b2NvbCB3ZSBuZWVkIHRvIGNoZWNrIGFnYWluc3QuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSXMgaXQgYSBkZWZhdWx0IHBvcnQgZm9yIHRoZSBnaXZlbiBwcm90b2NvbFxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVxdWlyZWQocG9ydCwgcHJvdG9jb2wpIHtcbiAgcHJvdG9jb2wgPSBwcm90b2NvbC5zcGxpdCgnOicpWzBdO1xuICBwb3J0ID0gK3BvcnQ7XG5cbiAgaWYgKCFwb3J0KSByZXR1cm4gZmFsc2U7XG5cbiAgc3dpdGNoIChwcm90b2NvbCkge1xuICAgIGNhc2UgJ2h0dHAnOlxuICAgIGNhc2UgJ3dzJzpcbiAgICByZXR1cm4gcG9ydCAhPT0gODA7XG5cbiAgICBjYXNlICdodHRwcyc6XG4gICAgY2FzZSAnd3NzJzpcbiAgICByZXR1cm4gcG9ydCAhPT0gNDQzO1xuXG4gICAgY2FzZSAnZnRwJzpcbiAgICByZXR1cm4gcG9ydCAhPT0gMjE7XG5cbiAgICBjYXNlICdnb3BoZXInOlxuICAgIHJldHVybiBwb3J0ICE9PSA3MDtcblxuICAgIGNhc2UgJ2ZpbGUnOlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBwb3J0ICE9PSAwO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbW9kdWxlcy9AdGhlbW9zdC9jbGllbnQvbm9kZV9tb2R1bGVzL3JlcXVpcmVzLXBvcnQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  return decodeURIComponent(input.replace(/\\+/g, ' '));\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  //\n  // Little nifty parsing hack, leverage the fact that RegExp.exec increments\n  // the lastIndex property so we can continue executing this loop until we've\n  // parsed all results.\n  //\n  for (;\n    part = parser.exec(query);\n    result[decode(part[1])] = decode(part[2])\n  );\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = [];\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      pairs.push(encodeURIComponent(key) +'='+ encodeURIComponent(obj[key]));\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2NsaWVudC9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmdpZnkvaW5kZXguanM/MTQ2NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogRGVjb2RlIGEgVVJJIGVuY29kZWQgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgVVJJIGVuY29kZWQgc3RyaW5nLlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIGRlY29kZWQgc3RyaW5nLlxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGlucHV0LnJlcGxhY2UoL1xcKy9nLCAnICcpKTtcbn1cblxuLyoqXG4gKiBTaW1wbGUgcXVlcnkgc3RyaW5nIHBhcnNlci5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcXVlcnkgVGhlIHF1ZXJ5IHN0cmluZyB0aGF0IG5lZWRzIHRvIGJlIHBhcnNlZC5cbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiBxdWVyeXN0cmluZyhxdWVyeSkge1xuICB2YXIgcGFyc2VyID0gLyhbXj0/Jl0rKT0/KFteJl0qKS9nXG4gICAgLCByZXN1bHQgPSB7fVxuICAgICwgcGFydDtcblxuICAvL1xuICAvLyBMaXR0bGUgbmlmdHkgcGFyc2luZyBoYWNrLCBsZXZlcmFnZSB0aGUgZmFjdCB0aGF0IFJlZ0V4cC5leGVjIGluY3JlbWVudHNcbiAgLy8gdGhlIGxhc3RJbmRleCBwcm9wZXJ0eSBzbyB3ZSBjYW4gY29udGludWUgZXhlY3V0aW5nIHRoaXMgbG9vcCB1bnRpbCB3ZSd2ZVxuICAvLyBwYXJzZWQgYWxsIHJlc3VsdHMuXG4gIC8vXG4gIGZvciAoO1xuICAgIHBhcnQgPSBwYXJzZXIuZXhlYyhxdWVyeSk7XG4gICAgcmVzdWx0W2RlY29kZShwYXJ0WzFdKV0gPSBkZWNvZGUocGFydFsyXSlcbiAgKTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybSBhIHF1ZXJ5IHN0cmluZyB0byBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBPYmplY3QgdGhhdCBzaG91bGQgYmUgdHJhbnNmb3JtZWQuXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJlZml4IE9wdGlvbmFsIHByZWZpeC5cbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiBxdWVyeXN0cmluZ2lmeShvYmosIHByZWZpeCkge1xuICBwcmVmaXggPSBwcmVmaXggfHwgJyc7XG5cbiAgdmFyIHBhaXJzID0gW107XG5cbiAgLy9cbiAgLy8gT3B0aW9uYWxseSBwcmVmaXggd2l0aCBhICc/JyBpZiBuZWVkZWRcbiAgLy9cbiAgaWYgKCdzdHJpbmcnICE9PSB0eXBlb2YgcHJlZml4KSBwcmVmaXggPSAnPyc7XG5cbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChoYXMuY2FsbChvYmosIGtleSkpIHtcbiAgICAgIHBhaXJzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyc9JysgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtrZXldKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhaXJzLmxlbmd0aCA/IHByZWZpeCArIHBhaXJzLmpvaW4oJyYnKSA6ICcnO1xufVxuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuZXhwb3J0cy5zdHJpbmdpZnkgPSBxdWVyeXN0cmluZ2lmeTtcbmV4cG9ydHMucGFyc2UgPSBxdWVyeXN0cmluZztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbW9kdWxlcy9AdGhlbW9zdC9jbGllbnQvbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5naWZ5L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n")}]);