!function(Q){function U(B){if(F[B])return F[B].exports;var I=F[B]={i:B,l:!1,exports:{}};return Q[B].call(I.exports,I,I.exports,U),I.l=!0,I.exports}var F={};U.m=Q,U.c=F,U.d=function(Q,F,B){U.o(Q,F)||Object.defineProperty(Q,F,{configurable:!1,enumerable:!0,get:B})},U.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return U.d(F,"a",F),F},U.o=function(Q,U){return Object.prototype.hasOwnProperty.call(Q,U)},U.p="",U(U.s=2)}([function(module,exports){eval("module.exports = angular;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhbmd1bGFyXCI/MTFkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBhbmd1bGFyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiYW5ndWxhclwiXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar CodedError = /** @class */ (function (_super) {\n    __extends(CodedError, _super);\n    function CodedError(message, code) {\n        var _this = _super.call(this, message) || this;\n        _this.code = code;\n        return _this;\n    }\n    return CodedError;\n}(Error));\nexports.CodedError = CodedError;\nvar Base64 = /** @class */ (function () {\n    function Base64() {\n        this.PADCHAR = \'=\';\n        this.ALPHA = \'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\';\n    }\n    Base64.prototype.getByte = function (s, i) {\n        var x = s.charCodeAt(i);\n        return x;\n    };\n    Base64.prototype.getByte64 = function (s, i) {\n        var idx = this.ALPHA.indexOf(s.charAt(i));\n        return idx;\n    };\n    Base64.prototype.decode = function (s) {\n        var pads = 0, i, b10, imax = s.length, x = [];\n        s = String(s);\n        if (imax === 0) {\n            return s;\n        }\n        if (s.charAt(imax - 1) === this.PADCHAR) {\n            pads = 1;\n            if (s.charAt(imax - 2) === this.PADCHAR) {\n                pads = 2;\n            }\n            imax -= 4;\n        }\n        for (i = 0; i < imax; i += 4) {\n            b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12) | (this.getByte64(s, i + 2) << 6) | this.getByte64(s, i + 3);\n            x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255, b10 & 255));\n        }\n        switch (pads) {\n            case 1:\n                b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12) | (this.getByte64(s, i + 2) << 6);\n                x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 255));\n                break;\n            case 2:\n                b10 = (this.getByte64(s, i) << 18) | (this.getByte64(s, i + 1) << 12);\n                x.push(String.fromCharCode(b10 >> 16));\n                break;\n        }\n        return x.join(\'\');\n    };\n    Base64.prototype.encode = function (s) {\n        s = String(s);\n        var i, b10, x = [], imax = s.length - s.length % 3;\n        if (s.length === 0) {\n            return s;\n        }\n        for (i = 0; i < imax; i += 3) {\n            b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8) | this.getByte(s, i + 2);\n            x.push(this.ALPHA.charAt(b10 >> 18));\n            x.push(this.ALPHA.charAt((b10 >> 12) & 63));\n            x.push(this.ALPHA.charAt((b10 >> 6) & 63));\n            x.push(this.ALPHA.charAt(b10 & 63));\n        }\n        switch (s.length - imax) {\n            case 1:\n                b10 = this.getByte(s, i) << 16;\n                x.push(this.ALPHA.charAt(b10 >> 18) + this.ALPHA.charAt((b10 >> 12) & 63) + this.PADCHAR + this.PADCHAR);\n                break;\n            case 2:\n                b10 = (this.getByte(s, i) << 16) | (this.getByte(s, i + 1) << 8);\n                x.push(this.ALPHA.charAt(b10 >> 18) + this.ALPHA.charAt((b10 >> 12) & 63) + this.ALPHA.charAt((b10 >> 6) & 63) + this.PADCHAR);\n                break;\n        }\n        return x.join(\'\');\n    };\n    return Base64;\n}());\nexports.Base64 = Base64;\nvar TextUtils = /** @class */ (function () {\n    function TextUtils() {\n    }\n    TextUtils.isNotEmptyString = function (s) {\n        return (s != null) && (s != undefined) && (s.length > 0);\n    };\n    TextUtils.isNullOrUndefined = function (s) {\n        return (s != null) && (s != undefined);\n    };\n    TextUtils.zeroPad = function (num, length) {\n        num = num || 0;\n        var res = num.toString();\n        while (res.length < length) {\n            res = \'0\' + res;\n        }\n        return res;\n    };\n    TextUtils.isDate = function (s) {\n        if (typeof s === "string") {\n            return TextUtils.REG_DATETIME_ISO.test(s);\n        }\n        return false;\n    };\n    TextUtils.isGuid = function (s) {\n        if (typeof s === "string") {\n            return TextUtils.REG_GUID_STRING.test(s);\n        }\n        return false;\n    };\n    TextUtils.isAbsoluteURI = function (s) {\n        if (typeof s === "string") {\n            return TextUtils.REG_ABSOLUTE_URI.test(s);\n        }\n        return false;\n    };\n    TextUtils.isRelativeURI = function (s) {\n        if (typeof s === "string") {\n            return TextUtils.REG_RELATIVE_URI.test(s);\n        }\n        return false;\n    };\n    TextUtils.isNumber = function (s) {\n        if (typeof s === "string") {\n            return TextUtils.REG_NUMBER_STRING.test(s);\n        }\n        else if (typeof s === \'number\') {\n            return true;\n        }\n        return false;\n    };\n    TextUtils.parseDate = function (s) {\n        if (TextUtils.isDate(s)) {\n            return new Date(s);\n        }\n        return;\n    };\n    /**\n     * Encodes the given string to Base-64 format\n     * @param {string} s - A string to encode\n     * @returns {string}\n     */\n    TextUtils.toBase64 = function (s) {\n        var cv = new Base64();\n        return cv.encode(s);\n    };\n    /**\n     * Decodes the given string from Base-64 format\n     * @param {string} s - A base-64 encoded string\n     * @returns {string}\n     */\n    TextUtils.fromBase64 = function (s) {\n        var cv = new Base64();\n        return cv.decode(s);\n    };\n    TextUtils.format = function (s) {\n        var p = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            p[_i - 1] = arguments[_i];\n        }\n        var i = 0;\n        return s.replace(/%[sdfj%]/g, function (x) {\n            if (x === "%%")\n                return "%";\n            if (i >= p.length)\n                return x;\n            var p1 = p[i++];\n            if (((p1 == null) && (p1 == undefined))) {\n                return "";\n            }\n            switch (x) {\n                case "%s":\n                    return p1.toString();\n                case "%d":\n                    return parseInt(p1);\n                case "%f":\n                    return parseFloat(p1);\n                case "%j":\n                    return JSON.stringify(p1);\n                default:\n                    return x;\n            }\n        });\n    };\n    TextUtils.REG_DATETIME_ISO = /^(\\d{4})(?:-?W(\\d+)(?:-?(\\d+)D?)?|(?:-(\\d+))?-(\\d+))(?:[T ](\\d+):(\\d+)(?::(\\d+)(?:\\.(\\d+))?)?)?(?:Z(-?\\d*))?([+-](\\d+):(\\d+))?$/;\n    TextUtils.REG_GUID_STRING = /^(\\{{0,1}([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){12}\\}{0,1})$/;\n    TextUtils.REG_ABSOLUTE_URI = /^((https?|ftps?):\\/\\/)([\\da-z.-]+)\\.([a-z.]{2,6})([\\/\\w .-]*)*\\/?$/;\n    TextUtils.REG_RELATIVE_URI = /^([\\/\\w .-]*)*\\/?$/;\n    TextUtils.REG_NUMBER_STRING = /^\\d+$/;\n    return TextUtils;\n}());\nexports.TextUtils = TextUtils;\nvar Args = /** @class */ (function () {\n    function Args() {\n    }\n    Args.check = function (expr, message, code) {\n        if (!expr) {\n            throw new CodedError(message, code || "EARG");\n        }\n    };\n    Args.notNull = function (obj, name) {\n        Args.check((obj != null) && (obj !== undefined), name + " may not be null or undefined", "ENULL");\n    };\n    Args.notEmpty = function (obj, name) {\n        Args.check((obj != null) && (obj !== undefined) && (obj.length > 0), name + " may not be empty", "ENULL");\n    };\n    Args.notNegative = function (obj, name) {\n        Args.check((typeof obj === \'number\'), name + " may be a number", "ENUMBER");\n        Args.check((obj >= 0), name + " may not be negative", "ENUMBER");\n    };\n    Args.Positive = function (obj, name) {\n        Args.check((typeof obj === \'number\'), name + " may be a number", "ENUMBER");\n        Args.check((obj > 0), name + " must be a positive number", "ENUMBER");\n    };\n    return Args;\n}());\nexports.Args = Args;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2NsaWVudC9jb21tb24udHM/NDdhOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFDQTtJQUFnQyw4QkFBSztJQUNqQyxvQkFBWSxPQUFjLEVBQVMsSUFBVztRQUE5QyxZQUNJLGtCQUFNLE9BQU8sQ0FBQyxTQUNqQjtRQUZrQyxVQUFJLEdBQUosSUFBSSxDQUFPOztJQUU5QyxDQUFDO0lBQ0wsaUJBQUM7QUFBRCxDQUFDLENBSitCLEtBQUssR0FJcEM7QUFKWSxnQ0FBVTtBQU12QjtJQUFBO1FBQ1ksWUFBTyxHQUFVLEdBQUcsQ0FBQztRQUNyQixVQUFLLEdBQVUsa0VBQWtFLENBQUM7SUFrRjlGLENBQUM7SUFoRlcsd0JBQU8sR0FBZixVQUFnQixDQUFRLEVBQUUsQ0FBUTtRQUM5QixJQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFCLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRU8sMEJBQVMsR0FBakIsVUFBa0IsQ0FBUSxFQUFFLENBQVE7UUFDaEMsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVDLE1BQU0sQ0FBQyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRU0sdUJBQU0sR0FBYixVQUFjLENBQVE7UUFDbEIsSUFBSSxJQUFJLEdBQUcsQ0FBQyxFQUNSLENBQUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQ3ZCLENBQUMsR0FBRyxFQUFFLENBQUM7UUFFWCxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRWQsRUFBRSxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDYixNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ2IsQ0FB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UUFBUSxDQUFDLEVBQUUsSUFBSSxHQUFHLGtCQUFrQixFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQzVFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxHQUFHLHNCQUFzQixFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFTSxhQUFRLEdBQWYsVUFBZ0IsR0FBVSxFQUFFLElBQVc7UUFDbkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sR0FBRyxLQUFLLFFBQVEsQ0FBQyxFQUFFLElBQUksR0FBRyxrQkFBa0IsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUM1RSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxHQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksR0FBRyw0QkFBNEIsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBRUwsV0FBQztBQUFELENBQUM7QUExQlksb0JBQUkiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGNsYXNzIENvZGVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZTpzdHJpbmcsIHB1YmxpYyBjb2RlOnN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCYXNlNjQge1xuICAgIHByaXZhdGUgUEFEQ0hBUjpzdHJpbmcgPSAnPSc7XG4gICAgcHJpdmF0ZSBBTFBIQTpzdHJpbmcgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG5cbiAgICBwcml2YXRlIGdldEJ5dGUoczpzdHJpbmcsIGk6bnVtYmVyKTpudW1iZXIge1xuICAgICAgICBjb25zdCB4ID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgICAgICByZXR1cm4geDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEJ5dGU2NChzOnN0cmluZywgaTpudW1iZXIpOm51bWJlciB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuQUxQSEEuaW5kZXhPZihzLmNoYXJBdChpKSk7XG4gICAgICAgIHJldHVybiBpZHg7XG4gICAgfVxuXG4gICAgcHVibGljIGRlY29kZShzOnN0cmluZyk6c3RyaW5nIHtcbiAgICAgICAgbGV0IHBhZHMgPSAwLFxuICAgICAgICAgICAgaSwgYjEwLCBpbWF4ID0gcy5sZW5ndGgsXG4gICAgICAgICAgICB4ID0gW107XG5cbiAgICAgICAgcyA9IFN0cmluZyhzKTtcblxuICAgICAgICBpZiAoaW1heCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocy5jaGFyQXQoaW1heCAtIDEpID09PSB0aGlzLlBBRENIQVIpIHtcbiAgICAgICAgICAgIHBhZHMgPSAxO1xuICAgICAgICAgICAgaWYgKHMuY2hhckF0KGltYXggLSAyKSA9PT0gdGhpcy5QQURDSEFSKSB7XG4gICAgICAgICAgICAgICAgcGFkcyA9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWF4IC09IDQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW1heDsgaSArPSA0KSB7XG4gICAgICAgICAgICBiMTAgPSAodGhpcy5nZXRCeXRlNjQocywgaSkgPDwgMTgpIHwgKHRoaXMuZ2V0Qnl0ZTY0KHMsIGkgKyAxKSA8PCAxMikgfCAodGhpcy5nZXRCeXRlNjQocywgaSArIDIpIDw8IDYpIHwgdGhpcy5nZXRCeXRlNjQocywgaSArIDMpO1xuICAgICAgICAgICAgeC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYjEwID4+IDE2LCAoYjEwID4+IDgpICYgMjU1LCBiMTAgJiAyNTUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAocGFkcykge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGIxMCA9ICh0aGlzLmdldEJ5dGU2NChzLCBpKSA8PCAxOCkgfCAodGhpcy5nZXRCeXRlNjQocywgaSArIDEpIDw8IDEyKSB8ICh0aGlzLmdldEJ5dGU2NChzLCBpICsgMikgPDwgNik7XG4gICAgICAgICAgICAgICAgeC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYjEwID4+IDE2LCAoYjEwID4+IDgpICYgMjU1KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgYjEwID0gKHRoaXMuZ2V0Qnl0ZTY0KHMsIGkpIDw8IDE4KSB8ICh0aGlzLmdldEJ5dGU2NChzLCBpICsgMSkgPDwgMTIpO1xuICAgICAgICAgICAgICAgIHgucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGIxMCA+PiAxNikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHguam9pbignJyk7XG4gICAgfVxuXG4gICAgcHVibGljIGVuY29kZShzOnN0cmluZyk6c3RyaW5nIHtcbiAgICAgICAgcyA9IFN0cmluZyhzKTtcblxuICAgICAgICBsZXQgaSwgYjEwLCB4ID0gW10sXG4gICAgICAgICAgICBpbWF4ID0gcy5sZW5ndGggLSBzLmxlbmd0aCAlIDM7XG5cbiAgICAgICAgaWYgKHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBpbWF4OyBpICs9IDMpIHtcbiAgICAgICAgICAgIGIxMCA9ICh0aGlzLmdldEJ5dGUocywgaSkgPDwgMTYpIHwgKHRoaXMuZ2V0Qnl0ZShzLCBpICsgMSkgPDwgOCkgfCB0aGlzLmdldEJ5dGUocywgaSArIDIpO1xuICAgICAgICAgICAgeC5wdXNoKHRoaXMuQUxQSEEuY2hhckF0KGIxMCA+PiAxOCkpO1xuICAgICAgICAgICAgeC5wdXNoKHRoaXMuQUxQSEEuY2hhckF0KChiMTAgPj4gMTIpICYgNjMpKTtcbiAgICAgICAgICAgIHgucHVzaCh0aGlzLkFMUEhBLmNoYXJBdCgoYjEwID4+IDYpICYgNjMpKTtcbiAgICAgICAgICAgIHgucHVzaCh0aGlzLkFMUEhBLmNoYXJBdChiMTAgJiA2MykpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChzLmxlbmd0aCAtIGltYXgpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBiMTAgPSB0aGlzLmdldEJ5dGUocywgaSkgPDwgMTY7XG4gICAgICAgICAgICAgICAgeC5wdXNoKHRoaXMuQUxQSEEuY2hhckF0KGIxMCA+PiAxOCkgKyB0aGlzLkFMUEhBLmNoYXJBdCgoYjEwID4+IDEyKSAmIDYzKSArIHRoaXMuUEFEQ0hBUiArIHRoaXMuUEFEQ0hBUik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgYjEwID0gKHRoaXMuZ2V0Qnl0ZShzLCBpKSA8PCAxNikgfCAodGhpcy5nZXRCeXRlKHMsIGkgKyAxKSA8PCA4KTtcbiAgICAgICAgICAgICAgICB4LnB1c2godGhpcy5BTFBIQS5jaGFyQXQoYjEwID4+IDE4KSArIHRoaXMuQUxQSEEuY2hhckF0KChiMTAgPj4gMTIpICYgNjMpICsgdGhpcy5BTFBIQS5jaGFyQXQoKGIxMCA+PiA2KSAmIDYzKSArIHRoaXMuUEFEQ0hBUik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geC5qb2luKCcnKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIFRleHRVdGlscyB7XG5cbiAgICBzdGF0aWMgaXNOb3RFbXB0eVN0cmluZyhzOnN0cmluZyk6Ym9vbGVhbiB7XG4gICAgICAgIHJldHVybiAocyAhPSBudWxsKSAmJiAocyAhPSB1bmRlZmluZWQpICYmIChzLmxlbmd0aCA+IDApO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc051bGxPclVuZGVmaW5lZChzOnN0cmluZyk6Ym9vbGVhbiB7XG4gICAgICAgIHJldHVybiAocyAhPSBudWxsKSAmJiAocyAhPSB1bmRlZmluZWQpO1xuICAgIH1cblxuICAgIHN0YXRpYyB6ZXJvUGFkKG51bTpudW1iZXIsIGxlbmd0aDpudW1iZXIpOnN0cmluZyB7XG4gICAgICAgIG51bSA9IG51bSB8fCAwO1xuICAgICAgICBsZXQgcmVzID0gbnVtLnRvU3RyaW5nKCk7XG4gICAgICAgIHdoaWxlIChyZXMubGVuZ3RoIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXMgPSAnMCcgKyByZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBSRUdfREFURVRJTUVfSVNPID0gL14oXFxkezR9KSg/Oi0/VyhcXGQrKSg/Oi0/KFxcZCspRD8pP3woPzotKFxcZCspKT8tKFxcZCspKSg/OltUIF0oXFxkKyk6KFxcZCspKD86OihcXGQrKSg/OlxcLihcXGQrKSk/KT8pPyg/OlooLT9cXGQqKSk/KFsrLV0oXFxkKyk6KFxcZCspKT8kLztcblxuICAgIHN0YXRpYyBpc0RhdGUoczpzdHJpbmcpOmJvb2xlYW4ge1xuICAgICAgICBpZiAodHlwZW9mIHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0VXRpbHMuUkVHX0RBVEVUSU1FX0lTTy50ZXN0KHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBSRUdfR1VJRF9TVFJJTkcgPSAvXihcXHt7MCwxfShbMC05YS1mQS1GXSl7OH0tKFswLTlhLWZBLUZdKXs0fS0oWzAtOWEtZkEtRl0pezR9LShbMC05YS1mQS1GXSl7NH0tKFswLTlhLWZBLUZdKXsxMn1cXH17MCwxfSkkLztcblxuICAgIHN0YXRpYyBpc0d1aWQoczphbnkpOmJvb2xlYW4ge1xuICAgICAgICBpZiAodHlwZW9mIHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0VXRpbHMuUkVHX0dVSURfU1RSSU5HLnRlc3Qocyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIFJFR19BQlNPTFVURV9VUkkgPSAvXigoaHR0cHM/fGZ0cHM/KTpcXC9cXC8pKFtcXGRhLXouLV0rKVxcLihbYS16Ll17Miw2fSkoW1xcL1xcdyAuLV0qKSpcXC8/JC87XG5cbiAgICBzdGF0aWMgaXNBYnNvbHV0ZVVSSShzOmFueSk6Ym9vbGVhbiB7XG4gICAgICAgIGlmICh0eXBlb2YgcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIFRleHRVdGlscy5SRUdfQUJTT0xVVEVfVVJJLnRlc3Qocyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIFJFR19SRUxBVElWRV9VUkkgPSAvXihbXFwvXFx3IC4tXSopKlxcLz8kLztcblxuICAgIHN0YXRpYyBpc1JlbGF0aXZlVVJJKHM6YW55KTpib29sZWFuIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dFV0aWxzLlJFR19SRUxBVElWRV9VUkkudGVzdChzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgUkVHX05VTUJFUl9TVFJJTkcgPSAvXlxcZCskLztcblxuICAgIHN0YXRpYyBpc051bWJlcihzOmFueSk6Ym9vbGVhbiB7XG4gICAgICAgIGlmICh0eXBlb2YgcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIFRleHRVdGlscy5SRUdfTlVNQkVSX1NUUklORy50ZXN0KHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiAgcyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VEYXRlKHM6c3RyaW5nKTpEYXRlIHtcbiAgICAgICAgaWYgKFRleHRVdGlscy5pc0RhdGUocykpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5jb2RlcyB0aGUgZ2l2ZW4gc3RyaW5nIHRvIEJhc2UtNjQgZm9ybWF0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHMgLSBBIHN0cmluZyB0byBlbmNvZGVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyB0b0Jhc2U2NChzOnN0cmluZyk6c3RyaW5nIHtcbiAgICAgICAgbGV0IGN2ID0gbmV3IEJhc2U2NCgpO1xuICAgICAgICByZXR1cm4gY3YuZW5jb2RlKHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlY29kZXMgdGhlIGdpdmVuIHN0cmluZyBmcm9tIEJhc2UtNjQgZm9ybWF0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHMgLSBBIGJhc2UtNjQgZW5jb2RlZCBzdHJpbmdcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tQmFzZTY0KHM6c3RyaW5nKTpzdHJpbmcge1xuICAgICAgICBsZXQgY3YgPSBuZXcgQmFzZTY0KCk7XG4gICAgICAgIHJldHVybiBjdi5kZWNvZGUocyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZvcm1hdChzOnN0cmluZywgLi4ucDphbnlbXSk6c3RyaW5nIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICByZXR1cm4gcy5yZXBsYWNlKC8lW3NkZmolXS9nLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgaWYgKHggPT09IFwiJSVcIikgcmV0dXJuIFwiJVwiO1xuICAgICAgICAgICAgaWYgKGkgPj0gcC5sZW5ndGgpIHJldHVybiB4O1xuICAgICAgICAgICAgbGV0IHAxID0gcFtpKytdO1xuICAgICAgICAgICAgaWYgKCgocDEgPT0gbnVsbCkgJiYgKHAxID09IHVuZGVmaW5lZCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiJXNcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHAxLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY2FzZSBcIiVkXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChwMSk7XG4gICAgICAgICAgICAgICAgY2FzZSBcIiVmXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHAxKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiJWpcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHAxKTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQXJncyB7XG5cbiAgICBzdGF0aWMgY2hlY2soZXhwcjpib29sZWFuLCBtZXNzYWdlOnN0cmluZywgY29kZT86c3RyaW5nKTp2b2lkIHtcbiAgICAgICAgaWYgKCFleHByKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ29kZWRFcnJvcihtZXNzYWdlLCBjb2RlIHx8IFwiRUFSR1wiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBub3ROdWxsKG9iajphbnksIG5hbWU6c3RyaW5nKTp2b2lkIHtcbiAgICAgICAgQXJncy5jaGVjaygob2JqICE9IG51bGwpICYmIChvYmogIT09IHVuZGVmaW5lZCksIG5hbWUgKyBcIiBtYXkgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXCIsIFwiRU5VTExcIik7XG4gICAgfVxuXG4gICAgc3RhdGljIG5vdEVtcHR5KG9iajpzdHJpbmcsIG5hbWU6c3RyaW5nKTp2b2lkIHtcbiAgICAgICAgQXJncy5jaGVjaygob2JqICE9IG51bGwpICYmIChvYmogIT09IHVuZGVmaW5lZCkgJiYgKG9iai5sZW5ndGggPiAwKSwgbmFtZSArIFwiIG1heSBub3QgYmUgZW1wdHlcIiwgXCJFTlVMTFwiKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbm90TmVnYXRpdmUob2JqOm51bWJlciwgbmFtZTpzdHJpbmcpOnZvaWQge1xuICAgICAgICBBcmdzLmNoZWNrKCh0eXBlb2Ygb2JqID09PSAnbnVtYmVyJyksIG5hbWUgKyBcIiBtYXkgYmUgYSBudW1iZXJcIiwgXCJFTlVNQkVSXCIpO1xuICAgICAgICBBcmdzLmNoZWNrKChvYmo+PTApLCBuYW1lICsgXCIgbWF5IG5vdCBiZSBuZWdhdGl2ZVwiLCBcIkVOVU1CRVJcIik7XG4gICAgfVxuXG4gICAgc3RhdGljIFBvc2l0aXZlKG9iajpudW1iZXIsIG5hbWU6c3RyaW5nKTp2b2lkIHtcbiAgICAgICAgQXJncy5jaGVjaygodHlwZW9mIG9iaiA9PT0gJ251bWJlcicpLCBuYW1lICsgXCIgbWF5IGJlIGEgbnVtYmVyXCIsIFwiRU5VTUJFUlwiKTtcbiAgICAgICAgQXJncy5jaGVjaygob2JqPjApLCBuYW1lICsgXCIgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiLCBcIkVOVU1CRVJcIik7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVNlcnZpY2VRdWVyeVBhcmFtcyB7XG4gICAgJGZpbHRlcjpzdHJpbmc7XG4gICAgJGdyb3VwYnk6c3RyaW5nO1xuICAgICRzZWxlY3Q6c3RyaW5nO1xuICAgICRvcmRlcmJ5OnN0cmluZztcbiAgICAkZXhwYW5kOnN0cmluZztcbiAgICAkY291bnQ6Ym9vbGVhbjtcbiAgICAkdG9wOm51bWJlcjtcbiAgICAkc2tpcDpudW1iZXI7XG4gICAgJGZpcnN0OmJvb2xlYW47XG4gICAgJGxldmVsczpudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVNlcnZpY2VFeGVjdXRlT3B0aW9ucyB7XG4gICAgbWV0aG9kOnN0cmluZztcbiAgICB1cmw6c3RyaW5nO1xuICAgIGRhdGE6YW55O1xuICAgIGhlYWRlcnM6YW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENsaWVudERhdGFTZXJ2aWNlQmFzZSB7XG5cbiAgICBzZXRIZWFkZXIobmFtZTpzdHJpbmcsIHZhbHVlOnN0cmluZylcblxuICAgIGdldEhlYWRlcnMoKTogYW55XG4gICAgLyoqXG4gICAgICogR2V0cyBhIHN0cmluZyB3aGljaCByZXByZXNlbnRzIHRoZSBiYXNlIFVSTCBvZiB0aGUgTU9TVCBXZWIgYXBwbGljYXRpb24gc2VydmVyXG4gICAgICovXG4gICAgZ2V0QmFzZSgpOnN0cmluZ1xuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIGFuIEhUVFAgcmVxdWVzdCBhZ2FpbnN0IHRoZSBkZWZpbmVkIE1PU1QgV2ViIGFwcGxpY2F0aW9uIHNlcnZlclxuICAgICAqIEBwYXJhbSB7RGF0YVNlcnZpY2VFeGVjdXRlT3B0aW9uc30gb3B0aW9uc1xuICAgICAqL1xuICAgIGV4ZWN1dGUob3B0aW9uczpEYXRhU2VydmljZUV4ZWN1dGVPcHRpb25zKTpQcm9taXNlPGFueT5cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgVVJMIGludG8gb25lIHRoYXQgaXMgdXNhYmxlIG9uIHRoZSByZXF1ZXN0aW5nIGNsaWVudC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVcbiAgICAgKi9cbiAgICByZXNvbHZlKHJlbGF0aXZlOiBzdHJpbmcpXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50RGF0YUNvbnRleHRCYXNlIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIGEgc3RyaW5nIHdoaWNoIHJlcHJlc2VudHMgdGhlIGJhc2UgVVJMIG9mIHRoZSBNT1NUIFdlYiBhcHBsaWNhdGlvbiBzZXJ2ZXJcbiAgICAgKi9cbiAgICBnZXRCYXNlKCk6c3RyaW5nXG4gICAgLyoqXG4gICAgICogU2V0cyBhIHN0cmluZyB3aGljaCByZXByZXNlbnRzIHRoZSBiYXNlIFVSTCBvZiB0aGUgTU9TVCBXZWIgYXBwbGljYXRpb24gc2VydmVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVGhlIGJhc2UgVVJMXG4gICAgICogQHJldHVybnMgQ2xpZW50RGF0YUNvbnRleHRCYXNlXG4gICAgICovXG4gICAgc2V0QmFzZSh2YWx1ZTpzdHJpbmcpOiBDbGllbnREYXRhQ29udGV4dEJhc2VcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnN0YW5jZSBvZiBDbGllbnREYXRhU2VydmljZUJhc2UgY2xhc3Mgd2hpY2ggaXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZGF0YSBjb250ZXh0XG4gICAgICovXG4gICAgZ2V0U2VydmljZSgpOkNsaWVudERhdGFTZXJ2aWNlQmFzZVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL21vZHVsZXMvQHRoZW1vc3QvY2xpZW50L2NvbW1vbi50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n')},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar angular = __webpack_require__(0);\nvar services_1 = __webpack_require__(3);\nvar ngModule = angular.module('most', [services_1.default]);\nfunction localized(text, localeSet) {\n    window[\"locales\"] = window[\"locales\"] || {};\n    localeSet = localeSet || 'global';\n    if (typeof text !== 'string')\n        return text;\n    if (text.length === 0)\n        return text;\n    var locale = window[\"locales\"][localeSet];\n    if (locale) {\n        var out = locale[text];\n        if (out)\n            return out;\n    }\n    return text;\n}\nfunction MostLocalizedDirective() {\n    return {\n        restrict: 'A',\n        link: function (scope, element, attrs) {\n            if (attrs.title)\n                element.attr('title', localized(attrs.title, attrs['mostLoc']));\n            if (attrs.placeholder)\n                element.attr('placeholder', localized(attrs.placeholder, attrs['mostLoc']));\n        }\n    };\n}\nfunction MostLocalizedHtmlDirective() {\n    return {\n        restrict: 'A',\n        scope: false,\n        link: function (scope, element, attrs) {\n            var text = localized(element.html(), attrs['mostLocHtml']);\n            if (text)\n                element.html(text);\n        }\n    };\n}\nfunction MostLocalizedFilter() {\n    return function (input, localeSet) {\n        return localized(input, localeSet);\n    };\n}\nfunction MostEventDirective($timeout) {\n    return {\n        restrict: 'E',\n        link: function (scope, element, attrs) {\n            //get event name\n            var name = element.attr('name') || attrs['event'], action = attrs['eventAction'];\n            if (name) {\n                scope.$on(name, function (event, args) {\n                    if (action) {\n                        $timeout(function () {\n                            scope.$args = args;\n                            try {\n                                scope.$apply(action);\n                            }\n                            catch (e) {\n                                console.log(e);\n                            }\n                            scope.$args = null;\n                        });\n                    }\n                });\n            }\n        }\n    };\n}\n/**\n * @return {IDirective}\n * @constructor\n */\nfunction MostWatchDirective() {\n    return {\n        restrict: 'E',\n        link: function (scope, element, attrs) {\n            //get event name\n            var name = element.attr('name') || attrs['event'], args = attrs['eventArgs'];\n            if (name) {\n                if (typeof scope.broadcast === 'function') {\n                    scope.$watch(args, function (value) {\n                        scope.broadcast(name, value);\n                    });\n                }\n                else {\n                    scope.$watch(args, function (value) {\n                        scope.emit(name, value);\n                    });\n                }\n            }\n        }\n    };\n}\nfunction MostItemDirective($window) {\n    return {\n        restrict: 'A',\n        scope: false,\n        link: function (scope, element, attrs) {\n            scope.route = $window.route;\n            var item = scope.$eval(attrs['mostItem']);\n            item.then(function (result) {\n                scope.item = result;\n            }, function (reason) {\n                console.log(reason);\n                scope.item = null;\n            });\n        }\n    };\n}\nfunction MostVariableDirective($timeout) {\n    return {\n        restrict: 'E',\n        link: function (scope, element, attrs) {\n            if (attrs.ngValue) {\n                return scope.$eval(attrs.name + \"=\" + attrs.ngValue + \";\");\n            }\n            function set_(value) {\n                if (scope.$$phase === '$digest' || scope.$$phase === '$apply') {\n                    $timeout(function () {\n                        scope[attrs.name] = value;\n                    });\n                }\n                else {\n                    scope[attrs.name] = value;\n                }\n            }\n            scope.$watch(attrs.value, function (newValue) {\n                set_(newValue);\n            });\n        }\n    };\n}\nfunction MostParamDirective($window) {\n    return {\n        restrict: 'AE',\n        link: function (scope, element, attrs) {\n            scope.route = $window.route;\n            if (attrs['mostParam']) {\n                var values = attrs['mostParam'].split(';');\n                var params = {};\n                for (var i = 0; i < values.length; i++) {\n                    var value = values[i].split('=');\n                    if (value.length === 2)\n                        params[value[0]] = value[1];\n                }\n                $window.route = $window.route || {};\n                var _loop_1 = function (name_1) {\n                    if (params.hasOwnProperty(name_1)) {\n                        scope.$watch(params[name_1], function (newValue) {\n                            $window.route[name_1] = newValue;\n                        });\n                    }\n                };\n                for (var name_1 in params) {\n                    _loop_1(name_1);\n                }\n            }\n            else {\n                scope.$watch(attrs.value, function (newValue) {\n                    $window.route = $window.route || {};\n                    $window.route[attrs.name] = newValue;\n                });\n            }\n        }\n    };\n}\nfunction MostDataInstanceDirective($context, $parse, $window) {\n    return {\n        restrict: 'E',\n        scope: { model: '@', filter: '@', select: '@', group: '@', order: '@', top: '=', count: '=', skip: '=', expand: '@', prepared: '=', url: '@' },\n        link: function (scope, element, attrs) {\n            if (typeof scope.model === 'undefined')\n                return;\n            scope.route = $window.route;\n            var q = $context.model(scope.model).asQueryable();\n            var arr = [];\n            if (typeof scope.url === 'string' && scope.url.length > 0) {\n                q.setUrl(scope.url);\n            }\n            //apply select (if any)\n            if (scope.select) {\n                arr = scope.select.split(',');\n                //apply as array expression if we have only one field\n                if (arr.length == 1)\n                    q.asArray(true);\n                q.select(arr);\n            }\n            if (scope.group) {\n                if (angular.isArray(scope.group))\n                    q.group(scope.group);\n                else if (typeof scope.group === 'string' && scope.group.length > 0)\n                    q.group(scope.group.split(','));\n            }\n            if (scope.order) {\n                arr = [];\n                if (typeof scope.order === 'string' && scope.order.length > 0)\n                    arr = scope.order.split(',');\n                for (var i = 0; i < arr.length; i++) {\n                    var str = arr[i];\n                    var matches = /(.*?) desc$/i.exec(str);\n                    if (matches) {\n                        q.orderByDescending(matches[1]);\n                    }\n                    else {\n                        matches = /(.*?) asc$/i.exec(str);\n                        if (matches) {\n                            q.orderBy(matches[1]);\n                        }\n                        else {\n                            q.orderBy(str);\n                        }\n                    }\n                }\n            }\n            if (scope.skip > 0) {\n                q.skip(scope.skip);\n            }\n            if (scope.top > 0) {\n                q.take(scope.top);\n            }\n            if (scope.count) {\n                q.paged(true);\n            }\n            if (typeof scope.filter === 'string' && scope.filter.length > 0) {\n                q.filter(scope.filter);\n                if (scope.prepared) {\n                    q.prepare();\n                }\n            }\n            if (typeof scope.expand === 'string' && scope.expand.length > 0) {\n                q.expand(scope.expand.split(','));\n            }\n            //set queryable\n            q.getItems().then(function (result) {\n                var getter = $parse(attrs.name);\n                var setter;\n                if (getter)\n                    setter = getter.assign;\n                if (typeof setter === 'function') {\n                    setter(scope.$parent, (q.$top === 1) ? result[0] : result);\n                }\n            });\n            //register for order change\n            scope.$on('order.change', function (event, args) {\n                if (typeof args === 'string') {\n                    if (args.length === 0) {\n                        delete q.$orderby;\n                        q.reset().getItems().then(function (result) {\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                        });\n                    }\n                    else {\n                        var orders = args.split(',');\n                        if (orders.length === 1) {\n                            if (typeof q.$orderby !== 'undefined') {\n                                var previousOrders = q.$orderby.split(',');\n                                if (previousOrders.length === 1) {\n                                    var arr1 = orders[0].split(' '), arr2 = previousOrders[0].split(' ');\n                                    if (typeof arr1[1] === 'undefined') {\n                                        if (arr1[0] === arr2[0]) {\n                                            if ((typeof arr2[1] === 'undefined') || (arr2[1] === 'asc')) {\n                                                arr1.push('desc');\n                                                orders[0] = arr1.join(' ');\n                                            }\n                                            else {\n                                                arr1.push('asc');\n                                                orders[0] = arr1.join(' ');\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        q.reset().orderBy(orders.join(',')).getItems().then(function (result) {\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                        });\n                    }\n                }\n            });\n            //register for filter change\n            scope.$on('filter.change', function (event, args) {\n                if (typeof args === 'object') {\n                    if (args.name === attrs.name) {\n                        if (typeof args.filter === 'string') {\n                            q.reset().filter(args.filter).getItems().then(function (result) {\n                                scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                            });\n                        }\n                    }\n                }\n                else if (typeof args === 'string') {\n                    q.reset().filter(args).getItems().then(function (result) {\n                        scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                    });\n                }\n            });\n            //register for filter change\n            scope.$on('page.change', function (event, args) {\n                if (typeof args === 'object') {\n                    if (args.name === attrs.name) {\n                        if (typeof args.page !== 'undefined') {\n                            var page = parseInt(args.page), size = scope.top;\n                            if (size <= 0) {\n                                return;\n                            }\n                            q.reset().skip((page - 1) * size).getItems().then(function (result) {\n                                scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                            });\n                        }\n                    }\n                }\n            });\n            var dataReload = function (event, args) {\n                if (typeof args === 'object') {\n                    if (args.name === attrs.name) {\n                        q.reset().getItems().then(function (result) {\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                        });\n                    }\n                }\n                else if (typeof args === 'string') {\n                    if (args === attrs.name) {\n                        q.reset().getItems().then(function (result) {\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                        });\n                    }\n                }\n            };\n            var dataRefresh = function (event, args) {\n                if (typeof args === 'object') {\n                    if (args.model === q.$model) {\n                        q.reset().getItems().then(function (result) {\n                            scope.$parent[attrs.name] = (q.$top === 1) ? result[0] : result;\n                        });\n                    }\n                }\n            };\n            //register for data reload\n            scope.$on('data.reload', dataReload);\n            //register for data refresh\n            scope.$on('item.new', dataRefresh);\n            //register for data refresh\n            scope.$on('item.save', dataRefresh);\n            //register for data refresh\n            scope.$on('item.delete', dataRefresh);\n        }\n    };\n}\nngModule.directive('loc', MostLocalizedDirective)\n    .directive('locHtml', MostLocalizedHtmlDirective)\n    .filter('loc', [MostLocalizedFilter])\n    .directive('mostEvent', MostEventDirective)\n    .directive('mostWatch', MostWatchDirective)\n    .directive('mostItem', MostItemDirective)\n    .directive('mostData', MostDataInstanceDirective)\n    .directive('mostVariable', MostVariableDirective)\n    .directive('mostParam', MostParamDirective);\nexports.default = ngModule.name;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2FuZ3VsYXJqcy9tb2R1bGUudHM/ZWYzYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVNBLHFDQUFvQztBQUNwQyx3Q0FBd0M7QUFFeEMsSUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxrQkFBYyxDQUFDLENBQUMsQ0FBQztBQUUxRCxtQkFBbUIsSUFBSSxFQUFFLFNBQVM7SUFDOUIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDNUMsU0FBUyxHQUFHLFNBQVMsSUFBSSxRQUFRLENBQUM7SUFDbEMsRUFBRSxDQUFDLENBQUMsT0FBTyxJQUFJLEtBQUssUUFBUSxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7UUFDbEIsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixJQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDNUMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNULElBQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QixFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUM7WUFDSixNQUFNLENBQUMsR0FBRyxDQUFDO0lBQ25CLENBQUM7SUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2hCLENBQUM7QUFFRDtJQUNJLE1BQU0sQ0FBQztRQUNILFFBQVEsRUFBRSxHQUFHO1FBQ2IsSUFBSSxFQUFFLFVBQVMsS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLO1lBQ2hDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7Z0JBQ1osT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUs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QUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQzt3QkFDcEUsQ0FBQyxDQUFDLENBQUM7b0JBQ1AsQ0FBQztnQkFDTCxDQUFDO1lBRUwsQ0FBQyxDQUFDO1lBQ0YsMEJBQTBCO1lBQzFCLEtBQUssQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1lBQ3JDLDJCQUEyQjtZQUMzQixLQUFLLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxXQUFXLENBQUMsQ0FBQztZQUNuQywyQkFBMkI7WUFDM0IsS0FBSyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDcEMsMkJBQTJCO1lBQzNCLEtBQUssQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBRTFDLENBQUM7S0FDSixDQUFDO0FBQ04sQ0FBQztBQUVELFFBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFDLHNCQUFzQixDQUFDO0tBQzNDLFNBQVMsQ0FBQyxTQUFTLEVBQUMsMEJBQTBCLENBQUM7S0FDL0MsTUFBTSxDQUFDLEtBQUssRUFBQyxDQUFDLG1CQUFtQixDQUFDLENBQUM7S0FDbkMsU0FBUyxDQUFDLFdBQVcsRUFBQyxrQkFBa0IsQ0FBQztLQUN6QyxTQUFTLENBQUMsV0FBVyxFQUFDLGtCQUFrQixDQUFDO0tBQ3pDLFNBQVMsQ0FBQyxVQUFVLEVBQUMsaUJBQWlCLENBQUM7S0FDdkMsU0FBUyxDQUFDLFVBQVUsRUFBQyx5QkFBeUIsQ0FBQztLQUMvQyxTQUFTLENBQUMsY0FBYyxFQUFDLHFCQUFxQixDQUFDO0tBQy9DLFNBQVMsQ0FBQyxXQUFXLEVBQUMsa0JBQWtCLENBQUMsQ0FBQztBQUUvQyxrQkFBZSxRQUFRLENBQUMsSUFBSSxDQUFDIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBNT1NUIFdlYiBGcmFtZXdvcmsgMi4wIENvZGVuYW1lIEJsdWVzaGlmdFxuICogQ29weXJpZ2h0IChjKSAyMDE3LCBUSEVNT1NUIExQIEFsbCByaWdodHMgcmVzZXJ2ZWRcbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBCU0QtMy1DbGF1c2UgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL3RoZW1vc3QuaW8vbGljZW5zZVxuICovXG5pbXBvcnQge0lEaXJlY3RpdmUsSVNjb3BlfSBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBhbmd1bGFyID0gcmVxdWlyZShcImFuZ3VsYXJcIik7XG5pbXBvcnQgc2VydmljZXNNb2R1bGUgZnJvbSAnLi9zZXJ2aWNlcyc7XG5cbmNvbnN0IG5nTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ21vc3QnLCBbc2VydmljZXNNb2R1bGVdKTtcblxuZnVuY3Rpb24gbG9jYWxpemVkKHRleHQsIGxvY2FsZVNldCkge1xuICAgIHdpbmRvd1tcImxvY2FsZXNcIl0gPSB3aW5kb3dbXCJsb2NhbGVzXCJdIHx8IHt9O1xuICAgIGxvY2FsZVNldCA9IGxvY2FsZVNldCB8fCAnZ2xvYmFsJztcbiAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICBpZiAodGV4dC5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIGNvbnN0IGxvY2FsZSA9IHdpbmRvd1tcImxvY2FsZXNcIl1bbG9jYWxlU2V0XTtcbiAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgIGNvbnN0IG91dCA9IGxvY2FsZVt0ZXh0XTtcbiAgICAgICAgaWYgKG91dClcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xufVxuXG5mdW5jdGlvbiBNb3N0TG9jYWxpemVkRGlyZWN0aXZlKCk6SURpcmVjdGl2ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICBpZiAoYXR0cnMudGl0bGUpXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKCd0aXRsZScsIGxvY2FsaXplZChhdHRycy50aXRsZSwgYXR0cnNbJ21vc3RMb2MnXSkpO1xuICAgICAgICAgICAgaWYgKGF0dHJzLnBsYWNlaG9sZGVyKVxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0cigncGxhY2Vob2xkZXInLCBsb2NhbGl6ZWQoYXR0cnMucGxhY2Vob2xkZXIsIGF0dHJzWydtb3N0TG9jJ10pKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cblxuXG5mdW5jdGlvbiBNb3N0TG9jYWxpemVkSHRtbERpcmVjdGl2ZSgpOklEaXJlY3RpdmUge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIHNjb3BlOiBmYWxzZSxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gbG9jYWxpemVkKGVsZW1lbnQuaHRtbCgpLCBhdHRyc1snbW9zdExvY0h0bWwnXSk7XG4gICAgICAgICAgICBpZiAodGV4dClcbiAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwodGV4dCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBNb3N0TG9jYWxpemVkRmlsdGVyKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCwgbG9jYWxlU2V0KSB7XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZWQoaW5wdXQsIGxvY2FsZVNldCk7XG4gICAgfTtcbn1cblxuaW50ZXJmYWNlIE1vc3RFdmVudERpcmVjdGl2ZVNjb3BlIGV4dGVuZHMgSVNjb3BlIHtcbiAgICAkYXJnczphbnlcbn1cblxuZnVuY3Rpb24gTW9zdEV2ZW50RGlyZWN0aXZlKCR0aW1lb3V0KTpJRGlyZWN0aXZlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZTpNb3N0RXZlbnREaXJlY3RpdmVTY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIC8vZ2V0IGV2ZW50IG5hbWVcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBlbGVtZW50LmF0dHIoJ25hbWUnKSB8fCBhdHRyc1snZXZlbnQnXSwgYWN0aW9uID0gYXR0cnNbJ2V2ZW50QWN0aW9uJ107XG4gICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRvbihuYW1lLCBmdW5jdGlvbihldmVudCwgYXJncykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcmdzID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoYWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFyZ3MgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8qKlxuICogQHJldHVybiB7SURpcmVjdGl2ZX1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNb3N0V2F0Y2hEaXJlY3RpdmUoKTpJRGlyZWN0aXZlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIC8vZ2V0IGV2ZW50IG5hbWVcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBlbGVtZW50LmF0dHIoJ25hbWUnKSB8fCBhdHRyc1snZXZlbnQnXSwgYXJncyA9IGF0dHJzWydldmVudEFyZ3MnXTtcbiAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY29wZS5icm9hZGNhc3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGFyZ3MsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuYnJvYWRjYXN0KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goYXJncywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5lbWl0KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cblxuXG5mdW5jdGlvbiBNb3N0SXRlbURpcmVjdGl2ZSgkd2luZG93KTpJRGlyZWN0aXZlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBzY29wZTogZmFsc2UsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgc2NvcGUucm91dGUgPSAkd2luZG93LnJvdXRlO1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHNjb3BlLiRldmFsKGF0dHJzWydtb3N0SXRlbSddKTtcbiAgICAgICAgICAgIGl0ZW0udGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5pdGVtID0gcmVzdWx0O1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVhc29uKTtcbiAgICAgICAgICAgICAgICBzY29wZS5pdGVtID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gTW9zdFZhcmlhYmxlRGlyZWN0aXZlKCR0aW1lb3V0KTpJRGlyZWN0aXZlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGlmIChhdHRycy5uZ1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiRldmFsKGF0dHJzLm5hbWUgKyBcIj1cIiArIGF0dHJzLm5nVmFsdWUgKyBcIjtcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRfKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLiQkcGhhc2UgPT09ICckZGlnZXN0JyB8fCBzY29wZS4kJHBoYXNlID09PSAnJGFwcGx5Jykge1xuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlW2F0dHJzLm5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVbYXR0cnMubmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMudmFsdWUsIGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc2V0XyhuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIE1vc3RQYXJhbURpcmVjdGl2ZSgkd2luZG93KTpJRGlyZWN0aXZlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0FFJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICBzY29wZS5yb3V0ZSA9ICR3aW5kb3cucm91dGU7XG4gICAgICAgICAgICBpZiAoYXR0cnNbJ21vc3RQYXJhbSddKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gYXR0cnNbJ21vc3RQYXJhbSddLnNwbGl0KCc7Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0geyB9O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHZhbHVlc1tpXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoPT09MilcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1t2YWx1ZVswXV0gPSB2YWx1ZVsxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHdpbmRvdy5yb3V0ZSA9ICR3aW5kb3cucm91dGUgfHwgeyB9O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWUgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChwYXJhbXNbbmFtZV0sIGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5yb3V0ZVtuYW1lXSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMudmFsdWUsIGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cucm91dGUgPSAkd2luZG93LnJvdXRlIHx8IHsgfTtcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5yb3V0ZVthdHRycy5uYW1lXSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5pbnRlcmZhY2UgTW9zdERhdGFJbnN0YW5jZVNjb3BlIGV4dGVuZHMgSVNjb3BlIHtcbiAgICBtb2RlbDpzdHJpbmc7XG4gICAgc2VsZWN0OnN0cmluZztcbiAgICBncm91cDpzdHJpbmc7XG4gICAgb3JkZXI6c3RyaW5nO1xuICAgIHRvcDpudW1iZXI7XG4gICAgY291bnQ6Ym9vbGVhbjtcbiAgICBza2lwOm51bWJlcjtcbiAgICBleHBhbmQ6c3RyaW5nO1xuICAgIHByZXBhcmVkOmJvb2xlYW47XG4gICAgdXJsOnN0cmluZztcbn1cblxuZnVuY3Rpb24gTW9zdERhdGFJbnN0YW5jZURpcmVjdGl2ZSgkY29udGV4dCwgJHBhcnNlLCAkd2luZG93KTpJRGlyZWN0aXZlIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICBzY29wZTogeyBtb2RlbDonQCcsIGZpbHRlcjonQCcsICBzZWxlY3Q6J0AnLCBncm91cDonQCcsIG9yZGVyOidAJywgdG9wOic9JywgY291bnQ6Jz0nLCBza2lwOic9JywgZXhwYW5kOidAJywgcHJlcGFyZWQ6Jz0nLCB1cmw6J0AnIH0sXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlOk1vc3REYXRhSW5zdGFuY2VTY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NvcGUubW9kZWwgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHNjb3BlLnJvdXRlID0gJHdpbmRvdy5yb3V0ZTtcbiAgICAgICAgICAgIGNvbnN0IHEgPSAkY29udGV4dC5tb2RlbChzY29wZS5tb2RlbCkuYXNRdWVyeWFibGUoKTtcbiAgICAgICAgICAgIGxldCBhcnIgPSBbXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NvcGUudXJsID09PSAnc3RyaW5nJyAmJiBzY29wZS51cmwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHEuc2V0VXJsKHNjb3BlLnVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2FwcGx5IHNlbGVjdCAoaWYgYW55KVxuICAgICAgICAgICAgaWYgKHNjb3BlLnNlbGVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhcnIgPSBzY29wZS5zZWxlY3Quc3BsaXQoJywnKTtcbiAgICAgICAgICAgICAgICAvL2FwcGx5IGFzIGFycmF5IGV4cHJlc3Npb24gaWYgd2UgaGF2ZSBvbmx5IG9uZSBmaWVsZFxuICAgICAgICAgICAgICAgIGlmIChhcnIubGVuZ3RoPT0xKVxuICAgICAgICAgICAgICAgICAgICBxLmFzQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgcS5zZWxlY3QoYXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzY29wZS5ncm91cCkge1xuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoc2NvcGUuZ3JvdXApKVxuICAgICAgICAgICAgICAgICAgICBxLmdyb3VwKHNjb3BlLmdyb3VwKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc2NvcGUuZ3JvdXAgPT09ICdzdHJpbmcnICYmIHNjb3BlLmdyb3VwLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgIHEuZ3JvdXAoc2NvcGUuZ3JvdXAuc3BsaXQoJywnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2NvcGUub3JkZXIpIHtcbiAgICAgICAgICAgICAgICBhcnIgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNjb3BlLm9yZGVyID09PSAnc3RyaW5nJyAmJiBzY29wZS5vcmRlci5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICBhcnIgPSBzY29wZS5vcmRlci5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdHIgPSBhcnJbaV07XG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaGVzID0gLyguKj8pIGRlc2MkL2kuZXhlYyhzdHIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcS5vcmRlckJ5RGVzY2VuZGluZyhtYXRjaGVzWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMgPSAvKC4qPykgYXNjJC9pLmV4ZWMoc3RyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcS5vcmRlckJ5KG1hdGNoZXNbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcS5vcmRlckJ5KHN0cik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2NvcGUuc2tpcD4wKSB7XG4gICAgICAgICAgICAgICAgcS5za2lwKHNjb3BlLnNraXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjb3BlLnRvcD4wKSB7XG4gICAgICAgICAgICAgICAgcS50YWtlKHNjb3BlLnRvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2NvcGUuY291bnQpIHtcbiAgICAgICAgICAgICAgICBxLnBhZ2VkKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzY29wZS5maWx0ZXIgPT09ICdzdHJpbmcnICYmIHNjb3BlLmZpbHRlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcS5maWx0ZXIoc2NvcGUuZmlsdGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUucHJlcGFyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcS5wcmVwYXJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNjb3BlLmV4cGFuZCA9PT0gJ3N0cmluZycgJiYgc2NvcGUuZXhwYW5kLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBxLmV4cGFuZChzY29wZS5leHBhbmQuc3BsaXQoJywnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL3NldCBxdWVyeWFibGVcbiAgICAgICAgICAgIHEuZ2V0SXRlbXMoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdldHRlciA9ICRwYXJzZShhdHRycy5uYW1lKTtcbiAgICAgICAgICAgICAgICBsZXQgc2V0dGVyO1xuICAgICAgICAgICAgICAgIGlmIChnZXR0ZXIpXG4gICAgICAgICAgICAgICAgICAgIHNldHRlciA9IGdldHRlci5hc3NpZ247XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLiRwYXJlbnQsIChxLiR0b3AgPT09IDEpID8gcmVzdWx0WzBdIDogcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9yZWdpc3RlciBmb3Igb3JkZXIgY2hhbmdlXG4gICAgICAgICAgICBzY29wZS4kb24oJ29yZGVyLmNoYW5nZScsIChldmVudCwgYXJncykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJncyA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGg9PT0wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcS4kb3JkZXJieTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHEucmVzZXQoKS5nZXRJdGVtcygpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50W2F0dHJzLm5hbWVdID0gKHEuJHRvcCA9PT0gMSkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yZGVycyA9IGFyZ3Muc3BsaXQoJywnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmRlcnMubGVuZ3RoPT09MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcS4kb3JkZXJieSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNPcmRlcnM9IHEuJG9yZGVyYnkuc3BsaXQoJywnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzT3JkZXJzLmxlbmd0aD09PTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFycjEgPSBvcmRlcnNbMF0uc3BsaXQoJyAnKSwgYXJyMiA9IHByZXZpb3VzT3JkZXJzWzBdLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFycjFbMV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFycjFbMF09PT1hcnIyWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIGFycjJbMV0gPT09ICd1bmRlZmluZWQnKSB8fCAoYXJyMlsxXSA9PT0gJ2FzYycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnIxLnB1c2goJ2Rlc2MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyc1swXSA9IGFycjEuam9pbignICcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnIxLnB1c2goJ2FzYycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJzWzBdID0gYXJyMS5qb2luKCcgJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHEucmVzZXQoKS5vcmRlckJ5KG9yZGVycy5qb2luKCcsJykpLmdldEl0ZW1zKCkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudFthdHRycy5uYW1lXSA9IChxLiR0b3AgPT09IDEpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9yZWdpc3RlciBmb3IgZmlsdGVyIGNoYW5nZVxuICAgICAgICAgICAgc2NvcGUuJG9uKCdmaWx0ZXIuY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQsIGFyZ3MpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5uYW1lPT09YXR0cnMubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzLmZpbHRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxLnJlc2V0KCkuZmlsdGVyKGFyZ3MuZmlsdGVyKS5nZXRJdGVtcygpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50W2F0dHJzLm5hbWVdID0gKHEuJHRvcCA9PT0gMSkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHEucmVzZXQoKS5maWx0ZXIoYXJncykuZ2V0SXRlbXMoKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50W2F0dHJzLm5hbWVdID0gKHEuJHRvcCA9PT0gMSkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL3JlZ2lzdGVyIGZvciBmaWx0ZXIgY2hhbmdlXG4gICAgICAgICAgICBzY29wZS4kb24oJ3BhZ2UuY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQsIGFyZ3MpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5uYW1lPT09YXR0cnMubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzLnBhZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KGFyZ3MucGFnZSksIHNpemUgPSBzY29wZS50b3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpemU8PTApIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcS5yZXNldCgpLnNraXAoKHBhZ2UtMSkqc2l6ZSkuZ2V0SXRlbXMoKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudFthdHRycy5uYW1lXSA9IChxLiR0b3AgPT09IDEpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRhdGFSZWxvYWQgPSBmdW5jdGlvbihldmVudCwgYXJncylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3MgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLm5hbWU9PT1hdHRycy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxLnJlc2V0KCkuZ2V0SXRlbXMoKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudFthdHRycy5uYW1lXSA9IChxLiR0b3AgPT09IDEpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzPT09YXR0cnMubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcS5yZXNldCgpLmdldEl0ZW1zKCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnRbYXR0cnMubmFtZV0gPSAocS4kdG9wID09PSAxKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZGF0YVJlZnJlc2ggPSBmdW5jdGlvbihldmVudCwgYXJncylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3MgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLm1vZGVsPT09IHEuJG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxLnJlc2V0KCkuZ2V0SXRlbXMoKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudFthdHRycy5uYW1lXSA9IChxLiR0b3AgPT09IDEpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvL3JlZ2lzdGVyIGZvciBkYXRhIHJlbG9hZFxuICAgICAgICAgICAgc2NvcGUuJG9uKCdkYXRhLnJlbG9hZCcsIGRhdGFSZWxvYWQpO1xuICAgICAgICAgICAgLy9yZWdpc3RlciBmb3IgZGF0YSByZWZyZXNoXG4gICAgICAgICAgICBzY29wZS4kb24oJ2l0ZW0ubmV3JywgZGF0YVJlZnJlc2gpO1xuICAgICAgICAgICAgLy9yZWdpc3RlciBmb3IgZGF0YSByZWZyZXNoXG4gICAgICAgICAgICBzY29wZS4kb24oJ2l0ZW0uc2F2ZScsIGRhdGFSZWZyZXNoKTtcbiAgICAgICAgICAgIC8vcmVnaXN0ZXIgZm9yIGRhdGEgcmVmcmVzaFxuICAgICAgICAgICAgc2NvcGUuJG9uKCdpdGVtLmRlbGV0ZScsIGRhdGFSZWZyZXNoKTtcblxuICAgICAgICB9XG4gICAgfTtcbn1cblxubmdNb2R1bGUuZGlyZWN0aXZlKCdsb2MnLE1vc3RMb2NhbGl6ZWREaXJlY3RpdmUpXG4gICAgLmRpcmVjdGl2ZSgnbG9jSHRtbCcsTW9zdExvY2FsaXplZEh0bWxEaXJlY3RpdmUpXG4gICAgLmZpbHRlcignbG9jJyxbTW9zdExvY2FsaXplZEZpbHRlcl0pXG4gICAgLmRpcmVjdGl2ZSgnbW9zdEV2ZW50JyxNb3N0RXZlbnREaXJlY3RpdmUpXG4gICAgLmRpcmVjdGl2ZSgnbW9zdFdhdGNoJyxNb3N0V2F0Y2hEaXJlY3RpdmUpXG4gICAgLmRpcmVjdGl2ZSgnbW9zdEl0ZW0nLE1vc3RJdGVtRGlyZWN0aXZlKVxuICAgIC5kaXJlY3RpdmUoJ21vc3REYXRhJyxNb3N0RGF0YUluc3RhbmNlRGlyZWN0aXZlKVxuICAgIC5kaXJlY3RpdmUoJ21vc3RWYXJpYWJsZScsTW9zdFZhcmlhYmxlRGlyZWN0aXZlKVxuICAgIC5kaXJlY3RpdmUoJ21vc3RQYXJhbScsTW9zdFBhcmFtRGlyZWN0aXZlKTtcblxuZXhwb3J0IGRlZmF1bHQgbmdNb2R1bGUubmFtZTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9tb2R1bGVzL0B0aGVtb3N0L2FuZ3VsYXJqcy9tb2R1bGUudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n")},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar angular = __webpack_require__(0);\nvar client_1 = __webpack_require__(4);\nvar ngModule = angular.module(\'most.services\', []);\nvar ContextProvider = /** @class */ (function () {\n    function ContextProvider() {\n        this.defaults = {\n            "base": "/",\n            "version": "0.0"\n        };\n    }\n    ContextProvider.prototype.$get = function ($http, $q) {\n        return new client_1.AngularDataContext(this.defaults.base, $http, $q);\n    };\n    ;\n    return ContextProvider;\n}());\nngModule.provider("$context", ContextProvider);\nexports.default = \'most.services\';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2FuZ3VsYXJqcy9zZXJ2aWNlcy50cz8yOGI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBU0EscUNBQW9DO0FBQ3BDLHNDQUE0QztBQUU1QyxJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLGVBQWUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUVyRDtJQUlJO1FBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRztZQUNaLE1BQU0sRUFBQyxHQUFHO1lBQ1YsU0FBUyxFQUFDLEtBQUs7U0FDbEIsQ0FBQztJQUNOLENBQUM7SUFDRCw4QkFBSSxHQUFKLFVBQUssS0FBSyxFQUFFLEVBQUU7UUFDVixNQUFNLENBQUMsSUFBSSwyQkFBa0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUFBLENBQUM7SUFDTixzQkFBQztBQUFELENBQUM7QUFDRCxRQUFRLENBQUMsUUFBUSxDQUFDLFVBQVUsRUFBQyxlQUFlLENBQUMsQ0FBQztBQUU5QyxrQkFBZSxlQUFlLENBQUMiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIE1PU1QgV2ViIEZyYW1ld29yayAyLjAgQ29kZW5hbWUgQmx1ZXNoaWZ0XG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcsIFRIRU1PU1QgTFAgQWxsIHJpZ2h0cyByZXNlcnZlZFxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIEJTRC0zLUNsYXVzZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vdGhlbW9zdC5pby9saWNlbnNlXG4gKi9cbmltcG9ydCB7SVNlcnZpY2VQcm92aWRlcn0gZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgYW5ndWxhciA9IHJlcXVpcmUoXCJhbmd1bGFyXCIpO1xuaW1wb3J0IHtBbmd1bGFyRGF0YUNvbnRleHR9IGZyb20gXCIuL2NsaWVudFwiO1xuXG5jb25zdCBuZ01vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdtb3N0LnNlcnZpY2VzJywgW10pO1xuXG5jbGFzcyBDb250ZXh0UHJvdmlkZXIgaW1wbGVtZW50cyBJU2VydmljZVByb3ZpZGVyIHtcblxuICAgIHB1YmxpYyBkZWZhdWx0czogYW55O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBcImJhc2VcIjpcIi9cIixcbiAgICAgICAgICAgIFwidmVyc2lvblwiOlwiMC4wXCJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgJGdldCgkaHR0cCwgJHEpOiBhbnkge1xuICAgICAgICByZXR1cm4gbmV3IEFuZ3VsYXJEYXRhQ29udGV4dCh0aGlzLmRlZmF1bHRzLmJhc2UsICRodHRwLCAkcSk7XG4gICAgfTtcbn1cbm5nTW9kdWxlLnByb3ZpZGVyKFwiJGNvbnRleHRcIixDb250ZXh0UHJvdmlkZXIpO1xuXG5leHBvcnQgZGVmYXVsdCAnbW9zdC5zZXJ2aWNlcyc7XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL21vZHVsZXMvQHRoZW1vc3QvYW5ndWxhcmpzL3NlcnZpY2VzLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, "__esModule", { value: true });\n/**\n * @license\n * MOST Web Framework 2.0 Codename Blueshift\n * Copyright (c) 2017, THEMOST LP All rights reserved\n *\n * Use of this source code is governed by an BSD-3-Clause license that can be\n * found in the LICENSE file at https://themost.io/license\n */\nvar common_1 = __webpack_require__(1);\nvar client_1 = __webpack_require__(5);\nvar REG_DATETIME_ISO = /^(\\d{4})(?:-?W(\\d+)(?:-?(\\d+)D?)?|(?:-(\\d+))?-(\\d+))(?:[T ](\\d+):(\\d+)(?::(\\d+)(?:\\.(\\d+))?)?)?(?:Z(-?\\d*))?([+-](\\d+):(\\d+))?$/;\nfunction dateParser(key, value) {\n    if ((typeof value === \'string\') && REG_DATETIME_ISO.test(value)) {\n        return new Date(value);\n    }\n    return value;\n}\nvar AngularDataContext = /** @class */ (function (_super) {\n    __extends(AngularDataContext, _super);\n    function AngularDataContext(base, http, q) {\n        return _super.call(this, new AngularDataService(base || "/", http, q)) || this;\n    }\n    return AngularDataContext;\n}(client_1.ClientDataContext));\nexports.AngularDataContext = AngularDataContext;\nvar AngularDataService = /** @class */ (function (_super) {\n    __extends(AngularDataService, _super);\n    /**\n     *\n     * @param {string} base\n     * @param {*} http\n     * @param {*} q\n     */\n    function AngularDataService(base, http, q) {\n        var _this = _super.call(this, base) || this;\n        _this.http = http;\n        _this.q = q;\n        return _this;\n    }\n    AngularDataService.prototype.execute = function (options) {\n        var _this = this;\n        var $http = this.http;\n        var $q = this.q;\n        return $q(function (resolve, reject) {\n            try {\n                //options defaults\n                options.method = options.method || "GET";\n                options.headers = __assign({}, _this.getHeaders(), options.headers);\n                //set content type\n                options.headers["Content-Type"] = "application/json";\n                //validate options URL\n                common_1.Args.notNull(options.url, "Request URL");\n                //validate URL format\n                common_1.Args.check(!/^https?:\\/\\//i.test(options.url), "Request URL may not be an absolute URI");\n                //validate request method\n                common_1.Args.check(/^GET|POST|PUT|DELETE$/i.test(options.method), "Invalid request method. Expected GET, POST, PUT or DELETE.");\n                var url_ = _this.resolve(options.url);\n                var o = {\n                    method: options.method,\n                    url: url_,\n                    headers: options.headers,\n                    transformResponse: function (data, headers, status) {\n                        if (typeof data === \'undefined\' || data === null) {\n                            return;\n                        }\n                        if (/^application\\/json/.test(headers("Content-Type"))) {\n                            if (data.length === 0) {\n                                return;\n                            }\n                            return JSON.parse(data, dateParser);\n                        }\n                        return data;\n                    }\n                };\n                if (/^GET$/i.test(o.method)) {\n                    o["params"] = options.data;\n                }\n                else {\n                    o["data"] = options.data;\n                }\n                $http(o).then(function (response) {\n                    resolve(response.data);\n                }, function (err) {\n                    reject(err);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    };\n    return AngularDataService;\n}(client_1.ClientDataService));\nexports.AngularDataService = AngularDataService;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2FuZ3VsYXJqcy9jbGllbnQudHM/OTBiNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7O0dBT0c7QUFDSCxzQ0FBc0U7QUFDdEUsc0NBQW9FO0FBRXBFLElBQU0sZ0JBQWdCLEdBQUcsaUlBQWlJLENBQUM7QUFDM0osb0JBQW9CLEdBQUcsRUFBRSxLQUFLO0lBQzFCLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxLQUFLLEtBQUssUUFBUSxDQUFDLElBQUksZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5RCxNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDakIsQ0FBQztBQUVEO0lBQXdDLHNDQUFpQjtJQUNyRCw0QkFBWSxJQUFXLEVBQUUsSUFBUSxFQUFFLENBQUs7ZUFDcEMsa0JBQU0sSUFBSSxrQkFBa0IsQ0FBQyxJQUFJLElBQUksR0FBRyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBQ0wseUJBQUM7QUFBRCxDQUFDLENBSnVDLDBCQUFpQixHQUl4RDtBQUpZLGdEQUFrQjtBQU0vQjtJQUF3QyxzQ0FBaUI7SUFLckQ7Ozs7O09BS0c7SUFDSCw0QkFBWSxJQUFXLEVBQUUsSUFBUSxFQUFFLENBQUs7UUFBeEMsWUFDSSxrQkFBTSxJQUFJLENBQUMsU0FHZDtRQUZHLEtBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLEtBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDOztJQUNmLENBQUM7SUFFRCxvQ0FBTyxHQUFQLFVBQVEsT0FBaUM7UUFBekMsaUJBb0RDO1FBbERHLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDeEIsSUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNsQixNQUFNLENBQUMsRUFBRSxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07WUFDdEIsSUFBSSxDQUFDO2dCQUNELGtCQUFrQjtnQkFDbEIsT0FBTyxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQztnQkFDekMsT0FBTyxDQUFDLE9BQU8sZ0JBQVEsS0FBSSxDQUFDLFVBQVUsRUFBRSxFQUFLLE9BQU8sQ0FBQyxPQUFPLENBQUUsQ0FBQztnQkFDL0Qsa0JBQWtCO2dCQUNsQixPQUFPLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxHQUFHLGtCQUFrQixDQUFDO2dCQUNyRCxzQkFBc0I7Z0JBQ3RCLGFBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBQyxhQUFhLENBQUMsQ0FBQztnQkFDeEMscUJBQXFCO2dCQUNyQixhQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUMsd0NBQXdDLENBQUMsQ0FBQztnQkFDeEYseUJBQXlCO2dCQUN6QixhQUFJLENBQUMsS0FBSyxDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUMsNERBQTRELENBQUMsQ0FBQztnQkFDdkgsSUFBTSxJQUFJLEdBQUcsS0FBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3ZDLElBQU0sQ0FBQyxHQUFHO29CQUNOLE1BQU0sRUFBRSxPQUFPLENBQUMsTUFBTTtvQkFDdEIsR0FBRyxFQUFFLElBQUk7b0JBQ1QsT0FBTyxFQUFDLE9BQU8sQ0FBQyxPQUFPO29CQUN2QixpQkFBaUIsRUFBQyxVQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsTUFBTTt3QkFDcEMsRUFBRSxDQUFDLENBQUMsT0FBTyxJQUFJLEtBQUssV0FBVyxJQUFJLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDOzRCQUMvQyxNQUFNLENBQUM7d0JBQ1gsQ0FBQzt3QkFDRCxFQUFFLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUNyRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0NBQ3BCLE1BQU0sQ0FBQzs0QkFDWCxDQUFDOzRCQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQzt3QkFDeEMsQ0FBQzt3QkFDRCxNQUFNLENBQUMsSUFBSSxDQUFDO29CQUNoQixDQUFDO2lCQUNKLENBQUM7Z0JBQ0YsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUMxQixDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztnQkFDL0IsQ0FBQztnQkFDRCxJQUFJLENBQUMsQ0FBQztvQkFDRixDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztnQkFDN0IsQ0FBQztnQkFDRCxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsUUFBUTtvQkFDbkIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDM0IsQ0FBQyxFQUFFLFVBQVUsR0FBRztvQkFDWixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ2hCLENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQztZQUNELEtBQUssRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNSLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNoQixDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFUCxDQUFDO0lBRUwseUJBQUM7QUFBRCxDQUFDLENBdkV1QywwQkFBaUIsR0F1RXhEO0FBdkVZLGdEQUFrQiIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogTU9TVCBXZWIgRnJhbWV3b3JrIDIuMCBDb2RlbmFtZSBCbHVlc2hpZnRcbiAqIENvcHlyaWdodCAoYykgMjAxNywgVEhFTU9TVCBMUCBBbGwgcmlnaHRzIHJlc2VydmVkXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gQlNELTMtQ2xhdXNlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly90aGVtb3N0LmlvL2xpY2Vuc2VcbiAqL1xuaW1wb3J0IHtEYXRhU2VydmljZUV4ZWN1dGVPcHRpb25zLEFyZ3N9IGZyb20gXCJAdGhlbW9zdC9jbGllbnQvY29tbW9uXCI7XG5pbXBvcnQge0NsaWVudERhdGFTZXJ2aWNlLENsaWVudERhdGFDb250ZXh0fSBmcm9tIFwiQHRoZW1vc3QvY2xpZW50XCI7XG5cbmNvbnN0IFJFR19EQVRFVElNRV9JU08gPSAvXihcXGR7NH0pKD86LT9XKFxcZCspKD86LT8oXFxkKylEPyk/fCg/Oi0oXFxkKykpPy0oXFxkKykpKD86W1QgXShcXGQrKTooXFxkKykoPzo6KFxcZCspKD86XFwuKFxcZCspKT8pPyk/KD86WigtP1xcZCopKT8oWystXShcXGQrKTooXFxkKykpPyQvO1xuZnVuY3Rpb24gZGF0ZVBhcnNlcihrZXksIHZhbHVlKSB7XG4gICAgaWYgKCh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSAmJiBSRUdfREFURVRJTUVfSVNPLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJEYXRhQ29udGV4dCBleHRlbmRzIENsaWVudERhdGFDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihiYXNlOnN0cmluZywgaHR0cDphbnksIHE6YW55KSB7XG4gICAgICAgIHN1cGVyKG5ldyBBbmd1bGFyRGF0YVNlcnZpY2UoYmFzZSB8fCBcIi9cIiwgaHR0cCwgcSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJEYXRhU2VydmljZSBleHRlbmRzIENsaWVudERhdGFTZXJ2aWNlIHtcblxuICAgIHByaXZhdGUgaHR0cDtcbiAgICBwcml2YXRlIHE7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlXG4gICAgICogQHBhcmFtIHsqfSBodHRwXG4gICAgICogQHBhcmFtIHsqfSBxXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYmFzZTpzdHJpbmcsIGh0dHA6YW55LCBxOmFueSkge1xuICAgICAgICBzdXBlcihiYXNlKTtcbiAgICAgICAgdGhpcy5odHRwID0gaHR0cDtcbiAgICAgICAgdGhpcy5xID0gcTtcbiAgICB9XG5cbiAgICBleGVjdXRlKG9wdGlvbnM6RGF0YVNlcnZpY2VFeGVjdXRlT3B0aW9ucyk6UHJvbWlzZTxhbnk+IHtcblxuICAgICAgICBjb25zdCAkaHR0cCA9IHRoaXMuaHR0cDtcbiAgICAgICAgY29uc3QgJHEgPSB0aGlzLnE7XG4gICAgICAgIHJldHVybiAkcSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vb3B0aW9ucyBkZWZhdWx0c1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWV0aG9kID0gb3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIjtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmhlYWRlcnMgPSB7IC4uLnRoaXMuZ2V0SGVhZGVycygpLCAuLi5vcHRpb25zLmhlYWRlcnMgfTtcbiAgICAgICAgICAgICAgICAvL3NldCBjb250ZW50IHR5cGVcbiAgICAgICAgICAgICAgICBvcHRpb25zLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgICAgICAgICAgICAgICAvL3ZhbGlkYXRlIG9wdGlvbnMgVVJMXG4gICAgICAgICAgICAgICAgQXJncy5ub3ROdWxsKG9wdGlvbnMudXJsLFwiUmVxdWVzdCBVUkxcIik7XG4gICAgICAgICAgICAgICAgLy92YWxpZGF0ZSBVUkwgZm9ybWF0XG4gICAgICAgICAgICAgICAgQXJncy5jaGVjayghL15odHRwcz86XFwvXFwvL2kudGVzdChvcHRpb25zLnVybCksXCJSZXF1ZXN0IFVSTCBtYXkgbm90IGJlIGFuIGFic29sdXRlIFVSSVwiKTtcbiAgICAgICAgICAgICAgICAvL3ZhbGlkYXRlIHJlcXVlc3QgbWV0aG9kXG4gICAgICAgICAgICAgICAgQXJncy5jaGVjaygvXkdFVHxQT1NUfFBVVHxERUxFVEUkL2kudGVzdChvcHRpb25zLm1ldGhvZCksXCJJbnZhbGlkIHJlcXVlc3QgbWV0aG9kLiBFeHBlY3RlZCBHRVQsIFBPU1QsIFBVVCBvciBERUxFVEUuXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybF8gPSB0aGlzLnJlc29sdmUob3B0aW9ucy51cmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG8gPSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogb3B0aW9ucy5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIHVybDogdXJsXyxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczpvcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlOihkYXRhLCBoZWFkZXJzLCBzdGF0dXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3VuZGVmaW5lZCcgfHwgZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXmFwcGxpY2F0aW9uXFwvanNvbi8udGVzdChoZWFkZXJzKFwiQ29udGVudC1UeXBlXCIpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEsIGRhdGVQYXJzZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICgvXkdFVCQvaS50ZXN0KG8ubWV0aG9kKSkge1xuICAgICAgICAgICAgICAgICAgICBvW1wicGFyYW1zXCJdID0gb3B0aW9ucy5kYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb1tcImRhdGFcIl0gPSBvcHRpb25zLmRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRodHRwKG8pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoKGVycikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH1cblxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL21vZHVsZXMvQHRoZW1vc3QvYW5ndWxhcmpzL2NsaWVudC50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n')},function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * @license\n * MOST Web Framework 2.0 Codename Blueshift\n * Copyright (c) 2017, THEMOST LP All rights reserved\n *\n * Use of this source code is governed by an BSD-3-Clause license that can be\n * found in the LICENSE file at https://themost.io/license\n */\nObject.defineProperty(exports, "__esModule", { value: true });\nvar common_1 = __webpack_require__(1);\nvar ClientQueryExpression = /** @class */ (function () {\n    function ClientQueryExpression() {\n    }\n    return ClientQueryExpression;\n}());\nvar ClientDataQueryable = /** @class */ (function () {\n    function ClientDataQueryable(model, service) {\n        common_1.Args.notEmpty(model, "Model");\n        this.model_ = model;\n        common_1.Args.notNull(service, "Data Service");\n        this.service_ = service;\n        this.url_ = common_1.TextUtils.format("%s/index.json", this.model_);\n        //init params\n        this.params_ = {};\n        //init privates\n        this.privates_ = new ClientQueryExpression();\n    }\n    /**\n     * @returns {ClientDataServiceBase}\n     */\n    ClientDataQueryable.prototype.getService = function () {\n        return this.service_;\n    };\n    /**\n     * @returns {DataServiceQueryParams}\n     */\n    ClientDataQueryable.prototype.getParams = function () {\n        return this.params_;\n    };\n    /**\n     * @returns {ClientDataQueryable}\n     */\n    ClientDataQueryable.prototype.setParam = function (name, value) {\n        if (/^\\$/.test(name)) {\n            this.params_[name] = value;\n        }\n        else {\n            this.params_["$" + name] = value;\n        }\n        return this;\n    };\n    /**\n     * Gets a string which represents the name of the data model associated with this object.\n     * @returns {string}\n     */\n    ClientDataQueryable.prototype.getModel = function () {\n        return this.model_;\n    };\n    /**\n     * Gets a string which represents the relative URL associated with this object.\n     * @returns {string}\n     */\n    ClientDataQueryable.prototype.getUrl = function () {\n        return this.url_;\n    };\n    /**\n     * Sets the relative URL associated with this object.\n     * @param value - A string which represents a relative URI.\n     */\n    ClientDataQueryable.prototype.setUrl = function (value) {\n        common_1.Args.notEmpty(value, "URL");\n        common_1.Args.check(!common_1.TextUtils.isAbsoluteURI(value), "URL must be a relative URI");\n        this.url_ = value;\n    };\n    ClientDataQueryable.create = function (model, service) {\n        return new ClientDataQueryable(model, service);\n    };\n    ClientDataQueryable.prototype.append_ = function () {\n        common_1.Args.notNull(this.privates_.left, "Left operand");\n        common_1.Args.notNull(this.privates_.op, "Comparison operator");\n        var expr;\n        if (Array.isArray(this.privates_.right)) {\n            common_1.Args.check((this.privates_.op === "eq") || (this.privates_.op === "ne"), "Wrong operator. Expected equal or not equal");\n            common_1.Args.check(this.privates_.right.length > 0, "Array may not be empty");\n            var arr = this.privates_.right.map(function (x) {\n                return this.privates_.left + " " + this.privates_.op + " " + this.escape_(x);\n            });\n            if (this.privates_.op === "eq") {\n                expr = "(" + arr.join(" or ") + ")";\n            }\n            else {\n                expr = "(" + arr.join(" or ") + ")";\n            }\n        }\n        else {\n            expr = this.privates_.left + " " + this.privates_.op + " " + this.escape_(this.privates_.right);\n        }\n        this.privates_.lop = this.privates_.lop || "and";\n        if (common_1.TextUtils.isNotEmptyString(this.params_.$filter)) {\n            this.params_.$filter = this.params_.$filter + " " + this.privates_.lop + " " + expr;\n        }\n        else {\n            this.params_.$filter = expr;\n        }\n        //clear object\n        this.privates_.left = null;\n        this.privates_.op = null;\n        this.privates_.right = null;\n        return this;\n    };\n    ClientDataQueryable.prototype.escape_ = function (val) {\n        if ((val == null) || (val == undefined)) {\n            return "null";\n        }\n        if (typeof val === \'boolean\') {\n            return (val) ? "true" : "false";\n        }\n        if (typeof val === \'number\') {\n            return val + "";\n        }\n        if (val instanceof Date) {\n            var dt = new Date(val);\n            var year = dt.getFullYear();\n            var month = common_1.TextUtils.zeroPad(dt.getMonth() + 1, 2);\n            var day = common_1.TextUtils.zeroPad(dt.getDate(), 2);\n            var hour = common_1.TextUtils.zeroPad(dt.getHours(), 2);\n            var minute = common_1.TextUtils.zeroPad(dt.getMinutes(), 2);\n            var second = common_1.TextUtils.zeroPad(dt.getSeconds(), 2);\n            var millisecond = common_1.TextUtils.zeroPad(dt.getMilliseconds(), 3);\n            //format timezone\n            var offset = (new Date()).getTimezoneOffset(), timezone = (offset >= 0 ? \'+\' : \'\') + common_1.TextUtils.zeroPad(Math.floor(offset / 60), 2) + \':\' + common_1.TextUtils.zeroPad(offset % 60, 2);\n            return "\'" + year + \'-\' + month + \'-\' + day + \' \' + hour + \':\' + minute + \':\' + second + \'.\' + millisecond + timezone + "\'";\n        }\n        if (val instanceof Array) {\n            var values_1 = [];\n            val.forEach(function (x) {\n                values_1.push(this.escape_(x));\n            });\n            return values_1.join(\',\');\n        }\n        if (typeof val === "string") {\n            var res = val.replace(/[\\0\\n\\r\\b\\t\\\\\'"\\x1a]/g, function (s) {\n                switch (s) {\n                    case "\\0": return "\\\\0";\n                    case "\\n": return "\\\\n";\n                    case "\\r": return "\\\\r";\n                    case "\\b": return "\\\\b";\n                    case "\\t": return "\\\\t";\n                    case "\\x1a": return "\\\\Z";\n                    default: return "\\\\" + s;\n                }\n            });\n            return "\'" + res + "\'";\n        }\n        //otherwise get valueOf\n        if (val.hasOwnProperty("$name"))\n            return val["$name"];\n        else\n            return this.escape_(val.valueOf());\n    };\n    ClientDataQueryable.prototype.where = function (name) {\n        common_1.Args.notEmpty(name, "Left operand");\n        this.privates_.left = name;\n        return this;\n    };\n    ClientDataQueryable.prototype.and = function (name) {\n        common_1.Args.notEmpty(name, "Left operand");\n        this.privates_.left = name;\n        this.privates_.lop = "and";\n        return this;\n    };\n    ClientDataQueryable.prototype.andAlso = function (name) {\n        common_1.Args.notEmpty(name, "Left operand");\n        this.privates_.left = name;\n        this.privates_.lop = "and";\n        if (!common_1.TextUtils.isNullOrUndefined(this.params_.$filter)) {\n            this.params_.$filter = "(" + this.params_.$filter + ")";\n        }\n        return this;\n    };\n    ClientDataQueryable.prototype.or = function (name) {\n        common_1.Args.notEmpty(name, "Left operand");\n        this.privates_.left = name;\n        this.privates_.lop = "or";\n        return this;\n    };\n    ClientDataQueryable.prototype.orElse = function (name) {\n        common_1.Args.notEmpty(name, "Left operand");\n        this.privates_.left = name;\n        this.privates_.lop = "or";\n        if (!common_1.TextUtils.isNullOrUndefined(this.params_.$filter)) {\n            this.params_.$filter = "(" + this.params_.$filter + ")";\n        }\n        return this;\n    };\n    ClientDataQueryable.prototype.compare_ = function (op, value) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        this.privates_.op = op;\n        this.privates_.right = value;\n        return this.append_();\n    };\n    ClientDataQueryable.prototype.equal = function (value) {\n        return this.compare_("eq", value);\n    };\n    ClientDataQueryable.prototype.notEqual = function (value) {\n        return this.compare_("ne", value);\n    };\n    ClientDataQueryable.prototype.greaterThan = function (value) {\n        return this.compare_("gt", value);\n    };\n    ClientDataQueryable.prototype.greaterOrEqual = function (value) {\n        return this.compare_("ge", value);\n    };\n    ClientDataQueryable.prototype.lowerThan = function (value) {\n        return this.compare_("lt", value);\n    };\n    ClientDataQueryable.prototype.lowerOrEqual = function (value) {\n        return this.compare_("le", value);\n    };\n    /**\n     * @param {*} value1\n     * @param {*} value2\n     * @returns {ClientDataQueryable}\n     */\n    ClientDataQueryable.prototype.between = function (value1, value2) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        //generate new filter\n        var s = ClientDataQueryable.create(this.getModel())\n            .where(this.privates_.left).greaterOrEqual(value1)\n            .and(this.privates_.left).lowerOrEqual(value2).toFilter();\n        this.privates_.lop = this.privates_.lop || "and";\n        if (this.params_.$filter) {\n            this.params_.$filter = "(" + this.params_.$filter + ") " + this.privates_.lop + " (" + s + ")";\n        }\n        else {\n            this.params_.$filter = "(" + s + ")";\n        }\n        //clear object\n        this.privates_.left = null;\n        this.privates_.op = null;\n        this.privates_.right = null;\n        this.privates_.lop = null;\n        return this;\n    };\n    ClientDataQueryable.prototype.toFilter = function () {\n        return this.params_.$filter;\n    };\n    ClientDataQueryable.prototype.contains = function (value) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        this.privates_.op = \'ge\';\n        this.privates_.left = common_1.TextUtils.format(\'indexof(%s,%s)\', this.privates_.left, this.escape_(value));\n        this.privates_.right = 0;\n        return this.append_();\n    };\n    ClientDataQueryable.prototype.aggregate_ = function (fn) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        this.privates_.left = common_1.TextUtils.format(\'%s(%s)\', fn, this.privates_.left);\n        return this;\n    };\n    ClientDataQueryable.prototype.getDate = function () {\n        return this.aggregate_("date");\n    };\n    ClientDataQueryable.prototype.getDay = function () {\n        return this.aggregate_("day");\n    };\n    ClientDataQueryable.prototype.getMonth = function () {\n        return this.aggregate_("month");\n    };\n    ClientDataQueryable.prototype.getYear = function () {\n        return this.aggregate_("year");\n    };\n    ClientDataQueryable.prototype.getFullYear = function () {\n        return this.aggregate_("year");\n    };\n    ClientDataQueryable.prototype.getHours = function () {\n        return this.aggregate_("hour");\n    };\n    ClientDataQueryable.prototype.getMinutes = function () {\n        return this.aggregate_("minute");\n    };\n    ClientDataQueryable.prototype.getSeconds = function () {\n        return this.aggregate_("second");\n    };\n    ClientDataQueryable.prototype.length = function () {\n        return this.aggregate_("length");\n    };\n    ClientDataQueryable.prototype.trim = function () {\n        return this.aggregate_("trim");\n    };\n    ClientDataQueryable.prototype.toLocaleLowerCase = function () {\n        return this.aggregate_("tolower");\n    };\n    ClientDataQueryable.prototype.toLowerCase = function () {\n        return this.aggregate_("tolower");\n    };\n    ClientDataQueryable.prototype.toLocaleUpperCase = function () {\n        return this.aggregate_("toupper");\n    };\n    ClientDataQueryable.prototype.toUpperCase = function () {\n        return this.aggregate_("toupper");\n    };\n    ClientDataQueryable.prototype.round = function () {\n        return this.aggregate_("round");\n    };\n    ClientDataQueryable.prototype.floor = function () {\n        return this.aggregate_("floor");\n    };\n    ClientDataQueryable.prototype.ceil = function () {\n        return this.aggregate_("ceiling");\n    };\n    ClientDataQueryable.prototype.indexOf = function (s) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        this.privates_.left = common_1.TextUtils.format(\'indexof(%s,%s)\', this.privates_.left, this.escape_(s));\n        return this;\n    };\n    ClientDataQueryable.prototype.substr = function (pos, length) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        this.privates_.left = common_1.TextUtils.format(\'substring(%s,%s,%s)\', this.privates_.left, pos, length);\n        return this;\n    };\n    ClientDataQueryable.prototype.startsWith = function (s) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        this.privates_.left = common_1.TextUtils.format(\'startswith(%s,%s)\', this.privates_.left, this.escape_(s));\n        return this;\n    };\n    ClientDataQueryable.prototype.endsWith = function (s) {\n        common_1.Args.notNull(this.privates_.left, "The left operand");\n        this.privates_.left = common_1.TextUtils.format(\'endswith(%s,%s)\', this.privates_.left, this.escape_(s));\n        return this;\n    };\n    ClientDataQueryable.prototype.select = function () {\n        var attr = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            attr[_i] = arguments[_i];\n        }\n        common_1.Args.notNull(attr, "Attributes");\n        common_1.Args.check(attr.length > 0, "Attributes may not be empty");\n        var arr = [];\n        for (var i = 0; i < attr.length; i++) {\n            common_1.Args.check(typeof attr[i] === "string", "Invalid attribute. Expected string.");\n            arr.push(attr[i]);\n        }\n        this.params_.$select = arr.join(",");\n        return this;\n    };\n    ClientDataQueryable.prototype.groupBy = function () {\n        var attr = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            attr[_i] = arguments[_i];\n        }\n        common_1.Args.notNull(attr, "Attributes");\n        common_1.Args.check(attr.length > 0, "Attributes may not be empty");\n        var arr = [];\n        for (var i = 0; i < attr.length; i++) {\n            common_1.Args.check(typeof attr[i] === "string", "Invalid attribute. Expected string.");\n            arr.push(attr[i]);\n        }\n        this.params_.$groupby = arr.join(",");\n        return this;\n    };\n    ClientDataQueryable.prototype.expand = function () {\n        var attr = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            attr[_i] = arguments[_i];\n        }\n        common_1.Args.notNull(attr, "Attributes");\n        common_1.Args.check(attr.length > 0, "Attributes may not be empty");\n        var arr = [];\n        for (var i = 0; i < attr.length; i++) {\n            common_1.Args.check(typeof attr[i] === "string", "Invalid attribute. Expected string.");\n            arr.push(attr[i]);\n        }\n        this.params_.$expand = arr.join(",");\n        return this;\n    };\n    ClientDataQueryable.prototype.orderBy = function (attr) {\n        common_1.Args.notEmpty(attr, "Order by attribute");\n        this.params_.$orderby = attr.toString();\n        return this;\n    };\n    ClientDataQueryable.prototype.thenBy = function (attr) {\n        common_1.Args.notEmpty(attr, "Order by attribute");\n        this.params_.$orderby += (this.params_.$orderby ? \',\' + attr.toString() : attr.toString());\n        return this;\n    };\n    ClientDataQueryable.prototype.orderByDescending = function (attr) {\n        common_1.Args.notEmpty(attr, "Order by attribute");\n        this.params_.$orderby = attr.toString() + " desc";\n        return this;\n    };\n    ClientDataQueryable.prototype.thenByDescending = function (attr) {\n        common_1.Args.notEmpty(attr, "Order by attribute");\n        this.params_.$orderby += (this.params_.$orderby ? \',\' + attr.toString() : attr.toString()) + " desc";\n        return this;\n    };\n    ClientDataQueryable.prototype.skip = function (num) {\n        this.params_.$skip = num;\n        return this;\n    };\n    ClientDataQueryable.prototype.take = function (num) {\n        this.params_.$top = num;\n        return this;\n    };\n    ClientDataQueryable.prototype.first = function () {\n        delete this.params_.$top;\n        delete this.params_.$skip;\n        delete this.params_.$count;\n        this.params_.$first = true;\n        return this.getService().execute({\n            method: "GET",\n            url: this.getUrl(),\n            data: this.params_,\n            headers: []\n        });\n    };\n    ClientDataQueryable.prototype.list = function () {\n        delete this.params_.$first;\n        this.params_.$count = true;\n        return this.getService().execute({\n            method: "GET",\n            url: this.getUrl(),\n            data: this.params_,\n            headers: {}\n        });\n    };\n    ClientDataQueryable.prototype.item = function () {\n        return this.first();\n    };\n    ClientDataQueryable.prototype.getItem = function () {\n        return this.first();\n    };\n    ClientDataQueryable.prototype.items = function () {\n        delete this.params_.$first;\n        this.params_.$count = false;\n        return this.getService().execute({\n            method: "GET",\n            url: this.getUrl(),\n            data: this.params_,\n            headers: {}\n        });\n    };\n    ClientDataQueryable.prototype.getItems = function () {\n        return this.items();\n    };\n    ClientDataQueryable.prototype.getList = function () {\n        return this.list();\n    };\n    ClientDataQueryable.prototype.filter = function (s) {\n        common_1.Args.notEmpty("s", "Filter expression");\n        this.params_.$filter = s;\n        return this;\n    };\n    ClientDataQueryable.prototype.levels = function (n) {\n        common_1.Args.Positive(n, \'Levels\');\n        this.params_.$levels = n;\n        return this;\n    };\n    return ClientDataQueryable;\n}());\nexports.ClientDataQueryable = ClientDataQueryable;\nvar ClientDataModel = /** @class */ (function () {\n    function ClientDataModel(name, service) {\n        var _this = this;\n        this.name_ = name;\n        this.service_ = service;\n        this.hasNavigationLinkFunc = function () {\n            return common_1.TextUtils.format("%s/index.json", _this.getName());\n        };\n        this.hasReadLinkFunc = function (id) {\n            return common_1.TextUtils.format("%s/%s/index.json", _this.getName(), id);\n        };\n        this.hasEditLinkFunc = function (id) {\n            return common_1.TextUtils.format("%s/%s/index.json", _this.getName(), id);\n        };\n    }\n    ClientDataModel.prototype.hasNavigationLink = function (func) {\n        this.hasNavigationLinkFunc = func;\n    };\n    ClientDataModel.prototype.hasEditLink = function (func) {\n        this.hasEditLinkFunc = func;\n    };\n    ClientDataModel.prototype.hasReadLink = function (func) {\n        this.hasReadLinkFunc = func;\n    };\n    ClientDataModel.prototype.getNavigationLink = function () {\n        return this.hasNavigationLinkFunc();\n    };\n    ClientDataModel.prototype.getReadLink = function (id) {\n        return this.hasReadLinkFunc(id);\n    };\n    ClientDataModel.prototype.getEditLink = function (id) {\n        return this.hasEditLinkFunc(id);\n    };\n    /**\n     * @returns {ClientDataServiceBase}\n     */\n    ClientDataModel.prototype.getService = function () {\n        return this.service_;\n    };\n    ClientDataModel.prototype.getName = function () {\n        return this.name_;\n    };\n    ClientDataModel.prototype.asQueryable = function () {\n        return ClientDataQueryable.create(this.getName(), this.service_);\n    };\n    ClientDataModel.prototype.where = function (attr) {\n        return this.asQueryable().where(attr);\n    };\n    ClientDataModel.prototype.select = function () {\n        var attr = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            attr[_i] = arguments[_i];\n        }\n        var q = this.asQueryable();\n        return q.select.apply(q, attr);\n    };\n    ClientDataModel.prototype.skip = function (num) {\n        return this.asQueryable().skip(num);\n    };\n    ClientDataModel.prototype.take = function (num) {\n        return this.asQueryable().take(num);\n    };\n    ClientDataModel.prototype.save = function (obj) {\n        return this.getService().execute({\n            method: "POST",\n            url: common_1.TextUtils.format("%s/index.json", this.getName()),\n            data: obj,\n            headers: {}\n        });\n    };\n    ClientDataModel.prototype.schema = function () {\n        return this.getService().execute({ method: "GET",\n            url: common_1.TextUtils.format("%s/schema.json", this.getName()),\n            data: null,\n            headers: {}\n        });\n    };\n    ClientDataModel.prototype.remove = function (obj) {\n        return this.getService().execute({ method: "DELETE",\n            url: common_1.TextUtils.format("%s/index.json", this.getName()),\n            data: obj,\n            headers: {}\n        });\n    };\n    ClientDataModel.prototype.levels = function (n) {\n        common_1.Args.Positive(n, \'Levels\');\n        return this.asQueryable().levels(n);\n    };\n    return ClientDataModel;\n}());\nexports.ClientDataModel = ClientDataModel;\nvar ClientDataContext = /** @class */ (function () {\n    function ClientDataContext(service) {\n        this.service_ = service;\n    }\n    ClientDataContext.prototype.setBasicAuthorization = function (username, password) {\n        this.getService().setHeader("Authorization", "Basic " + common_1.TextUtils.toBase64(username + ":" + password));\n        return this;\n    };\n    ClientDataContext.prototype.setBearerAuthorization = function (access_token) {\n        this.getService().setHeader("Authorization", "Bearer " + access_token);\n        return this;\n    };\n    /**\n     * Gets a string which represents the base URL of the MOST Web Application Server.\n     * @returns {string}\n     */\n    ClientDataContext.prototype.getBase = function () {\n        return this.base_;\n    };\n    /**\n     * Sets a string which represents the base URL of the MOST Web Application Server.\n     */\n    ClientDataContext.prototype.setBase = function (value) {\n        common_1.Args.notEmpty(value, "Base URL");\n        this.base_ = value;\n        return this;\n    };\n    /**\n     * Gets the instance of ClientDataService class which is associated with this data context.\n     * @returns {ClientDataServiceBase}\n     */\n    ClientDataContext.prototype.getService = function () {\n        return this.service_;\n    };\n    /**\n     * Gets an instance of ClientDataModel class\n     * @param name - A string which represents the name of the data model.\n     * @returns {ClientDataModel}\n     */\n    ClientDataContext.prototype.model = function (name) {\n        common_1.Args.notEmpty(name, "Model name");\n        return new ClientDataModel(name, this.getService());\n    };\n    return ClientDataContext;\n}());\nexports.ClientDataContext = ClientDataContext;\nvar ClientDataService = /** @class */ (function () {\n    function ClientDataService(base) {\n        this.headers_ = {};\n        if (typeof base === \'undefined\' || base == null) {\n            this.base_ = "/";\n        }\n        else {\n            this.base_ = base;\n            if (!/\\/$/.test(this.base_)) {\n                this.base_ += "/";\n            }\n        }\n    }\n    ClientDataService.prototype.setHeader = function (name, value) {\n        this.headers_[name] = value;\n    };\n    ClientDataService.prototype.getHeaders = function () {\n        return this.headers_;\n    };\n    ClientDataService.prototype.getBase = function () {\n        return this.base_;\n    };\n    ClientDataService.prototype.resolve = function (relative) {\n        if (typeof relative === \'string\' && relative.length > 0) {\n            if (/^\\//.test(relative))\n                return this.getBase() + relative.substr(1);\n            else\n                return this.getBase() + relative;\n        }\n        throw new Error("Invalid argument. Expected a not empty string.");\n    };\n    ClientDataService.prototype.execute = function (options) {\n        throw new Error("Method not implemented.");\n    };\n    return ClientDataService;\n}());\nexports.ClientDataService = ClientDataService;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2R1bGVzL0B0aGVtb3N0L2NsaWVudC9pbmRleC50cz84ZWFmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7OztHQU9HOztBQUVILHNDQUF5STtBQUV6STtJQUFBO0lBS0EsQ0FBQztJQUFELDRCQUFDO0FBQUQsQ0FBQztBQUVEO0lBUUksNkJBQVksS0FBWSxFQUFFLE9BQThCO1FBQ3BELGFBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLGFBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLGNBQWMsQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxJQUFJLEdBQUcsa0JBQVMsQ0FBQyxNQUFNLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzRCxhQUFhO1FBQ2IsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFHLENBQUM7UUFDbkIsZUFBZTtRQUNmLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxxQkFBcUIsRUFBRSxDQUFDO0lBQ2pELENBQUM7SUFFRDs7T0FFRztJQUNILHdDQUFVLEdBQVY7UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN6QixDQUFDO0lBRUQ7O09BRUc7SUFDSCx1Q0FBUyxHQUFUO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDeEIsQ0FBQztJQUVEOztPQUVHO0lBQ0gsc0NBQVEsR0FBUixVQUFTLElBQVcsRUFBRSxLQUFTO1FBQzNCLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25CLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO1FBQy9CLENBQUM7UUFD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VUFBUSxRQUFnQjtRQUNwQixFQUFFLENBQUMsQ0FBQyxPQUFPLFFBQVEsS0FBSyxRQUFRLElBQUksUUFBUSxDQUFDLE1BQU0sR0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3JCLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMvQyxJQUFJO2dCQUNBLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsUUFBUSxDQUFDO1FBQ3pDLENBQUM7UUFDRCxNQUFPLElBQUksS0FBSyxDQUFDLGdEQUFnRCxDQUFDLENBQUM7SUFDdkUsQ0FBQztJQUdELG1DQUFPLEdBQVAsVUFBUSxPQUFrQztRQUN0QyxNQUFNLElBQUksS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVMLHdCQUFDO0FBQUQsQ0FBQztBQS9DWSw4Q0FBaUIiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIE1PU1QgV2ViIEZyYW1ld29yayAyLjAgQ29kZW5hbWUgQmx1ZXNoaWZ0XG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcsIFRIRU1PU1QgTFAgQWxsIHJpZ2h0cyByZXNlcnZlZFxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIEJTRC0zLUNsYXVzZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vdGhlbW9zdC5pby9saWNlbnNlXG4gKi9cblxuaW1wb3J0IHtDbGllbnREYXRhU2VydmljZUJhc2UsIENsaWVudERhdGFDb250ZXh0QmFzZSwgVGV4dFV0aWxzLCBEYXRhU2VydmljZVF1ZXJ5UGFyYW1zLCBEYXRhU2VydmljZUV4ZWN1dGVPcHRpb25zLEFyZ3N9IGZyb20gJy4vY29tbW9uJztcblxuY2xhc3MgQ2xpZW50UXVlcnlFeHByZXNzaW9uIHtcbiAgICBwdWJsaWMgbGVmdDphbnk7XG4gICAgcHVibGljIG9wOnN0cmluZztcbiAgICBwdWJsaWMgbG9wOnN0cmluZztcbiAgICBwdWJsaWMgcmlnaHQ6YW55O1xufVxuXG5leHBvcnQgY2xhc3MgQ2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG5cbiAgICBwcml2YXRlIG1vZGVsXzpzdHJpbmc7XG4gICAgcHJpdmF0ZSB1cmxfOnN0cmluZztcbiAgICBwcml2YXRlIHNlcnZpY2VfOkNsaWVudERhdGFTZXJ2aWNlQmFzZTtcbiAgICBwcml2YXRlIHBhcmFtc186YW55O1xuICAgIHByaXZhdGUgcHJpdmF0ZXNfOkNsaWVudFF1ZXJ5RXhwcmVzc2lvbjtcblxuICAgIGNvbnN0cnVjdG9yKG1vZGVsOnN0cmluZywgc2VydmljZTogQ2xpZW50RGF0YVNlcnZpY2VCYXNlKSB7XG4gICAgICAgIEFyZ3Mubm90RW1wdHkobW9kZWwsIFwiTW9kZWxcIik7XG4gICAgICAgIHRoaXMubW9kZWxfID0gbW9kZWw7XG4gICAgICAgIEFyZ3Mubm90TnVsbChzZXJ2aWNlLCBcIkRhdGEgU2VydmljZVwiKTtcbiAgICAgICAgdGhpcy5zZXJ2aWNlXyA9IHNlcnZpY2U7XG4gICAgICAgIHRoaXMudXJsXyA9IFRleHRVdGlscy5mb3JtYXQoXCIlcy9pbmRleC5qc29uXCIsIHRoaXMubW9kZWxfKTtcbiAgICAgICAgLy9pbml0IHBhcmFtc1xuICAgICAgICB0aGlzLnBhcmFtc18gPSB7IH07XG4gICAgICAgIC8vaW5pdCBwcml2YXRlc1xuICAgICAgICB0aGlzLnByaXZhdGVzXyA9IG5ldyBDbGllbnRRdWVyeUV4cHJlc3Npb24oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Q2xpZW50RGF0YVNlcnZpY2VCYXNlfVxuICAgICAqL1xuICAgIGdldFNlcnZpY2UoKTogQ2xpZW50RGF0YVNlcnZpY2VCYXNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZV87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0RhdGFTZXJ2aWNlUXVlcnlQYXJhbXN9XG4gICAgICovXG4gICAgZ2V0UGFyYW1zKCk6IERhdGFTZXJ2aWNlUXVlcnlQYXJhbXMge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXNfO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtDbGllbnREYXRhUXVlcnlhYmxlfVxuICAgICAqL1xuICAgIHNldFBhcmFtKG5hbWU6c3RyaW5nLCB2YWx1ZTphbnkpOiBDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgaWYgKC9eXFwkLy50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtc19bbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zX1tcIiRcIiArIG5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHN0cmluZyB3aGljaCByZXByZXNlbnRzIHRoZSBuYW1lIG9mIHRoZSBkYXRhIG1vZGVsIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldE1vZGVsKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsXztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgc3RyaW5nIHdoaWNoIHJlcHJlc2VudHMgdGhlIHJlbGF0aXZlIFVSTCBhc3NvY2lhdGVkIHdpdGggdGhpcyBvYmplY3QuXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRVcmwoKTpzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy51cmxfO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHJlbGF0aXZlIFVSTCBhc3NvY2lhdGVkIHdpdGggdGhpcyBvYmplY3QuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gQSBzdHJpbmcgd2hpY2ggcmVwcmVzZW50cyBhIHJlbGF0aXZlIFVSSS5cbiAgICAgKi9cbiAgICBzZXRVcmwodmFsdWU6c3RyaW5nKSB7XG4gICAgICAgIEFyZ3Mubm90RW1wdHkodmFsdWUsXCJVUkxcIik7XG4gICAgICAgIEFyZ3MuY2hlY2soIVRleHRVdGlscy5pc0Fic29sdXRlVVJJKHZhbHVlKSwgXCJVUkwgbXVzdCBiZSBhIHJlbGF0aXZlIFVSSVwiKTtcbiAgICAgICAgdGhpcy51cmxfID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZShtb2RlbDpzdHJpbmcsIHNlcnZpY2U/OiBDbGllbnREYXRhU2VydmljZUJhc2UpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gbmV3IENsaWVudERhdGFRdWVyeWFibGUobW9kZWwsIHNlcnZpY2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXBwZW5kXygpIHtcbiAgICAgICAgQXJncy5ub3ROdWxsKHRoaXMucHJpdmF0ZXNfLmxlZnQsXCJMZWZ0IG9wZXJhbmRcIik7XG4gICAgICAgIEFyZ3Mubm90TnVsbCh0aGlzLnByaXZhdGVzXy5vcCxcIkNvbXBhcmlzb24gb3BlcmF0b3JcIik7XG4gICAgICAgIGxldCBleHByO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnByaXZhdGVzXy5yaWdodCkpIHtcbiAgICAgICAgICAgIEFyZ3MuY2hlY2soKHRoaXMucHJpdmF0ZXNfLm9wPT09XCJlcVwiKSB8fCAodGhpcy5wcml2YXRlc18ub3A9PT1cIm5lXCIpLFwiV3Jvbmcgb3BlcmF0b3IuIEV4cGVjdGVkIGVxdWFsIG9yIG5vdCBlcXVhbFwiKTtcbiAgICAgICAgICAgIEFyZ3MuY2hlY2sodGhpcy5wcml2YXRlc18ucmlnaHQubGVuZ3RoPjAsXCJBcnJheSBtYXkgbm90IGJlIGVtcHR5XCIpO1xuICAgICAgICAgICAgY29uc3QgYXJyID0gdGhpcy5wcml2YXRlc18ucmlnaHQubWFwKGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcml2YXRlc18ubGVmdCArIFwiIFwiICsgdGhpcy5wcml2YXRlc18ub3AgKyBcIiBcIiArIHRoaXMuZXNjYXBlXyh4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJpdmF0ZXNfLm9wID09PSBcImVxXCIpIHtcbiAgICAgICAgICAgICAgICBleHByID0gXCIoXCIgKyBhcnIuam9pbihcIiBvciBcIikgKyBcIilcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4cHIgPSBcIihcIiArIGFyci5qb2luKFwiIG9yIFwiKSArIFwiKVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXhwciA9IHRoaXMucHJpdmF0ZXNfLmxlZnQgKyBcIiBcIiArIHRoaXMucHJpdmF0ZXNfLm9wICsgXCIgXCIgKyB0aGlzLmVzY2FwZV8odGhpcy5wcml2YXRlc18ucmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxvcCA9IHRoaXMucHJpdmF0ZXNfLmxvcCB8fCBcImFuZFwiO1xuICAgICAgICBpZiAoVGV4dFV0aWxzLmlzTm90RW1wdHlTdHJpbmcodGhpcy5wYXJhbXNfLiRmaWx0ZXIpKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtc18uJGZpbHRlciA9IHRoaXMucGFyYW1zXy4kZmlsdGVyICsgXCIgXCIgKyB0aGlzLnByaXZhdGVzXy5sb3AgKyBcIiBcIiArIGV4cHI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtc18uJGZpbHRlciA9IGV4cHI7XG4gICAgICAgIH1cbiAgICAgICAgLy9jbGVhciBvYmplY3RcbiAgICAgICAgdGhpcy5wcml2YXRlc18ubGVmdCA9IG51bGw7IHRoaXMucHJpdmF0ZXNfLm9wID0gbnVsbDsgdGhpcy5wcml2YXRlc18ucmlnaHQgPSBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cblxuXG4gICAgcHJpdmF0ZSBlc2NhcGVfKHZhbDphbnkpIHtcbiAgICAgICAgaWYgKCh2YWwgPT0gbnVsbCkgfHwgKHZhbD09dW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHJldHVybiAodmFsKSA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbCtcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBkdCA9IG5ldyBEYXRlKHZhbCk7XG4gICAgICAgICAgICBjb25zdCB5ZWFyICAgPSBkdC5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgY29uc3QgbW9udGggID0gVGV4dFV0aWxzLnplcm9QYWQoZHQuZ2V0TW9udGgoKSArIDEsIDIpO1xuICAgICAgICAgICAgY29uc3QgZGF5ICAgID0gVGV4dFV0aWxzLnplcm9QYWQoZHQuZ2V0RGF0ZSgpLCAyKTtcbiAgICAgICAgICAgIGNvbnN0IGhvdXIgICA9IFRleHRVdGlscy56ZXJvUGFkKGR0LmdldEhvdXJzKCksIDIpO1xuICAgICAgICAgICAgY29uc3QgbWludXRlID0gVGV4dFV0aWxzLnplcm9QYWQoZHQuZ2V0TWludXRlcygpLCAyKTtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZCA9IFRleHRVdGlscy56ZXJvUGFkKGR0LmdldFNlY29uZHMoKSwgMik7XG4gICAgICAgICAgICBjb25zdCBtaWxsaXNlY29uZCA9IFRleHRVdGlscy56ZXJvUGFkKGR0LmdldE1pbGxpc2Vjb25kcygpLCAzKTtcbiAgICAgICAgICAgIC8vZm9ybWF0IHRpbWV6b25lXG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSAobmV3IERhdGUoKSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxcbiAgICAgICAgICAgICAgICB0aW1lem9uZSA9IChvZmZzZXQ+PTAgPyAnKycgOiAnJykgKyBUZXh0VXRpbHMuemVyb1BhZChNYXRoLmZsb29yKG9mZnNldC82MCksMikgKyAnOicgKyBUZXh0VXRpbHMuemVyb1BhZChvZmZzZXQlNjAsMik7XG4gICAgICAgICAgICByZXR1cm4gXCInXCIgKyB5ZWFyICsgJy0nICsgbW9udGggKyAnLScgKyBkYXkgKyAnICcgKyBob3VyICsgJzonICsgbWludXRlICsgJzonICsgc2Vjb25kICsgJy4nICsgbWlsbGlzZWNvbmQgKyB0aW1lem9uZSArIFwiJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgICAgICAgICB2YWwuZm9yRWFjaChmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2godGhpcy5lc2NhcGVfKHgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5qb2luKCcsJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHZhbC5yZXBsYWNlKC9bXFwwXFxuXFxyXFxiXFx0XFxcXCdcIlxceDFhXS9nLCBmdW5jdGlvbihzKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlxcMFwiOiByZXR1cm4gXCJcXFxcMFwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiXFxuXCI6IHJldHVybiBcIlxcXFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJcXHJcIjogcmV0dXJuIFwiXFxcXHJcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlxcYlwiOiByZXR1cm4gXCJcXFxcYlwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiXFx0XCI6IHJldHVybiBcIlxcXFx0XCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJcXHgxYVwiOiByZXR1cm4gXCJcXFxcWlwiO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gXCJcXFxcXCIrcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBcIidcIiArIHJlcyArIFwiJ1wiO1xuICAgICAgICB9XG4gICAgICAgIC8vb3RoZXJ3aXNlIGdldCB2YWx1ZU9mXG4gICAgICAgIGlmICh2YWwuaGFzT3duUHJvcGVydHkoXCIkbmFtZVwiKSlcbiAgICAgICAgICAgIHJldHVybiB2YWxbXCIkbmFtZVwiXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXNjYXBlXyh2YWwudmFsdWVPZigpKTtcbiAgICB9XG5cbiAgICB3aGVyZShuYW1lOnN0cmluZyk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIEFyZ3Mubm90RW1wdHkobmFtZSxcIkxlZnQgb3BlcmFuZFwiKTtcbiAgICAgICAgdGhpcy5wcml2YXRlc18ubGVmdCA9IG5hbWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFuZChuYW1lOnN0cmluZyk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIEFyZ3Mubm90RW1wdHkobmFtZSxcIkxlZnQgb3BlcmFuZFwiKTtcbiAgICAgICAgdGhpcy5wcml2YXRlc18ubGVmdCA9IG5hbWU7XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxvcCA9IFwiYW5kXCI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFuZEFsc28obmFtZTpzdHJpbmcpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdEVtcHR5KG5hbWUsXCJMZWZ0IG9wZXJhbmRcIik7XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxlZnQgPSBuYW1lO1xuICAgICAgICB0aGlzLnByaXZhdGVzXy5sb3AgPSBcImFuZFwiO1xuICAgICAgICBpZiAoIVRleHRVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLnBhcmFtc18uJGZpbHRlcikpIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zXy4kZmlsdGVyID0gXCIoXCIgKyB0aGlzLnBhcmFtc18uJGZpbHRlciArIFwiKVwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG9yKG5hbWU6c3RyaW5nKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5ub3RFbXB0eShuYW1lLFwiTGVmdCBvcGVyYW5kXCIpO1xuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gbmFtZTtcbiAgICAgICAgdGhpcy5wcml2YXRlc18ubG9wID0gXCJvclwiO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBvckVsc2UobmFtZTpzdHJpbmcpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdEVtcHR5KG5hbWUsXCJMZWZ0IG9wZXJhbmRcIik7XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxlZnQgPSBuYW1lO1xuICAgICAgICB0aGlzLnByaXZhdGVzXy5sb3AgPSBcIm9yXCI7XG4gICAgICAgIGlmICghVGV4dFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMucGFyYW1zXy4kZmlsdGVyKSkge1xuICAgICAgICAgICAgdGhpcy5wYXJhbXNfLiRmaWx0ZXIgPSBcIihcIiArIHRoaXMucGFyYW1zXy4kZmlsdGVyICsgXCIpXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb21wYXJlXyhvcCwgdmFsdWUpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdE51bGwodGhpcy5wcml2YXRlc18ubGVmdCxcIlRoZSBsZWZ0IG9wZXJhbmRcIik7XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLm9wID0gb3A7XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLnJpZ2h0ID0gdmFsdWU7IHJldHVybiB0aGlzLmFwcGVuZF8oKTtcbiAgICB9XG5cbiAgICBlcXVhbCh2YWx1ZTphbnkpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlXyhcImVxXCIsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBub3RFcXVhbCh2YWx1ZTphbnkpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlXyhcIm5lXCIsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBncmVhdGVyVGhhbih2YWx1ZTphbnkpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlXyhcImd0XCIsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBncmVhdGVyT3JFcXVhbCh2YWx1ZTphbnkpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlXyhcImdlXCIsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBsb3dlclRoYW4odmFsdWU6YW55KTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZV8oXCJsdFwiLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgbG93ZXJPckVxdWFsKHZhbHVlOmFueSk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVfKFwibGVcIiwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZTJcbiAgICAgKiBAcmV0dXJucyB7Q2xpZW50RGF0YVF1ZXJ5YWJsZX1cbiAgICAgKi9cbiAgICBiZXR3ZWVuKHZhbHVlMTphbnksIHZhbHVlMjphbnkpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdE51bGwodGhpcy5wcml2YXRlc18ubGVmdCxcIlRoZSBsZWZ0IG9wZXJhbmRcIik7XG4gICAgICAgIC8vZ2VuZXJhdGUgbmV3IGZpbHRlclxuICAgICAgICBjb25zdCBzID0gQ2xpZW50RGF0YVF1ZXJ5YWJsZS5jcmVhdGUodGhpcy5nZXRNb2RlbCgpKVxuICAgICAgICAgICAgLndoZXJlKHRoaXMucHJpdmF0ZXNfLmxlZnQpLmdyZWF0ZXJPckVxdWFsKHZhbHVlMSlcbiAgICAgICAgICAgIC5hbmQodGhpcy5wcml2YXRlc18ubGVmdCkubG93ZXJPckVxdWFsKHZhbHVlMikudG9GaWx0ZXIoKTtcbiAgICAgICAgdGhpcy5wcml2YXRlc18ubG9wID0gdGhpcy5wcml2YXRlc18ubG9wIHx8IFwiYW5kXCI7XG4gICAgICAgIGlmICh0aGlzLnBhcmFtc18uJGZpbHRlcikge1xuICAgICAgICAgICAgdGhpcy5wYXJhbXNfLiRmaWx0ZXIgPSBcIihcIiArIHRoaXMucGFyYW1zXy4kZmlsdGVyICsgXCIpIFwiICsgdGhpcy5wcml2YXRlc18ubG9wICsgXCIgKFwiICsgcyArIFwiKVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYXJhbXNfLiRmaWx0ZXIgPSBcIihcIiArIHMgKyBcIilcIjtcbiAgICAgICAgfVxuICAgICAgICAvL2NsZWFyIG9iamVjdFxuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gbnVsbDsgdGhpcy5wcml2YXRlc18ub3AgPSBudWxsOyB0aGlzLnByaXZhdGVzXy5yaWdodCA9IG51bGw7IHRoaXMucHJpdmF0ZXNfLmxvcCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRvRmlsdGVyKCk6c3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1zXy4kZmlsdGVyO1xuICAgIH1cblxuICAgIGNvbnRhaW5zKHZhbHVlOmFueSk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIEFyZ3Mubm90TnVsbCh0aGlzLnByaXZhdGVzXy5sZWZ0LFwiVGhlIGxlZnQgb3BlcmFuZFwiKTtcbiAgICAgICAgdGhpcy5wcml2YXRlc18ub3AgPSAnZ2UnO1xuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gVGV4dFV0aWxzLmZvcm1hdCgnaW5kZXhvZiglcywlcyknLCB0aGlzLnByaXZhdGVzXy5sZWZ0LCB0aGlzLmVzY2FwZV8odmFsdWUpKTtcbiAgICAgICAgdGhpcy5wcml2YXRlc18ucmlnaHQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBlbmRfKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZ2dyZWdhdGVfKGZuOnN0cmluZyk6IENsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdE51bGwodGhpcy5wcml2YXRlc18ubGVmdCxcIlRoZSBsZWZ0IG9wZXJhbmRcIik7XG4gICAgICAgIHRoaXMucHJpdmF0ZXNfLmxlZnQgPSBUZXh0VXRpbHMuZm9ybWF0KCclcyglcyknLCBmbiwgdGhpcy5wcml2YXRlc18ubGVmdCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldERhdGUoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcImRhdGVcIik7XG4gICAgfVxuXG4gICAgZ2V0RGF5KCk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJkYXlcIik7XG4gICAgfVxuXG4gICAgZ2V0TW9udGgoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcIm1vbnRoXCIpO1xuICAgIH1cblxuICAgIGdldFllYXIoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcInllYXJcIik7XG4gICAgfVxuXG4gICAgZ2V0RnVsbFllYXIoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcInllYXJcIik7XG4gICAgfVxuXG4gICAgZ2V0SG91cnMoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcImhvdXJcIik7XG4gICAgfVxuXG4gICAgZ2V0TWludXRlcygpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVfKFwibWludXRlXCIpO1xuICAgIH1cblxuICAgIGdldFNlY29uZHMoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcInNlY29uZFwiKTtcbiAgICB9XG5cbiAgICBsZW5ndGgoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlXyhcImxlbmd0aFwiKTtcbiAgICB9XG5cbiAgICB0cmltKCk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJ0cmltXCIpO1xuICAgIH1cblxuICAgIHRvTG9jYWxlTG93ZXJDYXNlKCk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJ0b2xvd2VyXCIpO1xuICAgIH1cblxuICAgIHRvTG93ZXJDYXNlKCk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJ0b2xvd2VyXCIpO1xuICAgIH1cblxuICAgIHRvTG9jYWxlVXBwZXJDYXNlKCk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJ0b3VwcGVyXCIpO1xuICAgIH1cblxuICAgIHRvVXBwZXJDYXNlKCk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJ0b3VwcGVyXCIpO1xuICAgIH1cblxuICAgIHJvdW5kKCk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZV8oXCJyb3VuZFwiKTtcbiAgICB9XG5cbiAgICBmbG9vcigpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVfKFwiZmxvb3JcIik7XG4gICAgfVxuXG4gICAgY2VpbCgpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGVfKFwiY2VpbGluZ1wiKTtcbiAgICB9XG5cbiAgICBpbmRleE9mKHM6c3RyaW5nKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5ub3ROdWxsKHRoaXMucHJpdmF0ZXNfLmxlZnQsXCJUaGUgbGVmdCBvcGVyYW5kXCIpO1xuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gVGV4dFV0aWxzLmZvcm1hdCgnaW5kZXhvZiglcywlcyknLCB0aGlzLnByaXZhdGVzXy5sZWZ0LCB0aGlzLmVzY2FwZV8ocykpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdWJzdHIocG9zOm51bWJlcixsZW5ndGg6bnVtYmVyKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5ub3ROdWxsKHRoaXMucHJpdmF0ZXNfLmxlZnQsXCJUaGUgbGVmdCBvcGVyYW5kXCIpO1xuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gVGV4dFV0aWxzLmZvcm1hdCgnc3Vic3RyaW5nKCVzLCVzLCVzKScsdGhpcy5wcml2YXRlc18ubGVmdCwgcG9zLCBsZW5ndGgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdGFydHNXaXRoKHM6c3RyaW5nKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5ub3ROdWxsKHRoaXMucHJpdmF0ZXNfLmxlZnQsXCJUaGUgbGVmdCBvcGVyYW5kXCIpO1xuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gVGV4dFV0aWxzLmZvcm1hdCgnc3RhcnRzd2l0aCglcywlcyknLHRoaXMucHJpdmF0ZXNfLmxlZnQsIHRoaXMuZXNjYXBlXyhzKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGVuZHNXaXRoKHM6c3RyaW5nKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5ub3ROdWxsKHRoaXMucHJpdmF0ZXNfLmxlZnQsXCJUaGUgbGVmdCBvcGVyYW5kXCIpO1xuICAgICAgICB0aGlzLnByaXZhdGVzXy5sZWZ0ID0gVGV4dFV0aWxzLmZvcm1hdCgnZW5kc3dpdGgoJXMsJXMpJyx0aGlzLnByaXZhdGVzXy5sZWZ0LCB0aGlzLmVzY2FwZV8ocykpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZWxlY3QoLi4uYXR0cjpzdHJpbmdbXSk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIEFyZ3Mubm90TnVsbChhdHRyLCBcIkF0dHJpYnV0ZXNcIik7XG4gICAgICAgIEFyZ3MuY2hlY2soYXR0ci5sZW5ndGg+MCxcIkF0dHJpYnV0ZXMgbWF5IG5vdCBiZSBlbXB0eVwiKTtcbiAgICAgICAgY29uc3QgYXJyID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgQXJncy5jaGVjayh0eXBlb2YgYXR0cltpXSA9PT0gXCJzdHJpbmdcIiwgXCJJbnZhbGlkIGF0dHJpYnV0ZS4gRXhwZWN0ZWQgc3RyaW5nLlwiKTtcbiAgICAgICAgICAgIGFyci5wdXNoKGF0dHJbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyYW1zXy4kc2VsZWN0ID0gYXJyLmpvaW4oXCIsXCIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBncm91cEJ5KC4uLmF0dHI6c3RyaW5nW10pOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdE51bGwoYXR0ciwgXCJBdHRyaWJ1dGVzXCIpO1xuICAgICAgICBBcmdzLmNoZWNrKGF0dHIubGVuZ3RoPjAsXCJBdHRyaWJ1dGVzIG1heSBub3QgYmUgZW1wdHlcIik7XG4gICAgICAgIGNvbnN0IGFyciA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIEFyZ3MuY2hlY2sodHlwZW9mIGF0dHJbaV0gPT09IFwic3RyaW5nXCIsIFwiSW52YWxpZCBhdHRyaWJ1dGUuIEV4cGVjdGVkIHN0cmluZy5cIik7XG4gICAgICAgICAgICBhcnIucHVzaChhdHRyW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcmFtc18uJGdyb3VwYnkgPSBhcnIuam9pbihcIixcIik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGV4cGFuZCguLi5hdHRyOnN0cmluZ1tdKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5ub3ROdWxsKGF0dHIsIFwiQXR0cmlidXRlc1wiKTtcbiAgICAgICAgQXJncy5jaGVjayhhdHRyLmxlbmd0aD4wLFwiQXR0cmlidXRlcyBtYXkgbm90IGJlIGVtcHR5XCIpO1xuICAgICAgICBjb25zdCBhcnIgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBBcmdzLmNoZWNrKHR5cGVvZiBhdHRyW2ldID09PSBcInN0cmluZ1wiLCBcIkludmFsaWQgYXR0cmlidXRlLiBFeHBlY3RlZCBzdHJpbmcuXCIpO1xuICAgICAgICAgICAgYXJyLnB1c2goYXR0cltpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJhbXNfLiRleHBhbmQgPSBhcnIuam9pbihcIixcIik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG9yZGVyQnkoYXR0cjpzdHJpbmcpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdEVtcHR5KGF0dHIsXCJPcmRlciBieSBhdHRyaWJ1dGVcIik7XG4gICAgICAgIHRoaXMucGFyYW1zXy4kb3JkZXJieSA9IGF0dHIudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdGhlbkJ5KGF0dHI6c3RyaW5nKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5ub3RFbXB0eShhdHRyLFwiT3JkZXIgYnkgYXR0cmlidXRlXCIpO1xuICAgICAgICB0aGlzLnBhcmFtc18uJG9yZGVyYnkgKz0gKHRoaXMucGFyYW1zXy4kb3JkZXJieSA/ICcsJyArIGF0dHIudG9TdHJpbmcoKSA6IGF0dHIudG9TdHJpbmcoKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG9yZGVyQnlEZXNjZW5kaW5nKGF0dHI6c3RyaW5nKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5ub3RFbXB0eShhdHRyLFwiT3JkZXIgYnkgYXR0cmlidXRlXCIpO1xuICAgICAgICB0aGlzLnBhcmFtc18uJG9yZGVyYnkgPSBhdHRyLnRvU3RyaW5nKCkgKyBcIiBkZXNjXCI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRoZW5CeURlc2NlbmRpbmcoYXR0cjpzdHJpbmcpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdEVtcHR5KGF0dHIsXCJPcmRlciBieSBhdHRyaWJ1dGVcIik7XG4gICAgICAgIHRoaXMucGFyYW1zXy4kb3JkZXJieSArPSAodGhpcy5wYXJhbXNfLiRvcmRlcmJ5ID8gJywnICsgYXR0ci50b1N0cmluZygpIDogYXR0ci50b1N0cmluZygpKSArIFwiIGRlc2NcIjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2tpcChudW06bnVtYmVyKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgdGhpcy5wYXJhbXNfLiRza2lwID0gbnVtO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0YWtlKG51bTpudW1iZXIpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICB0aGlzLnBhcmFtc18uJHRvcCA9IG51bTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZmlyc3QoKTpQcm9taXNlPGFueT4ge1xuICAgICAgICBkZWxldGUgdGhpcy5wYXJhbXNfLiR0b3A7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnBhcmFtc18uJHNraXA7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnBhcmFtc18uJGNvdW50O1xuICAgICAgICB0aGlzLnBhcmFtc18uJGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VydmljZSgpLmV4ZWN1dGUoe1xuICAgICAgICAgICAgbWV0aG9kOlwiR0VUXCIsXG4gICAgICAgICAgICB1cmw6dGhpcy5nZXRVcmwoKSxcbiAgICAgICAgICAgIGRhdGE6dGhpcy5wYXJhbXNfLFxuICAgICAgICAgICAgaGVhZGVyczpbXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsaXN0KCk6UHJvbWlzZTxhbnk+IHtcbiAgICAgICAgZGVsZXRlIHRoaXMucGFyYW1zXy4kZmlyc3Q7XG4gICAgICAgIHRoaXMucGFyYW1zXy4kY291bnQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZXJ2aWNlKCkuZXhlY3V0ZSh7XG4gICAgICAgICAgICBtZXRob2Q6XCJHRVRcIixcbiAgICAgICAgICAgIHVybDp0aGlzLmdldFVybCgpLFxuICAgICAgICAgICAgZGF0YTp0aGlzLnBhcmFtc18sXG4gICAgICAgICAgICBoZWFkZXJzOnt9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGl0ZW0oKTpQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5maXJzdCgpO1xuICAgIH1cblxuICAgIGdldEl0ZW0oKTpQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5maXJzdCgpO1xuICAgIH1cblxuICAgIGl0ZW1zKCk6UHJvbWlzZTxhbnk+IHtcbiAgICAgICAgZGVsZXRlIHRoaXMucGFyYW1zXy4kZmlyc3Q7XG4gICAgICAgIHRoaXMucGFyYW1zXy4kY291bnQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VydmljZSgpLmV4ZWN1dGUoe1xuICAgICAgICAgICAgbWV0aG9kOlwiR0VUXCIsXG4gICAgICAgICAgICB1cmw6dGhpcy5nZXRVcmwoKSxcbiAgICAgICAgICAgIGRhdGE6dGhpcy5wYXJhbXNfLFxuICAgICAgICAgICAgaGVhZGVyczp7fVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRJdGVtcygpOlByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zKCk7XG4gICAgfVxuXG4gICAgZ2V0TGlzdCgpOlByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3QoKTtcbiAgICB9XG5cbiAgICBmaWx0ZXIoczpzdHJpbmcpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBBcmdzLm5vdEVtcHR5KFwic1wiLFwiRmlsdGVyIGV4cHJlc3Npb25cIik7XG4gICAgICAgIHRoaXMucGFyYW1zXy4kZmlsdGVyID0gcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgbGV2ZWxzKG46bnVtYmVyKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5Qb3NpdGl2ZShuLCAnTGV2ZWxzJyk7XG4gICAgICAgIHRoaXMucGFyYW1zXy4kbGV2ZWxzID0gbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBDbGllbnREYXRhTW9kZWwge1xuXG4gICAgcHJpdmF0ZSBuYW1lXzpzdHJpbmc7XG4gICAgcHJpdmF0ZSB1cmxfOnN0cmluZztcbiAgICBwcml2YXRlIHNlcnZpY2VfOkNsaWVudERhdGFTZXJ2aWNlQmFzZTtcbiAgICBwcml2YXRlIGhhc05hdmlnYXRpb25MaW5rRnVuYzpGdW5jdGlvbjtcbiAgICBwcml2YXRlIGhhc1JlYWRMaW5rRnVuYzpGdW5jdGlvbjtcbiAgICBwcml2YXRlIGhhc0VkaXRMaW5rRnVuYzpGdW5jdGlvbjtcbiAgICBjb25zdHJ1Y3RvcihuYW1lOnN0cmluZywgc2VydmljZTpDbGllbnREYXRhU2VydmljZUJhc2UpIHtcbiAgICAgICAgdGhpcy5uYW1lXyA9IG5hbWU7XG4gICAgICAgIHRoaXMuc2VydmljZV8gPSBzZXJ2aWNlO1xuICAgICAgICB0aGlzLmhhc05hdmlnYXRpb25MaW5rRnVuYyA9ICgpPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFRleHRVdGlscy5mb3JtYXQoXCIlcy9pbmRleC5qc29uXCIsIHRoaXMuZ2V0TmFtZSgpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYXNSZWFkTGlua0Z1bmMgPSAoaWQ6YW55KT0+IHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0VXRpbHMuZm9ybWF0KFwiJXMvJXMvaW5kZXguanNvblwiLCB0aGlzLmdldE5hbWUoKSwgaWQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhc0VkaXRMaW5rRnVuYyA9IChpZDphbnkpPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFRleHRVdGlscy5mb3JtYXQoXCIlcy8lcy9pbmRleC5qc29uXCIsIHRoaXMuZ2V0TmFtZSgpLCBpZCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGFzTmF2aWdhdGlvbkxpbmsoZnVuYzogRnVuY3Rpb24pIHtcbiAgICAgICAgdGhpcy5oYXNOYXZpZ2F0aW9uTGlua0Z1bmMgPSBmdW5jO1xuICAgIH1cblxuICAgIGhhc0VkaXRMaW5rKGZ1bmM6IEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMuaGFzRWRpdExpbmtGdW5jID0gZnVuYztcbiAgICB9XG5cbiAgICBoYXNSZWFkTGluayhmdW5jOiBGdW5jdGlvbikge1xuICAgICAgICB0aGlzLmhhc1JlYWRMaW5rRnVuYyA9IGZ1bmM7XG4gICAgfVxuXG4gICAgZ2V0TmF2aWdhdGlvbkxpbmsoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc05hdmlnYXRpb25MaW5rRnVuYygpO1xuICAgIH1cblxuICAgIGdldFJlYWRMaW5rKGlkOmFueSkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNSZWFkTGlua0Z1bmMoaWQpO1xuICAgIH1cblxuICAgIGdldEVkaXRMaW5rKGlkOmFueSkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNFZGl0TGlua0Z1bmMoaWQpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0NsaWVudERhdGFTZXJ2aWNlQmFzZX1cbiAgICAgKi9cbiAgICBnZXRTZXJ2aWNlKCk6IENsaWVudERhdGFTZXJ2aWNlQmFzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VfO1xuICAgIH1cblxuICAgIGdldE5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZV87XG4gICAgfVxuXG4gICAgYXNRdWVyeWFibGUoKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgcmV0dXJuIENsaWVudERhdGFRdWVyeWFibGUuY3JlYXRlKHRoaXMuZ2V0TmFtZSgpLCB0aGlzLnNlcnZpY2VfKTtcbiAgICB9XG5cbiAgICB3aGVyZShhdHRyOnN0cmluZyk6Q2xpZW50RGF0YVF1ZXJ5YWJsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzUXVlcnlhYmxlKCkud2hlcmUoYXR0cik7XG4gICAgfVxuXG4gICAgc2VsZWN0KC4uLmF0dHI6c3RyaW5nW10pOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICBjb25zdCBxID0gdGhpcy5hc1F1ZXJ5YWJsZSgpO1xuICAgICAgICByZXR1cm4gcS5zZWxlY3QuYXBwbHkocSxhdHRyKTtcbiAgICB9XG5cbiAgICBza2lwKG51bTpudW1iZXIpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hc1F1ZXJ5YWJsZSgpLnNraXAobnVtKTtcbiAgICB9XG5cbiAgICB0YWtlKG51bTpudW1iZXIpOkNsaWVudERhdGFRdWVyeWFibGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hc1F1ZXJ5YWJsZSgpLnRha2UobnVtKTtcbiAgICB9XG5cbiAgICBzYXZlKG9iajphbnkpOlByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlcnZpY2UoKS5leGVjdXRlKHtcbiAgICAgICAgICAgIG1ldGhvZDpcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDpUZXh0VXRpbHMuZm9ybWF0KFwiJXMvaW5kZXguanNvblwiLCB0aGlzLmdldE5hbWUoKSksXG4gICAgICAgICAgICBkYXRhOm9iaixcbiAgICAgICAgICAgIGhlYWRlcnM6e31cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2NoZW1hKCk6UHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VydmljZSgpLmV4ZWN1dGUoeyBtZXRob2Q6XCJHRVRcIixcbiAgICAgICAgICAgIHVybDpUZXh0VXRpbHMuZm9ybWF0KFwiJXMvc2NoZW1hLmpzb25cIiwgdGhpcy5nZXROYW1lKCkpLFxuICAgICAgICAgICAgZGF0YTpudWxsLFxuICAgICAgICAgICAgaGVhZGVyczp7fVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW1vdmUob2JqOmFueSk6UHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VydmljZSgpLmV4ZWN1dGUoeyBtZXRob2Q6XCJERUxFVEVcIixcbiAgICAgICAgICAgIHVybDpUZXh0VXRpbHMuZm9ybWF0KFwiJXMvaW5kZXguanNvblwiLCB0aGlzLmdldE5hbWUoKSksXG4gICAgICAgICAgICBkYXRhOm9iaixcbiAgICAgICAgICAgIGhlYWRlcnM6e31cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGV2ZWxzKG46bnVtYmVyKTpDbGllbnREYXRhUXVlcnlhYmxlIHtcbiAgICAgICAgQXJncy5Qb3NpdGl2ZShuLCAnTGV2ZWxzJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmFzUXVlcnlhYmxlKCkubGV2ZWxzKG4pO1xuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgQ2xpZW50RGF0YUNvbnRleHQgaW1wbGVtZW50cyBDbGllbnREYXRhQ29udGV4dEJhc2Uge1xuXG4gICAgcHJpdmF0ZSBzZXJ2aWNlXzpDbGllbnREYXRhU2VydmljZUJhc2U7XG4gICAgcHJpdmF0ZSBiYXNlXzpzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihzZXJ2aWNlIDogQ2xpZW50RGF0YVNlcnZpY2VCYXNlKSB7XG4gICAgICAgIHRoaXMuc2VydmljZV8gPSBzZXJ2aWNlO1xuICAgIH1cblxuICAgIHNldEJhc2ljQXV0aG9yaXphdGlvbiAodXNlcm5hbWU6c3RyaW5nLCBwYXNzd29yZDpzdHJpbmcpOkNsaWVudERhdGFDb250ZXh0IHtcbiAgICAgICAgdGhpcy5nZXRTZXJ2aWNlKCkuc2V0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJhc2ljIFwiICsgVGV4dFV0aWxzLnRvQmFzZTY0KHVzZXJuYW1lICsgXCI6XCIgKyBwYXNzd29yZCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZXRCZWFyZXJBdXRob3JpemF0aW9uIChhY2Nlc3NfdG9rZW46IHN0cmluZyk6Q2xpZW50RGF0YUNvbnRleHQge1xuICAgICAgICB0aGlzLmdldFNlcnZpY2UoKS5zZXRIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIFwiQmVhcmVyIFwiICsgYWNjZXNzX3Rva2VuKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHN0cmluZyB3aGljaCByZXByZXNlbnRzIHRoZSBiYXNlIFVSTCBvZiB0aGUgTU9TVCBXZWIgQXBwbGljYXRpb24gU2VydmVyLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0QmFzZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlXztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgc3RyaW5nIHdoaWNoIHJlcHJlc2VudHMgdGhlIGJhc2UgVVJMIG9mIHRoZSBNT1NUIFdlYiBBcHBsaWNhdGlvbiBTZXJ2ZXIuXG4gICAgICovXG4gICAgc2V0QmFzZSh2YWx1ZTpzdHJpbmcpOkNsaWVudERhdGFDb250ZXh0QmFzZSB7XG4gICAgICAgIEFyZ3Mubm90RW1wdHkodmFsdWUsXCJCYXNlIFVSTFwiKTtcbiAgICAgICAgdGhpcy5iYXNlXyA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnN0YW5jZSBvZiBDbGllbnREYXRhU2VydmljZSBjbGFzcyB3aGljaCBpcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBkYXRhIGNvbnRleHQuXG4gICAgICogQHJldHVybnMge0NsaWVudERhdGFTZXJ2aWNlQmFzZX1cbiAgICAgKi9cbiAgICBnZXRTZXJ2aWNlKCk6IENsaWVudERhdGFTZXJ2aWNlQmFzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VfO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gaW5zdGFuY2Ugb2YgQ2xpZW50RGF0YU1vZGVsIGNsYXNzXG4gICAgICogQHBhcmFtIG5hbWUgLSBBIHN0cmluZyB3aGljaCByZXByZXNlbnRzIHRoZSBuYW1lIG9mIHRoZSBkYXRhIG1vZGVsLlxuICAgICAqIEByZXR1cm5zIHtDbGllbnREYXRhTW9kZWx9XG4gICAgICovXG4gICAgbW9kZWwobmFtZTpzdHJpbmcpOiBDbGllbnREYXRhTW9kZWwge1xuICAgICAgICBBcmdzLm5vdEVtcHR5KG5hbWUsXCJNb2RlbCBuYW1lXCIpO1xuICAgICAgICByZXR1cm4gbmV3IENsaWVudERhdGFNb2RlbChuYW1lLCB0aGlzLmdldFNlcnZpY2UoKSk7XG4gICAgfVxuXG5cbn1cblxuZXhwb3J0IGNsYXNzIENsaWVudERhdGFTZXJ2aWNlIGltcGxlbWVudHMgQ2xpZW50RGF0YVNlcnZpY2VCYXNlIHtcblxuXG4gICAgcHJpdmF0ZSBiYXNlXzpzdHJpbmc7XG4gICAgcHJpdmF0ZSBoZWFkZXJzXzogYW55O1xuXG4gICAgY29uc3RydWN0b3IoYmFzZTpzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzXyA9IHt9O1xuICAgICAgICBpZiAodHlwZW9mIGJhc2UgPT09ICd1bmRlZmluZWQnIHx8IGJhc2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5iYXNlXyA9IFwiL1wiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iYXNlXyA9IGJhc2U7XG4gICAgICAgICAgICBpZiAoIS9cXC8kLy50ZXN0KHRoaXMuYmFzZV8pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlXyArPSBcIi9cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0SGVhZGVyKG5hbWU6c3RyaW5nLCB2YWx1ZTpzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzX1tuYW1lXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldEhlYWRlcnMoKTphbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5oZWFkZXJzXztcbiAgICB9XG5cbiAgICBnZXRCYXNlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VfO1xuICAgIH1cblxuICAgIHJlc29sdmUocmVsYXRpdmU6IHN0cmluZykge1xuICAgICAgICBpZiAodHlwZW9mIHJlbGF0aXZlID09PSAnc3RyaW5nJyAmJiByZWxhdGl2ZS5sZW5ndGg+MCkge1xuICAgICAgICAgICAgaWYgKC9eXFwvLy50ZXN0KHJlbGF0aXZlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRCYXNlKCkgKyByZWxhdGl2ZS5zdWJzdHIoMSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmFzZSgpICsgcmVsYXRpdmU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgIG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQuIEV4cGVjdGVkIGEgbm90IGVtcHR5IHN0cmluZy5cIik7XG4gICAgfVxuXG5cbiAgICBleGVjdXRlKG9wdGlvbnM6IERhdGFTZXJ2aWNlRXhlY3V0ZU9wdGlvbnMpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL21vZHVsZXMvQHRoZW1vc3QvY2xpZW50L2luZGV4LnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n')}]);